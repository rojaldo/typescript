<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>Curso Completo de TypeScript</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock pre>code{display:block}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="book">
<div id="header">
<h1>Curso Completo de TypeScript</h1>
<div id="toc" class="toc">
<div id="toctitle">Contenido</div>
<ul class="sectlevel1">
<li><a href="#_introducción">Introducción</a></li>
<li><a href="#_temario_del_curso">Temario del Curso</a>
<ul class="sectlevel2">
<li><a href="#_módulo_1_fundamentos_de_typescript">Módulo 1: Fundamentos de TypeScript</a></li>
<li><a href="#_módulo_2_sistema_de_tipos_básico">Módulo 2: Sistema de Tipos Básico</a></li>
<li><a href="#_módulo_3_tipos_complejos">Módulo 3: Tipos Complejos</a></li>
<li><a href="#_módulo_4_funciones_en_typescript">Módulo 4: Funciones en TypeScript</a></li>
<li><a href="#_módulo_5_poo_en_typescript_clases_y_herencia">Módulo 5: POO en TypeScript - Clases y Herencia</a></li>
<li><a href="#_módulo_6_interfaces_y_tipos_abstractos">Módulo 6: Interfaces y Tipos Abstractos</a></li>
<li><a href="#_módulo_7_genéricos_avanzados">Módulo 7: Genéricos Avanzados</a></li>
<li><a href="#_módulo_8_tipos_utilitarios_y_avanzados">Módulo 8: Tipos Utilitarios y Avanzados</a></li>
<li><a href="#_módulo_9_módulos_y_namespaces">Módulo 9: Módulos y Namespaces</a></li>
<li><a href="#_módulo_10_programación_asincrónica">Módulo 10: Programación Asincrónica</a></li>
<li><a href="#_módulo_11_iteradores_y_generadores">Módulo 11: Iteradores y Generadores</a></li>
<li><a href="#_módulo_12_patrones_de_diseño_en_typescript">Módulo 12: Patrones de Diseño en TypeScript</a></li>
<li><a href="#_módulo_13_configuración_y_tooling">Módulo 13: Configuración y Tooling</a></li>
<li><a href="#_módulo_14_testing_en_typescript">Módulo 14: Testing en TypeScript</a></li>
<li><a href="#_módulo_15_rendimiento_y_optimización">Módulo 15: Rendimiento y Optimización</a></li>
<li><a href="#_módulo_16_arquitectura_y_escalabilidad">Módulo 16: Arquitectura y Escalabilidad</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introducción"><a class="link" href="#_introducción">Introducción</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este curso cubre TypeScript desde los fundamentos hasta aplicaciones avanzadas de producción. Progresa desde conceptos básicos de tipos hasta patrones complejos de diseño y arquitectura.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_temario_del_curso"><a class="link" href="#_temario_del_curso">Temario del Curso</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_módulo_1_fundamentos_de_typescript"><a class="link" href="#_módulo_1_fundamentos_de_typescript">Módulo 1: Fundamentos de TypeScript</a></h3>
<div class="paragraph">
<p>TypeScript es un lenguaje de programación construido sobre JavaScript que añade tipos estáticos. Este módulo introductorio establece las bases para comprender cómo TypeScript mejora la seguridad y calidad del código.</p>
</div>
<div class="sect3">
<h4 id="_1_1_qué_es_typescript_y_por_qué_lo_necesitamos"><a class="link" href="#_1_1_qué_es_typescript_y_por_qué_lo_necesitamos">1.1 ¿Qué es TypeScript y por qué lo necesitamos?</a></h4>
<div class="sect4">
<h5 id="_definición_y_propósito"><a class="link" href="#_definición_y_propósito">Definición y Propósito</a></h5>
<div class="paragraph">
<p>TypeScript es un <strong>superset tipado de JavaScript</strong> que se compila a código JavaScript limpio. Añade un sistema de tipos opcional que es verificado en tiempo de compilación (no en tiempo de ejecución).</p>
</div>
<div class="ulist">
<div class="title">Características Principales:</div>
<ul>
<li>
<p>Sistema de tipos estáticos opcional</p>
</li>
<li>
<p>Detección temprana de errores</p>
</li>
<li>
<p>Mejor autocompletado en IDEs</p>
</li>
<li>
<p>Documentación a través de tipos</p>
</li>
<li>
<p>Compatible 100% con JavaScript existente</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_por_qué_usamos_typescript"><a class="link" href="#_por_qué_usamos_typescript">Por qué usamos TypeScript</a></h5>
<div class="listingblock">
<div class="title">Problemas que resuelve:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// Problema en JavaScript puro
function sumar(a, b) {
  return a + b;  // ¿Qué pasa con strings?
}

sumar(5, 10);          // 15 ✓
sumar("5", "10");      // "510" ✗ Concatena, no suma
sumar(5, "10");        // "510" ✗ Resultado inesperado
sumar(null, undefined); // NaN ✗ Imposible detectar esto sin tipos</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Solución con TypeScript:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function sumar(a: number, b: number): number {
  return a + b;
}

sumar(5, 10);          // 15 ✓
sumar("5", "10");      // ✗ Error en compilación
sumar(5, "10");        // ✗ Error en compilación
sumar(null, undefined); // ✗ Error en compilación

// El compilador previene errores ANTES de ejecutar</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_beneficios_concretos"><a class="link" href="#_beneficios_concretos">Beneficios Concretos</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspecto</th>
<th class="tableblock halign-left valign-top">JavaScript</th>
<th class="tableblock halign-left valign-top">TypeScript</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detección de errores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runtime (cuando ya es tarde)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compilación (antes de producción)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autocompletado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limitado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Excelente (IDEs entienden los tipos)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refactoring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Riesgoso (cambia y confía)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seguro (tipos guían el cambio)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentación</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comentarios manuales</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipos son auto-documentación</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mantenimiento</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Difícil en proyectos grandes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Más fácil con tipos</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_1_2_instalación_y_configuración_inicial"><a class="link" href="#_1_2_instalación_y_configuración_inicial">1.2 Instalación y Configuración Inicial</a></h4>
<div class="sect4">
<h5 id="_instalación_de_typescript"><a class="link" href="#_instalación_de_typescript">Instalación de TypeScript</a></h5>
<div class="listingblock">
<div class="title">Opción 1: Instalar globalmente (no recomendado)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install -g typescript
tsc --version</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Opción 2: Instalar en el proyecto (recomendado)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir mi-proyecto-ts
cd mi-proyecto-ts
npm init -y
npm install --save-dev typescript

# Verificar instalación
npx tsc --version</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_crear_archivo_tsconfig_json"><a class="link" href="#_crear_archivo_tsconfig_json">Crear archivo tsconfig.json</a></h5>
<div class="paragraph">
<p>El archivo <code>tsconfig.json</code> configura cómo TypeScript compila tu código.</p>
</div>
<div class="listingblock">
<div class="title">Configuración mínima:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npx tsc --init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este comando crea <code>tsconfig.json</code> con opciones default.</p>
</div>
<div class="listingblock">
<div class="title">tsconfig.json básico:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compilerOptions": {
    "target": "ES2020",              // Versión JavaScript objetivo
    "module": "commonjs",             // Formato de módulos
    "outDir": "./dist",               // Carpeta de salida
    "rootDir": "./src",               // Carpeta de entrada
    "strict": true,                   // Verificación estricta
    "esModuleInterop": true,          // Interoperabilidad con módulos
    "skipLibCheck": true,             // Saltar verificación de libs
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src"],                 // Incluir archivos en src/
  "exclude": ["node_modules"]         // Excluir node_modules
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_estructura_de_carpetas_recomendada"><a class="link" href="#_estructura_de_carpetas_recomendada">Estructura de Carpetas Recomendada</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mi-proyecto-ts/
├── src/                    # Código fuente TypeScript
│   ├── index.ts
│   ├── utils.ts
│   └── types.ts
├── dist/                   # Código compilado (generado)
├── node_modules/
├── package.json
├── tsconfig.json
└── README.md</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_scripts_en_package_json"><a class="link" href="#_scripts_en_package_json">Scripts en package.json</a></h5>
<div class="listingblock">
<div class="title">Agregar scripts útiles:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "scripts": {
    "build": "tsc",              // Compilar
    "dev": "tsc --watch",        // Compilar en modo watch
    "start": "node dist/index.js" // Ejecutar compilado
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usar los scripts:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm run build   # Compila src/ → dist/
npm run dev     # Espera cambios y recompila
npm start       # Ejecuta el resultado compilado</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_1_3_primeros_pasos_tipos_primitivos"><a class="link" href="#_1_3_primeros_pasos_tipos_primitivos">1.3 Primeros Pasos: Tipos Primitivos</a></h4>
<div class="sect4">
<h5 id="_tu_primer_archivo_typescript"><a class="link" href="#_tu_primer_archivo_typescript">Tu Primer Archivo TypeScript</a></h5>
<div class="listingblock">
<div class="title">Crear src/index.ts:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Variables con tipos
let nombre: string = "Juan";
let edad: number = 25;
let activo: boolean = true;

console.log(`Hola, soy ${nombre} y tengo ${edad} años`);
console.log(`¿Estoy activo? ${activo}`);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Compilar y ejecutar:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm run build
npm start

# Output:
# Hola, soy Juan y tengo 25 años
# ¿Estoy activo? true</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_los_cinco_tipos_primitivos"><a class="link" href="#_los_cinco_tipos_primitivos">Los Cinco Tipos Primitivos</a></h5>
<div class="paragraph">
<p><strong>1. string</strong> - Texto</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">let mensaje: string = "Hola TypeScript";
let otroMensaje: string = 'También con comillas simples';
let plantilla: string = `Plantilla: ${mensaje}`;

console.log(mensaje);        // "Hola TypeScript"
console.log(plantilla);      // "Plantilla: Hola TypeScript"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>2. number</strong> - Números (enteros y decimales)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">let entero: number = 42;
let decimal: number = 3.14159;
let negativo: number = -100;
let infinito: number = Infinity;
let noEsNumero: number = NaN;

console.log(entero + decimal);  // 45.14159</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>3. boolean</strong> - Verdadero o Falso</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">let esVerdad: boolean = true;
let esfalso: boolean = false;

let esMayorDeEdad: boolean = 25 &gt; 18;  // true
let puedeConducir: boolean = esMayorDeEdad &amp;&amp; esVerdad;

if (puedeConducir) {
  console.log("Puedes conducir");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>4. null y undefined</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// null: "sin valor intencional"
let valor1: null = null;

// undefined: "sin valor asignado"
let valor2: undefined = undefined;

// Más comúnmente como parte de tipos opcionales
let posibleString: string | null = null;
let posibleNumero: number | undefined;

// Checar qué es qué
console.log(typeof null);      // "object" (rareza de JS)
console.log(typeof undefined); // "undefined"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>5. any</strong> - "Cualquier Tipo" (usar con cuidado)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// any desactiva la verificación de tipos
let cualquierCosa: any = "texto";
cualquierCosa = 42;          // ✓ Permitido
cualquierCosa = true;        // ✓ Permitido
cualquierCosa = { x: 100 };  // ✓ Permitido

// Esto NO da error pero es peligroso:
console.log(cualquierCosa.metodoInexistente()); // ✗ Error en runtime</code></pre>
</div>
</div>
<div class="paragraph">
<p>⚠️ <strong>Evitar <code>any</code></strong>: Es mejor usar tipos específicos o <code>unknown</code> + type guards.</p>
</div>
</div>
<div class="sect4">
<h5 id="_type_inference_inferencia_de_tipos"><a class="link" href="#_type_inference_inferencia_de_tipos">Type Inference (Inferencia de Tipos)</a></h5>
<div class="paragraph">
<p>TypeScript puede <strong>deducir tipos automáticamente</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// TypeScript infiere el tipo
let numero = 42;              // inferido como: number
let texto = "Hola";           // inferido como: string
let booleano = true;          // inferido como: boolean

// Estos errores se detectan:
numero = "texto";             // ✗ Error: Type 'string' is not assignable to type 'number'
texto = 100;                  // ✗ Error: Type 'number' is not assignable to type 'string'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es mejor ser <strong>explícito</strong> en código complejo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Explícito (preferido en equipos)
let resultado: number = sumar(5, 10);

// Implícito (OK para variables simples)
let temporal = 42;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_1_4_del_javascript_a_typescript"><a class="link" href="#_1_4_del_javascript_a_typescript">1.4 Del JavaScript a TypeScript</a></h4>
<div class="sect4">
<h5 id="_migración_gradual"><a class="link" href="#_migración_gradual">Migración Gradual</a></h5>
<div class="paragraph">
<p>TypeScript es <strong>compatible hacia atrás</strong> con JavaScript. Puedes migrar gradualmente.</p>
</div>
<div class="listingblock">
<div class="title">Paso 1: Renombrar .js a .ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Cambiar extensión
mv funciones.js funciones.ts
mv utils.js utils.ts</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Paso 2: El archivos .ts más básico sigue siendo JavaScript válido</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Este código ES VÁLIDO en TypeScript sin cambios
function sumar(a, b) {
  return a + b;
}

const resultado = sumar(5, 10);
console.log(resultado);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Paso 3: Añadir tipos gradualmente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Versión mejorada con tipos
function sumar(a: number, b: number): number {
  return a + b;
}

const resultado: number = sumar(5, 10);
console.log(resultado);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_diferencias_clave_js_vs_ts"><a class="link" href="#_diferencias_clave_js_vs_ts">Diferencias Clave: JS vs TS</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspecto</th>
<th class="tableblock halign-left valign-top">JavaScript</th>
<th class="tableblock halign-left valign-top">TypeScript</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dinámicos (runtime)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estáticos (compilación)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sintaxis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>function foo(x) {}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>function foo(x: number): number {}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compilación</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A (se ejecuta directo)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compila a JavaScript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descubiertos en runtime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descubiertos antes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Archivo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.js</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.ts</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ejecución</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>node archivo.js</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tsc &amp;&amp; node dist/archivo.js</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_ejemplo_completo_conversor_de_temperatura"><a class="link" href="#_ejemplo_completo_conversor_de_temperatura">Ejemplo Completo: Conversor de Temperatura</a></h5>
<div class="listingblock">
<div class="title">JavaScript original (sin tipos):</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// tipos.js - No hay forma de saber qué espera cada función
function celsiusAFahrenheit(celsius) {
  return (celsius * 9/5) + 32;
}

function fahrenheitACelsius(fahrenheit) {
  return (fahrenheit - 32) * 5/9;
}

console.log(celsiusAFahrenheit(0));      // 32 ✓
console.log(celsiusAFahrenheit("25"));   // "45" ✗ Bug silencioso
console.log(celsiusAFahrenheit(null));   // 32 ✗ Bug silencioso</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">TypeScript equivalente (con tipos):</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tipos.ts - Tipos explícitos previenen errores
function celsiusAFahrenheit(celsius: number): number {
  return (celsius * 9/5) + 32;
}

function fahrenheitACelsius(fahrenheit: number): number {
  return (fahrenheit - 32) * 5/9;
}

console.log(celsiusAFahrenheit(0));      // 32 ✓
console.log(celsiusAFahrenheit("25"));   // ✗ Error en compilación
console.log(celsiusAFahrenheit(null));   // ✗ Error en compilación

// Uso correcto
const enFahrenheit: number = celsiusAFahrenheit(25);
console.log(enFahrenheit);  // 77</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_compilación_y_ejecución"><a class="link" href="#_compilación_y_ejecución">Compilación y Ejecución</a></h5>
<div class="listingblock">
<div class="title">Ver el JavaScript generado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm run build
cat dist/tipos.js</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output (JavaScript limpio):</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">"use strict";
function celsiusAFahrenheit(celsius) {
  return (celsius * 9 / 5) + 32;
}
function fahrenheitACelsius(fahrenheit) {
  return (fahrenheit - 32) * 5 / 9;
}
console.log(celsiusAFahrenheit(0));
const enFahrenheit = celsiusAFahrenheit(25);
console.log(enFahrenheit);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Nota</strong>: Los tipos desaparecen en la compilación porque JavaScript no entiende de tipos. Solo se usan para validar durante el desarrollo.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos"><a class="link" href="#_ejercicios_propuestos">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Crear funciones tipadas:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear estas funciones con tipos
// 1. multiplicar(a: number, b: number): number
// 2. obtenerNombreCompleto(nombre: string, apellido: string): string
// 3. esAdulto(edad: number): boolean
// 4. cortarTexto(texto: string, longitud: number): string</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Identificar y corregir errores:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Hay errores de tipos aquí, enumerarlos
let numero: number = "42";
let mensaje: string = 100;
function saludar(nombre: string) {
  return nombre + 5;
}
saludar(123);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Inferencia de tipos:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Sin especificar tipos, ¿qué tipo infiere TypeScript?
let valor1 = 42;
let valor2 = "texto";
let valor3 = true;
let valor4 = null;
let valor5 = undefined;
// Verificar con Ctrl+Hover en VSCode</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_2_sistema_de_tipos_básico"><a class="link" href="#_módulo_2_sistema_de_tipos_básico">Módulo 2: Sistema de Tipos Básico</a></h3>
<div class="paragraph">
<p>Este módulo profundiza en el sistema de tipos de TypeScript. Comprenderás cómo combinar tipos, usar tipos especiales y manejar situaciones complejas de tipado.</p>
</div>
<div class="sect3">
<h4 id="_2_1_tipos_primitivos_revisitados"><a class="link" href="#_2_1_tipos_primitivos_revisitados">2.1 Tipos Primitivos Revisitados</a></h4>
<div class="paragraph">
<p>Ya vimos los básicos en el Módulo 1. Ahora exploramos usos más avanzados.</p>
</div>
<div class="sect4">
<h5 id="_string_más_allá_de_texto"><a class="link" href="#_string_más_allá_de_texto">string - Más allá de texto</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Strings simples
let nombre: string = "Juan";

// Template literals para composición
let saludo: string = `Hola, ${nombre}`;

// Strings multilínea
let poema: string = `
  Roses are red,
  Violets are blue,
  TypeScript types,
  Make code true.
`;

// Métodos de string disponibles
console.log(nombre.toUpperCase());     // "JUAN"
console.log(nombre.length);            // 4
console.log(nombre.includes("ua"));    // true
console.log(nombre.slice(0, 2));       // "Ju"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_number_todos_los_números_son_uno"><a class="link" href="#_number_todos_los_números_son_uno">number - Todos los números son uno</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// En JavaScript (y TypeScript), todos los números son float
let entero: number = 42;
let decimal: number = 3.14;
let negativo: number = -100;

// Valores especiales
let infinito: number = Infinity;
let menosInfinito: number = -Infinity;
let noEsNumero: number = NaN;

// Verificar tipos especiales
function esValido(n: number): boolean {
  return !isNaN(n) &amp;&amp; isFinite(n);
}

console.log(esValido(42));         // true
console.log(esValido(NaN));        // false
console.log(esValido(Infinity));   // false

// Métodos de número
let x: number = 3.7;
console.log(Math.floor(x));        // 3
console.log(Math.ceil(x));         // 4
console.log(Math.round(x));        // 4
console.log(x.toFixed(1));         // "3.7"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_boolean_lógica_pura"><a class="link" href="#_boolean_lógica_pura">boolean - Lógica pura</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Valores booleanos
let verdadero: boolean = true;
let falso: boolean = false;

// Resultados de comparaciones
let esIgual: boolean = 5 === 5;           // true
let esDiferente: boolean = 5 !== 5;       // false
let esMayor: boolean = 10 &gt; 5;            // true

// Operadores lógicos
let esValido: boolean = true &amp;&amp; false;    // false
let esUno: boolean = true || false;       // true
let esNegado: boolean = !true;            // false

// Uso en control de flujo
function procesarUsuario(esMayorDeEdad: boolean): string {
  if (esMayorDeEdad) {
    return "Acceso completo";
  }
  return "Acceso restringido";
}

console.log(procesarUsuario(true));       // "Acceso completo"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_2_tipos_especiales"><a class="link" href="#_2_2_tipos_especiales">2.2 Tipos Especiales</a></h4>
<div class="sect4">
<h5 id="_unknown_el_tipo_seguro"><a class="link" href="#_unknown_el_tipo_seguro">unknown - El tipo seguro</a></h5>
<div class="paragraph">
<p><code>unknown</code> es el tipo más seguro. Acepta cualquier valor, pero <strong>requiere validación antes de usar</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// unknown: seguro pero restrictivo
let valor: unknown = 42;          // ✓ Puede ser cualquier cosa
valor = "texto";                  // ✓ Puede cambiar de tipo
valor = { x: 100 };              // ✓ Cualquier valor está permitido

// Pero NO puedes usarlo sin verificar
console.log(valor.length);       // ✗ Error: Object is of type 'unknown'
console.log(valor + 10);         // ✗ Error: Object is of type 'unknown'

// Necesitas type guards
function procesarValor(valor: unknown) {
  // 1. Verificar tipo con typeof
  if (typeof valor === 'string') {
    console.log(valor.length);   // ✓ Seguro aquí
  }

  // 2. Verificar con instanceof
  if (valor instanceof Array) {
    console.log(valor.length);   // ✓ Seguro aquí
  }

  // 3. Verificar con type guard
  if (typeof valor === 'number') {
    console.log(valor + 10);     // ✓ Seguro aquí
  }
}

procesarValor("Hola");
procesarValor([1, 2, 3]);
procesarValor(42);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>unknown vs any</strong>:
- <code>any</code>: "Ignora tipos, confía en mí" (peligroso)
- <code>unknown</code>: "Aceptaré cualquier cosa, pero verifica antes de usar" (seguro)</p>
</div>
</div>
<div class="sect4">
<h5 id="_never_el_tipo_imposible"><a class="link" href="#_never_el_tipo_imposible">never - El tipo imposible</a></h5>
<div class="paragraph">
<p><code>never</code> representa un valor que nunca debería ocurrir.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// 1. Funciones que nunca retornan (lanzan error o loop infinito)
function lanzarError(mensaje: string): never {
  throw new Error(mensaje);
}

function loopInfinito(): never {
  while (true) {
    // nunca sale
  }
}

// Uso:
try {
  lanzarError("Algo salió mal");
} catch (error) {
  console.log("Error capturado");
}

// 2. Tipos nunca alcanzables (exhaustiveness checking)
type Accion = "crear" | "leer" | "actualizar" | "eliminar";

function manejarAccion(accion: Accion) {
  switch (accion) {
    case "crear":
      console.log("Creando...");
      break;
    case "leer":
      console.log("Leyendo...");
      break;
    case "actualizar":
      console.log("Actualizando...");
      break;
    case "eliminar":
      console.log("Eliminando...");
      break;
    default:
      // Si olvidamos un caso, TypeScript lo detecta
      const _exhaustive: never = accion;  // Error si falta case
      return _exhaustive;
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_null_y_undefined_presenciaausencia"><a class="link" href="#_null_y_undefined_presenciaausencia">null y undefined - Presencia/Ausencia</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// undefined: "Sin valor asignado"
let sinValor: undefined = undefined;
let noInicializado: number | undefined;

// null: "Sin valor intencional"
let vacio: null = null;
let puedeSerNull: string | null = null;

// Diferencia práctica
function obtenerUsuario(id: number): { nombre: string } | null {
  if (id &gt; 0) {
    return { nombre: "Juan" };
  }
  return null;  // Explícitamente: no existe
}

let usuario = obtenerUsuario(1);
if (usuario !== null) {
  console.log(usuario.nombre);  // ✓ Seguro
}

// Optional chaining (?.)
let nombre = usuario?.nombre;   // undefined si usuario es null

// Nullish coalescing (??)
let nombrePorDefecto = usuario?.nombre ?? "Anónimo";</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_3_tipos_literales_y_uniones"><a class="link" href="#_2_3_tipos_literales_y_uniones">2.3 Tipos Literales y Uniones</a></h4>
<div class="sect4">
<h5 id="_tipos_literales"><a class="link" href="#_tipos_literales">Tipos Literales</a></h5>
<div class="paragraph">
<p>Un tipo literal es un <strong>valor específico</strong>, no un tipo general.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Tipo literal: exactamente "activo"
type Estado = "activo";
let e1: Estado = "activo";     // ✓
// let e2: Estado = "inactivo"; // ✗ Error

// Tipo literal de número
type Prioridad = 1 | 2 | 3;
let p1: Prioridad = 1;         // ✓
let p2: Prioridad = 2;         // ✓
// let p3: Prioridad = 4;       // ✗ Error

// Tipo literal booleano
type Permitido = true;
let x: Permitido = true;       // ✓
// let y: Permitido = false;    // ✗ Error</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tipos_de_unión_union_types"><a class="link" href="#_tipos_de_unión_union_types">Tipos de Unión (Union Types)</a></h5>
<div class="paragraph">
<p>Un valor que <strong>puede ser uno de varios tipos</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Una variable que puede ser string O number
type Identificador = string | number;

let id1: Identificador = "ABC123";    // ✓
let id2: Identificador = 12345;       // ✓
// let id3: Identificador = true;     // ✗ Error

// Con más de dos tipos
type Valor = string | number | boolean;
let v1: Valor = "texto";              // ✓
let v2: Valor = 42;                   // ✓
let v3: Valor = true;                 // ✓

// Función que acepta unión de tipos
function procesar(valor: string | number): void {
  if (typeof valor === 'string') {
    console.log(`String: ${valor.length}`);
  } else {
    console.log(`Número: ${valor + 10}`);
  }
}

procesar("Hola");   // "String: 5"
procesar(42);       // "Número: 52"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_discriminated_unions"><a class="link" href="#_discriminated_unions">Discriminated Unions</a></h5>
<div class="paragraph">
<p>Usar un campo para distinguir qué tipo es.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Cada tipo tiene un 'type' diferente para identificarse
type Respuesta =
  | { tipo: 'exito'; datos: string }
  | { tipo: 'error'; mensaje: string }
  | { tipo: 'cargando' };

function manejarRespuesta(r: Respuesta): void {
  switch (r.tipo) {
    case 'exito':
      console.log("Datos:", r.datos);      // ✓ 'datos' existe aquí
      break;
    case 'error':
      console.log("Error:", r.mensaje);    // ✓ 'mensaje' existe aquí
      break;
    case 'cargando':
      console.log("Espera...");            // ✓ No tiene datos
      break;
  }
}

// Usar:
let resp1: Respuesta = { tipo: 'exito', datos: 'OK' };
let resp2: Respuesta = { tipo: 'error', mensaje: 'Falló' };
let resp3: Respuesta = { tipo: 'cargando' };

manejarRespuesta(resp1);
manejarRespuesta(resp2);
manejarRespuesta(resp3);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_combinación_intersection_types"><a class="link" href="#_combinación_intersection_types">Combinación: Intersection Types</a></h5>
<div class="paragraph">
<p>Combinar tipos para crear uno nuevo que tenga <strong>todas las propiedades</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type Persona = {
  nombre: string;
  edad: number;
};

type Empleado = {
  id: number;
  puesto: string;
};

// Intersection: tiene propiedades de ambos
type EmpleadoPersona = Persona &amp; Empleado;

const juan: EmpleadoPersona = {
  nombre: "Juan",
  edad: 30,
  id: 101,
  puesto: "Ingeniero"
};

console.log(juan.nombre);   // "Juan"
console.log(juan.puesto);   // "Ingeniero"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_4_type_inference_y_type_annotations"><a class="link" href="#_2_4_type_inference_y_type_annotations">2.4 Type Inference y Type Annotations</a></h4>
<div class="sect4">
<h5 id="_type_inference_deducción_automática"><a class="link" href="#_type_inference_deducción_automática">Type Inference (Deducción Automática)</a></h5>
<div class="paragraph">
<p>TypeScript <strong>infiere tipos</strong> automáticamente cuando es obvio.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// TypeScript infiere automáticamente
let numero = 42;              // infiere: number
let texto = "Hola";           // infiere: string
let booleano = true;          // infiere: boolean
let lista = [1, 2, 3];        // infiere: number[]
let objeto = { x: 10, y: 20 }; // infiere: { x: number; y: number }

// Verificar tipo inferido en VSCode: Ctrl+Click en la variable
// O pasar mouse encima para ver tooltip

// Inference en funciones
function suma(a: number, b: number) {
  return a + b;  // Infiere retorno: number
}

const resultado = suma(5, 10);  // Infiere: number</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_type_annotations_anotaciones_explícitas"><a class="link" href="#_type_annotations_anotaciones_explícitas">Type Annotations (Anotaciones Explícitas)</a></h5>
<div class="paragraph">
<p>Especificar tipos manualmente para claridad o control.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Explícito: mejor documentación
let nombre: string = "Juan";
let edad: number = 25;
let activo: boolean = true;

// En funciones
function multiplicar(a: number, b: number): number {
  return a * b;
}

// En variables complejas
let numeros: number[] = [1, 2, 3];
let tupla: [string, number] = ["hola", 42];

// En objetos
let usuario: { nombre: string; edad: number } = {
  nombre: "María",
  edad: 28
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cuándo_usar_cada_uno"><a class="link" href="#_cuándo_usar_cada_uno">Cuándo Usar Cada Uno</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Situación</th>
<th class="tableblock halign-left valign-top">Usar</th>
<th class="tableblock halign-left valign-top">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variables simples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>let x = 42;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Función publica/API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>function foo(x: number): string</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipos complejos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>let user: { name: string; age: number }</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation sí no es obvio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>let nums: number[] = [];</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Union/especial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>let id: string | number</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_errores_comunes_de_inferencia"><a class="link" href="#_errores_comunes_de_inferencia">Errores Comunes de Inferencia</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Problema 1: Array vacío
let numeros = [];  // Infiere: any[] ✗
let numeros: number[] = [];  // Correcto ✓

// Problema 2: Unión no esperada
let valor = Math.random() &gt; 0.5 ? "texto" : 42;
// Infiere: string | number
// Si esperas solo string, son errores

// Problema 3: Funciones sin tipo de retorno
function procesar(x: number) {
  if (x &gt; 0) return "positivo";
  if (x &lt; 0) return "negativo";
  // ¿Qué pasa si x === 0? No hay return
  // Debería especificar retorno
}

function procesarBien(x: number): string {
  if (x &gt; 0) return "positivo";
  if (x &lt; 0) return "negativo";
  return "cero";  // Explícito
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_const_assertions"><a class="link" href="#_const_assertions">Const Assertions</a></h5>
<div class="paragraph">
<p>Hacer que TypeScript trate valores como <strong>exactamente esos valores</strong> (literal types).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Sin as const
let color1 = "red";     // Infiere: string (podría ser cualquier string)

// Con as const
let color2 = "red" as const;  // Infiere: "red" (exactamente ese valor)

// Uso con arrays
let numeros1 = [1, 2, 3];     // Infiere: number[]
let numeros2 = [1, 2, 3] as const;  // Infiere: readonly [1, 2, 3]

// Uso con objetos
let obj1 = { x: 10, y: 20 };
// Infiere: { x: number; y: number }

let obj2 = { x: 10, y: 20 } as const;
// Infiere: { readonly x: 10; readonly y: 20 }

// Ejemplo práctico: colores disponibles
type ColoresPermitidos = "rojo" | "verde" | "azul";

const colores = ["rojo", "verde", "azul"] as const;
// TypeScript sabe que cada elemento es ColoresPermitidos exacto</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_2"><a class="link" href="#_ejercicios_propuestos_2">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Identificar tipos inferidos:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// ¿Qué tipo infiere TypeScript para cada variable?
let x = 42;
let y = "hola";
let z = [1, 2, 3];
let w = { nombre: "Juan" };
let v = Math.random() &gt; 0.5 ? "sí" : "no";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Usar unknown y type guards:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function procesar(valor: unknown): void {
  // Crear 3 type guards diferentes
  // 1. Para string (usar .length)
  // 2. Para número (sumar 10)
  // 3. Para array (usar .map)
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Tipos de unión en función:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función que acepte string | number | boolean
// Y retorne descripción del tipo recibido
function describir(valor: ???): string {
  // "Es string", "Es número", "Es booleano"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Discriminated union:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipo para resultado de operación:
// Éxito: { status: 'ok'; valor: number }
// Error: { status: 'error'; codigo: number }
// Y una función que maneja ambos casos</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_3_tipos_complejos"><a class="link" href="#_módulo_3_tipos_complejos">Módulo 3: Tipos Complejos</a></h3>
<div class="paragraph">
<p>Este módulo se enfoca en crear tipos más sofisticados para estructuras de datos complejas. Dominarás interfaces, type aliases, objetos anidados y los fundamentos de genéricos.</p>
</div>
<div class="sect3">
<h4 id="_3_1_interfaces_definición_y_uso"><a class="link" href="#_3_1_interfaces_definición_y_uso">3.1 Interfaces: Definición y Uso</a></h4>
<div class="paragraph">
<p>Una <strong>interfaz</strong> define la forma/estructura de un objeto. Es un contrato que especifica qué propiedades y métodos debe tener.</p>
</div>
<div class="sect4">
<h5 id="_interfaz_básica"><a class="link" href="#_interfaz_básica">Interfaz Básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Definir una interfaz
interface Usuario {
  nombre: string;
  edad: number;
  email: string;
}

// Usar la interfaz
const usuario1: Usuario = {
  nombre: "Juan",
  edad: 30,
  email: "juan@example.com"
};

// TypeScript verifica las propiedades
const usuario2: Usuario = {
  nombre: "María",
  edad: 25
  // ✗ Error: falta 'email'
};

// Las propiedades están tipadas
console.log(usuario1.nombre.toUpperCase());  // ✓ string
console.log(usuario1.edad + 5);              // ✓ number</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_propiedades_opcionales"><a class="link" href="#_propiedades_opcionales">Propiedades Opcionales</a></h5>
<div class="paragraph">
<p>Algunas propiedades pueden ser opcionales con <code>?</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Persona {
  nombre: string;
  edad: number;
  telefono?: string;          // Opcional
  direccion?: string;         // Opcional
}

const persona1: Persona = {
  nombre: "Ana",
  edad: 28
  // telefono y direccion pueden omitirse
};

const persona2: Persona = {
  nombre: "Carlos",
  edad: 35,
  telefono: "555-1234"
  // direccion sigue siendo opcional
};

// Acceso seguro a opcionales
if (persona1.telefono) {
  console.log(`Teléfono: ${persona1.telefono}`);
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_propiedades_readonly"><a class="link" href="#_propiedades_readonly">Propiedades Readonly</a></h5>
<div class="paragraph">
<p>Marcar propiedades como solo lectura.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Producto {
  id: number;           // ID puede ser modificado
  readonly sku: string; // SKU no puede cambiar
  precio: number;
}

const producto: Producto = {
  id: 1,
  sku: "PROD-001",
  precio: 99.99
};

producto.id = 2;           // ✓ Permitido
producto.precio = 149.99;  // ✓ Permitido
producto.sku = "PROD-002"; // ✗ Error: sku es readonly</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_métodos_en_interfaces"><a class="link" href="#_métodos_en_interfaces">Métodos en Interfaces</a></h5>
<div class="paragraph">
<p>Las interfaces pueden definir métodos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Calculadora {
  sumar(a: number, b: number): number;
  restar(a: number, b: number): number;
  multiplicar(a: number, b: number): number;
}

// Implementar la interfaz
const miCalculadora: Calculadora = {
  sumar: (a, b) =&gt; a + b,
  restar: (a, b) =&gt; a - b,
  multiplicar: (a, b) =&gt; a * b
};

console.log(miCalculadora.sumar(10, 5));      // 15
console.log(miCalculadora.restar(10, 5));     // 5
console.log(miCalculadora.multiplicar(10, 5)); // 50</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extender_interfaces"><a class="link" href="#_extender_interfaces">Extender Interfaces</a></h5>
<div class="paragraph">
<p>Las interfaces pueden heredar propiedades de otras.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Animal {
  nombre: string;
  edad: number;
}

interfacePerro extends Animal {
  raza: string;
  traerPelota(): void;
}

const miPerro: Perro = {
  nombre: "Rex",
  edad: 3,
  raza: "Labrador",
  traerPelota: () =&gt; console.log("¡Trae la pelota!")
};

// Heredar de múltiples interfaces
interface Volador {
  volar(): void;
}

interface Nadador {
  nadar(): void;
}

interface Pato extends Volador, Nadador {
  graznar(): void;
}

const pato: Pato = {
  volar: () =&gt; console.log("Volando..."),
  nadar: () =&gt; console.log("Nadando..."),
  graznar: () =&gt; console.log("¡Cuak!")
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_index_signatures"><a class="link" href="#_index_signatures">Index Signatures</a></h5>
<div class="paragraph">
<p>Cuando los nombres de las propiedades no se conocen de antemano.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interfaz con propiedades dinámicas
interface Diccionario {
  [key: string]: string;
}

const traduccion: Diccionario = {
  "hola": "hello",
  "adiós": "goodbye",
  "gracias": "thank you"
};

// Agregar nuevas propiedades dinámicamente
traduccion["buenos días"] = "good morning";

// Acceder
console.log(traduccion["hola"]);  // "hello"

// Ejemplo práctico: mapa de usuarios por ID
interface UsuariosMap {
  [id: number]: string;  // ID → nombre
}

const usuarios: UsuariosMap = {
  1: "Juan",
  2: "María",
  3: "Carlos"
};</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_2_type_aliases_vs_interfaces"><a class="link" href="#_3_2_type_aliases_vs_interfaces">3.2 Type Aliases vs Interfaces</a></h4>
<div class="paragraph">
<p>Ambas definen tipos, pero tienen diferencias importantes.</p>
</div>
<div class="sect4">
<h5 id="_sintaxis_básica"><a class="link" href="#_sintaxis_básica">Sintaxis Básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Type Alias
type Persona = {
  nombre: string;
  edad: number;
};

// Interfaz (equivalente)
interface Persona {
  nombre: string;
  edad: number;
}

// Uso (idéntico)
const juan: Persona = { nombre: "Juan", edad: 30 };</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_diferencias_clave"><a class="link" href="#_diferencias_clave">Diferencias Clave</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspecto</th>
<th class="tableblock halign-left valign-top">Type Alias</th>
<th class="tableblock halign-left valign-top">Interface</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sintaxis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type X = { &#8230;&#8203; }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>interface X { &#8230;&#8203; }</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extend/Herencia</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intersection <code>&amp;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extends</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declaración múltiple</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ No permitido (error)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Se fusiona automáticamente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uniones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ <code>type X = A | B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ No puede hacer uniones</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primitivos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ <code>type ID = string | number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ Solo objetos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tuplas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ <code>type Par = [string, number]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ No nativamente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Métodos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Se puede</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Se puede</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Más rápido (compilación)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ligeramente más lento</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_type_aliases_para_todo"><a class="link" href="#_type_aliases_para_todo">Type Aliases para Todo</a></h5>
<div class="paragraph">
<p>Los type aliases son más flexibles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Type alias para primitivos
type ID = string | number;
type Usuario = { nome: string; id: ID };
type Respuesta = "ok" | "error";
type Numero = number;

// Funciona con todo
const id1: ID = "usr_123";
const id2: ID = 456;

const respuesta: Respuesta = "ok";

// Union types
type Resultado = { exito: true; datos: string } | { exito: false; error: string };

const r1: Resultado = { exito: true, datos: "éxito" };
const r2: Resultado = { exito: false, error: "falló" };</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interfaz_para_oop"><a class="link" href="#_interfaz_para_oop">Interfaz para OOP</a></h5>
<div class="paragraph">
<p>Las interfaces son mejores para definir contratos en clases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interface como contrato
interface Empleado {
  id: number;
  nombre: string;
  calcularSalario(): number;
}

// Una clase implementa el contrato
class EmpleadoTiempoCompleto implements Empleado {
  id: number;
  nombre: string;
  horas: number = 40;

  constructor(id: number, nombre: string) {
    this.id = id;
    this.nombre = nombre;
  }

  calcularSalario(): number {
    return this.horas * 50;  // $50/hora
  }
}

class EmpleadoMedioTiempo implements Empleado {
  id: number;
  nombre: string;
  horas: number = 20;

  constructor(id: number, nombre: string) {
    this.id = id;
    this.nombre = nombre;
  }

  calcularSalario(): number {
    return this.horas * 60;  // $60/hora (menos horas, más paga)
  }
}

// Usar ambos como Empleado
function procesarPagos(empleados: Empleado[]): void {
  empleados.forEach(emp =&gt; {
    console.log(`${emp.nombre}: $${emp.calcularSalario()}`);
  });
}

const equipo: Empleado[] = [
  new EmpleadoTiempoCompleto(1, "Juan"),
  new EmpleadoMedioTiempo(2, "María")
];

procesarPagos(equipo);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extensiónherencia"><a class="link" href="#_extensiónherencia">Extensión/Herencia</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Type alias: usar &amp;
type Animal = { nombre: string };
type Perro = Animal &amp; { raza: string };

// Interfaz: usar extends
interface Animal {
  nombre: string;
}

interface Perro extends Animal {
  raza: string;
}

// Ambas funcionan igual para objetos
const perro: Perro = { nombre: "Rex", raza: "Labrador" };</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cuándo_usar_cada_uno_2"><a class="link" href="#_cuándo_usar_cada_uno_2">Cuándo Usar Cada Uno</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Situación</th>
<th class="tableblock halign-left valign-top">Usar</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contrato para clases</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipos compuestos/complejos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type alias</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Union types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type alias</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extender desde múltiples fuentes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface (mejor documentación)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primitivos o tuplas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type alias</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Público/API de librería</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_3_tipos_de_objetos_complejos"><a class="link" href="#_3_3_tipos_de_objetos_complejos">3.3 Tipos de Objetos Complejos</a></h4>
<div class="sect4">
<h5 id="_objetos_anidados"><a class="link" href="#_objetos_anidados">Objetos Anidados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Direccion {
  calle: string;
  ciudad: string;
  codigoPostal: string;
}

interface Usuario {
  nombre: string;
  email: string;
  direccion: Direccion;  // Tipo anidado
}

const usuario: Usuario = {
  nombre: "Ana García",
  email: "ana@example.com",
  direccion: {
    calle: "Calle Principal 123",
    ciudad: "Madrid",
    codigoPostal: "28001"
  }
};

// Acceder a propiedades anidadas
console.log(usuario.direccion.ciudad);  // "Madrid"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_arrays_tipados"><a class="link" href="#_arrays_tipados">Arrays Tipados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Producto {
  id: number;
  nombre: string;
  precio: number;
}

// Array de productos
const productos: Producto[] = [
  { id: 1, nombre: "Laptop", precio: 999.99 },
  { id: 2, nombre: "Mouse", precio: 29.99 },
  { id: 3, nombre: "Teclado", precio: 79.99 }
];

// Métodos seguros
productos.forEach(p =&gt; {
  console.log(`${p.nombre}: $${p.precio}`);
});

// Filtrar
const caros = productos.filter(p =&gt; p.precio &gt; 50);

// Mapear
const nombres = productos.map(p =&gt; p.nombre);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tuplas"><a class="link" href="#_tuplas">Tuplas</a></h5>
<div class="paragraph">
<p>Arreglos con tipos conocidos en posiciones conocidas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Tupla: [nombre, edad]
type PersonaTupla = [string, number];

let juan: PersonaTupla = ["Juan", 30];     // ✓
let maria: PersonaTupla = ["María", 25];   // ✓
let carlos: PersonaTupla = [35, "Carlos"]; // ✗ Error: tipos invertidos

// Acceder por índice (con tipos)
let nombre: string = juan[0];  // ✓ Sabe que es string
let edad: number = juan[1];    // ✓ Sabe que es number

// Tuplas con nombre (más legible)
type Respuesta = [status: number, mensaje: string, exito: boolean];

const resp: Respuesta = [200, "OK", true];
console.log(resp[0]);  // 200
console.log(resp[1]);  // "OK"

// Tupla con cantidad variable
type StringNumberBooleans = [string, number, ...boolean[]];

const a: StringNumberBooleans = ["hello", 1];
const b: StringNumberBooleans = ["hello", 1, true];
const c: StringNumberBooleans = ["hello", 1, true, false, true];</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tipos_recursivos"><a class="link" href="#_tipos_recursivos">Tipos Recursivos</a></h5>
<div class="paragraph">
<p>Un tipo que se referencia a sí mismo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Estructura en árbol
interface NodoArbol {
  valor: number;
  izquierda?: NodoArbol;  // Puede contener otro NodoArbol
  derecha?: NodoArbol;
}

const arbol: NodoArbol = {
  valor: 1,
  izquierda: {
    valor: 2,
    izquierda: { valor: 4 },
    derecha: { valor: 5 }
  },
  derecha: {
    valor: 3,
    derecha: { valor: 6 }
  }
};

// Función recursiva para procesar
function sumarArbol(nodo?: NodoArbol): number {
  if (!nodo) return 0;
  return nodo.valor + sumarArbol(nodo.izquierda) + sumarArbol(nodo.derecha);
}

console.log(sumarArbol(arbol));  // 1+2+4+5+3+6 = 21</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_4_tipos_genéricos_básicos"><a class="link" href="#_3_4_tipos_genéricos_básicos">3.4 Tipos Genéricos Básicos</a></h4>
<div class="paragraph">
<p>Los <strong>genéricos</strong> permiten crear tipos reutilizables que funcionan con cualquier tipo.</p>
</div>
<div class="sect4">
<h5 id="_genéricos_simples"><a class="link" href="#_genéricos_simples">Genéricos Simples</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Función genérica: &lt;T&gt; es un "parámetro de tipo"
function devuelveValor&lt;T&gt;(valor: T): T {
  return valor;
}

// TypeScript infiere el tipo automáticamente
const num = devuelveValor(42);          // T = number
const str = devuelveValor("hola");      // T = string
const bool = devuelveValor(true);       // T = boolean

// O especificar explícitamente
const explicito = devuelveValor&lt;number&gt;(100);

// Función que funciona con arrays
function primerElemento&lt;T&gt;(arr: T[]): T | undefined {
  return arr[0];
}

const numeros = [1, 2, 3];
const primero = primerElemento(numeros);  // T = number

const palabras = ["hola", "mundo"];
const primeraPalabra = primerElemento(palabras);  // T = string</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_genéricos_en_interfaces"><a class="link" href="#_genéricos_en_interfaces">Genéricos en Interfaces</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interfaz genérica
interface Contenedor&lt;T&gt; {
  valor: T;
  obtener(): T;
  establecer(valor: T): void;
}

// Implementación para string
const contenedorString: Contenedor&lt;string&gt; = {
  valor: "Hola",
  obtener: function() { return this.valor; },
  establecer: function(valor) { this.valor = valor; }
};

// Implementación para número
const contenedorNumero: Contenedor&lt;number&gt; = {
  valor: 42,
  obtener: function() { return this.valor; },
  establecer: function(valor) { this.valor = valor; }
};

console.log(contenedorString.obtener());  // "Hola"
console.log(contenedorNumero.obtener());  // 42</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_genéricos_en_type_aliases"><a class="link" href="#_genéricos_en_type_aliases">Genéricos en Type Aliases</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Type alias genérico
type Respuesta&lt;T&gt; = {
  exito: boolean;
  datos?: T;
  error?: string;
};

// Usar con diferentes tipos
type RespuestaUsuario = Respuesta&lt;{ nombre: string; id: number }&gt;;
type RespuestaString = Respuesta&lt;string&gt;;
type RespuestaNumero = Respuesta&lt;number&gt;;

const resp1: RespuestaUsuario = {
  exito: true,
  datos: { nombre: "Juan", id: 1 }
};

const resp2: RespuestaString = {
  exito: false,
  error: "No encontrado"
};

// Genérico para API response
type ApiResponse&lt;T&gt; = {
  status: number;
  payload: T;
  timestamp: Date;
};

const usuarioResponse: ApiResponse&lt;{ nombre: string }&gt; = {
  status: 200,
  payload: { nombre: "María" },
  timestamp: new Date()
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_restricciones_de_genéricos_básico"><a class="link" href="#_restricciones_de_genéricos_básico">Restricciones de Genéricos (Básico)</a></h5>
<div class="paragraph">
<p>Limitar qué tipos pueden usarse.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Solo permite tipos que tengan propiedad .length
function longitud&lt;T extends { length: number }&gt;(valor: T): number {
  return valor.length;
}

longitud("Hola");        // ✓ string tiene .length
longitud([1, 2, 3]);     // ✓ array tiene .length
longitud({ length: 5 }); // ✓ objeto con length
longitud(42);            // ✗ Error: number no tiene .length

// Restricción a tipos específicos
function obtenerPropiedad&lt;T extends { nombre: string }&gt;(obj: T): string {
  return obj.nombre;
}

obtenerPropiedad({ nombre: "Juan", edad: 30 });  // ✓
obtenerPropiedad({ nombre: "María" });           // ✓
obtenerPropiedad({ edad: 25 });                  // ✗ Error: falta nombre</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejemplo_práctico_lista_genérica"><a class="link" href="#_ejemplo_práctico_lista_genérica">Ejemplo Práctico: Lista Genérica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Estructura reutilizable para cualquier tipo
interface ListaElementos&lt;T&gt; {
  elementos: T[];
  agregar(elemento: T): void;
  obtener(indice: number): T | undefined;
  obtenerTodos(): T[];
  cantidad(): number;
}

// Implementación
class Lista&lt;T&gt; implements ListaElementos&lt;T&gt; {
  elementos: T[] = [];

  agregar(elemento: T): void {
    this.elementos.push(elemento);
  }

  obtener(indice: number): T | undefined {
    return this.elementos[indice];
  }

  obtenerTodos(): T[] {
    return [...this.elementos];
  }

  cantidad(): number {
    return this.elementos.length;
  }
}

// Usar para números
const listaNumeros = new Lista&lt;number&gt;();
listaNumeros.agregar(10);
listaNumeros.agregar(20);
listaNumeros.agregar(30);

console.log(listaNumeros.obtener(1));    // 20
console.log(listaNumeros.cantidad());    // 3

// Usar para strings
const listaTextos = new Lista&lt;string&gt;();
listaTextos.agregar("Hola");
listaTextos.agregar("Mundo");

console.log(listaTextos.obtener(0));     // "Hola"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_3"><a class="link" href="#_ejercicios_propuestos_3">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Crear interfaz para producto con descuento:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear interfaz Producto con propiedades:
// id, nombre, precio, descuentoPorcentaje (opcional)
// Y método para calcular precio final</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Comparar Type Alias vs Interfaz:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear una definición de Usuario con type alias
// Crear la misma con interfaz
// Notar diferencias en como se extienden</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Tipo complejo anidado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipo para Empresa con:
// nombre, sector, empleados (array de Usuario)
// Cada Usuario tiene: nombre, cargo, contacto { email, telefono }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Genérico para paginación:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipo genérico Pagina&lt;T&gt; con:
// items: T[]
// pagina: number
// total: number
// Crear instancias para números y strings</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_4_funciones_en_typescript"><a class="link" href="#_módulo_4_funciones_en_typescript">Módulo 4: Funciones en TypeScript</a></h3>
<div class="paragraph">
<p>Este módulo se enfoca en dominar el tipado de funciones. Aprenderás cómo tipar parámetros, valores de retorno, usar parámetros especiales y sobrecarga de funciones para escribir código robusto y predecible.</p>
</div>
<div class="sect3">
<h4 id="_4_1_tipado_de_parámetros_y_retorno"><a class="link" href="#_4_1_tipado_de_parámetros_y_retorno">4.1 Tipado de Parámetros y Retorno</a></h4>
<div class="sect4">
<h5 id="_parámetros_tipados"><a class="link" href="#_parámetros_tipados">Parámetros Tipados</a></h5>
<div class="paragraph">
<p>Especificar el tipo de cada parámetro.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Función básica con tipos
function saludar(nombre: string, edad: number): void {
  console.log(`Hola ${nombre}, tienes ${edad} años`);
}

saludar("Juan", 30);      // ✓ Correcto
saludar("María");         // ✗ Error: falta parámetro edad
saludar(25, "Pedro");     // ✗ Error: tipos invertidos

// Función que retorna valor
function sumar(a: number, b: number): number {
  return a + b;
}

const resultado: number = sumar(5, 10);  // 15

// Función con tipos complejos
interface Usuario {
  nombre: string;
  email: string;
}

function enviarEmail(usuario: Usuario, asunto: string): boolean {
  console.log(`Enviando email a ${usuario.email}`);
  return true;
}

const juan: Usuario = { nombre: "Juan", email: "juan@example.com" };
enviarEmail(juan, "Bienvenido");</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tipo_de_retorno_void"><a class="link" href="#_tipo_de_retorno_void">Tipo de Retorno Void</a></h5>
<div class="paragraph">
<p>Para funciones que no retornan nada.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Función que no retorna valor (solo efecto secundario)
function mostrarMensaje(msg: string): void {
  console.log(msg);
  // No hay return (o return sin valor)
}

mostrarMensaje("Hola");  // ✓

// Esto causaría error:
function conError(msg: string): void {
  console.log(msg);
  return 42;  // ✗ Error: 42 is not assignable to type void
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_retorno_implícito_vs_explícito"><a class="link" href="#_retorno_implícito_vs_explícito">Retorno Implícito vs Explícito</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// TypeScript infiere el retorno automáticamente
function multiplicar(a: number, b: number) {
  return a * b;  // Infiere: number
}

// Mejor ser explícito para funciones públicas
function dividir(a: number, b: number): number {
  if (b === 0) throw new Error("División por cero");
  return a / b;
}

// Retorno condicional (útil cuando hay múltiples caminos)
function obtenerEstado(edad: number): string {
  if (edad &lt; 18) return "Menor";
  if (edad &lt; 65) return "Adulto";
  return "Jubilado";
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_funciones_que_retornan_tipos_complejos"><a class="link" href="#_funciones_que_retornan_tipos_complejos">Funciones que Retornan Tipos Complejos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Retornar interfaz
interface Resultado {
  exito: boolean;
  mensaje: string;
  datos?: any;
}

function procesarDatos(entrada: string): Resultado {
  if (!entrada) {
    return { exito: false, mensaje: "Entrada vacía" };
  }
  return {
    exito: true,
    mensaje: "Procesado",
    datos: entrada.toUpperCase()
  };
}

// Retornar union type
function obtenerValor(tipo: string): number | string | null {
  switch (tipo) {
    case "numero":
      return 42;
    case "texto":
      return "Hola";
    case "nada":
      return null;
    default:
      throw new Error("Tipo desconocido");
  }
}

// Retornar array
function obtenerNumerosPositivos(arr: number[]): number[] {
  return arr.filter(n =&gt; n &gt; 0);
}

// Retornar función (higher-order function)
function crearMultiplicador(factor: number): (n: number) =&gt; number {
  return (n: number) =&gt; n * factor;
}

const por2 = crearMultiplicador(2);
console.log(por2(5));  // 10</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_4_2_parámetros_opcionales_y_por_defecto"><a class="link" href="#_4_2_parámetros_opcionales_y_por_defecto">4.2 Parámetros Opcionales y por Defecto</a></h4>
<div class="sect4">
<h5 id="_parámetros_opcionales"><a class="link" href="#_parámetros_opcionales">Parámetros Opcionales</a></h5>
<div class="paragraph">
<p>Usar <code>?</code> para parámetros que pueden omitirse.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Parámetro opcional
function saludarPersonalizado(nombre: string, titulo?: string): string {
  if (titulo) {
    return `Hola ${titulo} ${nombre}`;
  }
  return `Hola ${nombre}`;
}

console.log(saludarPersonalizado("Juan"));           // "Hola Juan"
console.log(saludarPersonalizado("María", "Lic."));  // "Hola Lic. María"

// Múltiples opcionales
interface ConfiguracionAPI {
  host: string;
  puerto?: number;
  ssl?: boolean;
  timeout?: number;
}

function conectarAPI(config: ConfiguracionAPI): void {
  const puerto = config.puerto || 3000;
  const ssl = config.ssl || false;
  const timeout = config.timeout || 5000;

  console.log(`Conectando a ${config.host}:${puerto}`);
  console.log(`SSL: ${ssl}, Timeout: ${timeout}ms`);
}

conectarAPI({ host: "api.example.com" });
conectarAPI({ host: "api.example.com", puerto: 8080, ssl: true });</code></pre>
</div>
</div>
<div class="paragraph">
<p>⚠️ <strong>Importante</strong>: Los parámetros opcionales deben venir al final, después de los obligatorios.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// ✓ Correcto
function foo(obligatorio: string, opcional?: number) {}

// ✗ Error: parámetro obligatorio después de opcional
function bar(opcional?: number, obligatorio: string) {}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_parámetros_con_valor_defecto"><a class="link" href="#_parámetros_con_valor_defecto">Parámetros con Valor Defecto</a></h5>
<div class="paragraph">
<p>Proporcionar un valor cuando no se pasa el parámetro.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Valor por defecto
function saludar(nombre: string, saludo: string = "Hola") {
  return `${saludo} ${nombre}`;
}

console.log(saludar("Juan"));              // "Hola Juan"
console.log(saludar("María", "Buenos días")); // "Buenos días María"

// Parámetro por defecto puede ser valor dinámico
function construirURL(host: string, puerto: number = 80, https: boolean = false): string {
  const protocolo = https ? "https" : "http";
  return `${protocolo}://${host}:${puerto}`;
}

console.log(construirURL("localhost"));                    // "http://localhost:80"
console.log(construirURL("api.example.com", 443, true));  // "https://api.example.com:443"

// Valores por defecto complejos
interface Opciones {
  enabled?: boolean;
  retries?: number;
}

function procesarConOpciones(datos: string, opciones: Opciones = {}): void {
  const enabled = opciones.enabled ?? true;
  const retries = opciones.retries ?? 3;

  console.log(`Procesando "${datos}" - Enabled: ${enabled}, Retries: ${retries}`);
}

procesarConOpciones("test1");
procesarConOpciones("test2", { enabled: false, retries: 5 });</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_diferencia_opcional_vs_por_defecto"><a class="link" href="#_diferencia_opcional_vs_por_defecto">Diferencia: Opcional vs Por Defecto</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspecto</th>
<th class="tableblock halign-left valign-top">Opcional (?)</th>
<th class="tableblock halign-left valign-top">Por Defecto (=)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si se omite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>undefined</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valor especificado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string | undefined</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pasar undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permitido</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reemplazado por defecto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentación</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Puede faltar"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Tiene valor por defecto"</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_4_3_rest_parameters_y_spread_operator"><a class="link" href="#_4_3_rest_parameters_y_spread_operator">4.3 Rest Parameters y Spread Operator</a></h4>
<div class="sect4">
<h5 id="_rest_parameters"><a class="link" href="#_rest_parameters">Rest Parameters</a></h5>
<div class="paragraph">
<p>Aceptar número variable de parámetros.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Rest parameter: ...numeros captura todo en array
function sumarTodos(...numeros: number[]): number {
  return numeros.reduce((suma, n) =&gt; suma + n, 0);
}

console.log(sumarTodos(1, 2, 3));           // 6
console.log(sumarTodos(10, 20, 30, 40));    // 100
console.log(sumarTodos());                  // 0 (array vacío)

// Rest parameter con otros parámetros
function imprimirDatos(prefijo: string, ...items: string[]): void {
  console.log(`${prefijo}:`);
  items.forEach(item =&gt; console.log(`  - ${item}`));
}

imprimirDatos("Frutas", "Manzana", "Banana", "Naranja");
// Output:
// Frutas:
//   - Manzana
//   - Banana
//   - Naranja

// Rest parameter con tipos complejos
interface Usuario {
  nombre: string;
}

function mostrarUsuarios(...usuarios: Usuario[]): void {
  usuarios.forEach(u =&gt; console.log(`Usuario: ${u.nombre}`));
}

mostrarUsuarios(
  { nombre: "Juan" },
  { nombre: "María" },
  { nombre: "Carlos" }
);

// Rest con tipos variados (usando overload o union)
function registrarEventos(evento: string, ...datos: any[]): void {
  console.log(`[${evento}]`, ...datos);
}

registrarEventos("ERROR", "Algo salió mal", { code: 500 });</code></pre>
</div>
</div>
<div class="paragraph">
<p>⚠️ <strong>Rest parámetro debe ser el último</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// ✓ Correcto
function foo(primero: string, ...resto: number[]) {}

// ✗ Error: rest parámetro no es el último
function bar(...resto: string[], ultimo: number) {}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_spread_operator"><a class="link" href="#_spread_operator">Spread Operator</a></h5>
<div class="paragraph">
<p>Expandir un array en parámetros individuales.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Spread en función call
function sumar(a: number, b: number, c: number): number {
  return a + b + c;
}

const numeros: [number, number, number] = [1, 2, 3];
console.log(sumar(...numeros));  // 6

// Spread en arrays
const grupo1: number[] = [1, 2, 3];
const grupo2: number[] = [4, 5, 6];
const combinado: number[] = [...grupo1, ...grupo2];  // [1,2,3,4,5,6]

// Spread en objetos
interface Persona {
  nombre: string;
  edad: number;
}

const personaBase: Persona = { nombre: "Juan", edad: 30 };
const personaCompleta = {
  ...personaBase,
  edad: 31,           // Sobrescribe edad
  ciudad: "Madrid"    // Agrega propiedad nueva
};
// { nombre: "Juan", edad: 31, ciudad: "Madrid" }

// Spread para copias seguras
const original = { x: 1, y: 2 };
const copia = { ...original };  // Nueva instancia, no referencia
copia.x = 999;
console.log(original.x);  // 1 (sin cambios)
console.log(copia.x);     // 999</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_combinación_rest_spread"><a class="link" href="#_combinación_rest_spread">Combinación: Rest + Spread</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function procesarNumeros(primero: number, ...resto: number[]): number[] {
  return [primero * 2, ...resto.map(n =&gt; n * 2)];
}

const resultado = procesarNumeros(5, 10, 15);
console.log(resultado);  // [10, 20, 30]

// Función que transforma todos los parámetros
function convertirAMayusculas(...textos: string[]): string[] {
  return textos.map(t =&gt; t.toUpperCase());
}

const resultado2 = convertirAMayusculas("hola", "mundo", "typescript");
console.log(resultado2);  // ["HOLA", "MUNDO", "TYPESCRIPT"]

// Usar spread para pasar array como argumentos
const palabras = ["javascript", "typescript", "nodejs"];
console.log(...convertirAMayusculas(...palabras));
// JAVASCRIPT TYPESCRIPT NODEJS</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_4_4_sobrecarga_de_funciones_function_overloading"><a class="link" href="#_4_4_sobrecarga_de_funciones_function_overloading">4.4 Sobrecarga de Funciones (Function Overloading)</a></h4>
<div class="paragraph">
<p>Definir múltiples firmas para la misma función con diferentes parámetros.</p>
</div>
<div class="sect4">
<h5 id="_sintaxis_básica_2"><a class="link" href="#_sintaxis_básica_2">Sintaxis Básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Firmas de sobrecarga (sin implementación)
function procesar(valor: string): string;
function procesar(valor: number): number;
function procesar(valor: boolean): boolean;

// Implementación (acepta cualquiera de los tipos anteriores)
function procesar(valor: string | number | boolean): string | number | boolean {
  if (typeof valor === 'string') {
    return valor.toUpperCase();
  }
  if (typeof valor === 'number') {
    return valor * 2;
  }
  return !valor;
}

console.log(procesar("hola"));    // "HOLA" (string)
console.log(procesar(5));         // 10 (number)
console.log(procesar(true));      // false (boolean)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sobrecarga_con_parámetros_variables"><a class="link" href="#_sobrecarga_con_parámetros_variables">Sobrecarga con Parámetros Variables</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Versión 1: solo string
function crear(nombre: string): string;

// Versión 2: string + edad
function crear(nombre: string, edad: number): { nombre: string; edad: number };

// Versión 3: string + edad + ciudad
function crear(nombre: string, edad: number, ciudad: string):
  { nombre: string; edad: number; ciudad: string };

// Implementación
function crear(nombre: string, edad?: number, ciudad?: string): any {
  if (!edad &amp;&amp; !ciudad) {
    return nombre;
  }
  if (edad &amp;&amp; !ciudad) {
    return { nombre, edad };
  }
  return { nombre, edad, ciudad };
}

const r1 = crear("Juan");                              // "Juan"
const r2 = crear("María", 25);                         // { nombre: "María", edad: 25 }
const r3 = crear("Carlos", 30, "Madrid");              // { nombre: "Carlos", edad: 30, ciudad: "Madrid" }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sobrecarga_real_world"><a class="link" href="#_sobrecarga_real_world">Sobrecarga Real-World</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Desde una API o librería: múltiples formas de usar
interface FiltroOpciones {
  ascending?: boolean;
  limit?: number;
}

// Filtrar sin opciones
function filtrar(datos: number[]): number[];

// Filtrar con opciones
function filtrar(datos: number[], opciones: FiltroOpciones): number[];

// Filtrar con función de predicado
function filtrar(datos: number[], predicado: (n: number) =&gt; boolean): number[];

// Implementación
function filtrar(
  datos: number[],
  opcionesOpredicado?: FiltroOpciones | ((n: number) =&gt; boolean)
): number[] {
  let resultado = datos;

  // Si es función (predicado)
  if (typeof opcionesOpredicado === 'function') {
    resultado = resultado.filter(opcionesOpredicado);
  }
  // Si es objeto (opciones)
  else if (opcionesOpredicado) {
    if (opcionesOpredicado.limit) {
      resultado = resultado.slice(0, opcionesOpredicado.limit);
    }
    if (opcionesOpredicado.ascending === false) {
      resultado = resultado.sort((a, b) =&gt; b - a);
    }
  }

  return resultado;
}

// Uso múltiple
const numeros = [3, 1, 4, 1, 5, 9];

console.log(filtrar(numeros));                                    // [3, 1, 4, 1, 5, 9]
console.log(filtrar(numeros, { ascending: false, limit: 3 }));   // [9, 5, 4]
console.log(filtrar(numeros, n =&gt; n &gt; 2));                       // [3, 4, 5, 9]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sobrecarga_con_genéricos"><a class="link" href="#_sobrecarga_con_genéricos">Sobrecarga con Genéricos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Función genérica con sobrecarga
function obtenerPrimero&lt;T&gt;(arr: T[]): T;
function obtenerPrimero&lt;T&gt;(arr: T[], indice: number): T | undefined;

function obtenerPrimero&lt;T&gt;(arr: T[], indice: number = 0): T | undefined {
  return arr[indice];
}

const numeros = [1, 2, 3];
const primero: number = obtenerPrimero(numeros);      // Type safe
const segundo: number | undefined = obtenerPrimero(numeros, 1);

const palabras = ["a", "b", "c"];
const primera: string = obtenerPrimero(palabras);     // Type safe</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cambios_comunes_en_sobrecarga"><a class="link" href="#_cambios_comunes_en_sobrecarga">Cambios Comunes en Sobrecarga</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Caso</th>
<th class="tableblock halign-left valign-top">Firmas</th>
<th class="tableblock halign-left valign-top">Uso</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parámetros variables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mismo tipo + cantidad variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Función con <code>&#8230;&#8203;rest</code> o parámetros opcionales</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipos diferentes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipos distintos para mismo parámetro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Union types + type guards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retorno distinto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mismo parámetro → retorno diferente</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discriminated unions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parámetros opcionales progresivos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Progresivamente más parámetros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cada firma añade más parámetros</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_4"><a class="link" href="#_ejercicios_propuestos_4">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Función con tipado completo:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función buscarUsuario que:
// - Reciba id: number, campos?: string[]
// - Retorne Promise&lt;Usuario | null&gt;
// - Si no encuentra usuario, null</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Rest parameters:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función concatenar que:
// - Acepte múltiples strings
// - Los una con separador (por defecto " ")
// - Retorne string resultante
// Ej: concatenar("Hola", "mundo", "!") =&gt; "Hola mundo !"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Función con sobrecarga:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función formatear con sobrecarga:
// formatear(número) =&gt; "1,234.56"
// formatear(fecha) =&gt; "24/02/2026"
// formatear(booleano) =&gt; "Sí" o "No"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Spread operator:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función mezclar que:
// - Acepte dos arrays del mismo tipo
// - Los mezcle intercalando elementos
// - Ej: mezclar([1,2], [3,4]) =&gt; [1,3,2,4]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_5_poo_en_typescript_clases_y_herencia"><a class="link" href="#_módulo_5_poo_en_typescript_clases_y_herencia">Módulo 5: POO en TypeScript - Clases y Herencia</a></h3>
<div class="paragraph">
<p>La Programación Orientada a Objetos (POO) en TypeScript permite crear código bien estructurado, reutilizable y fácil de mantener. Este módulo cubre clases, propiedades, métodos y herencia con ejemplos prácticos.</p>
</div>
<div class="sect3">
<h4 id="_5_1_definición_y_uso_de_clases"><a class="link" href="#_5_1_definición_y_uso_de_clases">5.1 Definición y Uso de Clases</a></h4>
<div class="paragraph">
<p>Una <strong>clase</strong> es un molde para crear objetos. Define propiedades y métodos que tendrán todas las instancias.</p>
</div>
<div class="sect4">
<h5 id="_clase_básica"><a class="link" href="#_clase_básica">Clase Básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Definir una clase
class Persona {
  nombre: string;
  edad: number;

  constructor(nombre: string, edad: number) {
    this.nombre = nombre;
    this.edad = edad;
  }

  saludar(): void {
    console.log(`Hola, soy ${this.nombre} y tengo ${this.edad} años`);
  }
}

// Crear instancia (nuevo objeto)
const juan = new Persona("Juan", 30);
const maria = new Persona("María", 25);

// Usar propiedades y métodos
console.log(juan.nombre);   // "Juan"
console.log(maria.edad);    // 25
juan.saludar();             // "Hola, soy Juan y tengo 30 años"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_comparación_clase_vs_interfaz_vs_type"><a class="link" href="#_comparación_clase_vs_interfaz_vs_type">Comparación: Clase vs Interfaz vs Type</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspecto</th>
<th class="tableblock halign-left valign-top">Clase</th>
<th class="tableblock halign-left valign-top">Interfaz</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Propósito</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crear objetos + lógica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define contrato/forma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define forma + uniones</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instancias</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new Clase()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A (solo tipado)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A (solo tipado)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Métodos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Con implementación</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Solo firmas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Firmas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Herencia</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extends</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extends</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;</code> (intersection)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compilado</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Código JavaScript</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se elimina en compilación</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se elimina</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_estructura_completa"><a class="link" href="#_estructura_completa">Estructura Completa</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Empleado {
  // Propiedades (campos)
  nombre: string;
  departamento: string;
  salario: number;

  // Constructor - se ejecuta al hacer new
  constructor(nombre: string, departamento: string, salario: number) {
    this.nombre = nombre;
    this.departamento = departamento;
    this.salario = salario;
  }

  // Métodos (funciones de la clase)
  obtenerInfo(): string {
    return `${this.nombre} de ${this.departamento}`;
  }

  modificarSalario(porcentaje: number): void {
    this.salario = this.salario * (1 + porcentaje / 100);
  }
}

// Uso
const empleado = new Empleado("Carlos", "IT", 3000);
console.log(empleado.obtenerInfo());     // "Carlos de IT"
empleado.modificarSalario(10);           // Aumenta 10%
console.log(empleado.salario);           // 3300</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_2_propiedades_y_métodos"><a class="link" href="#_5_2_propiedades_y_métodos">5.2 Propiedades y Métodos</a></h4>
<div class="sect4">
<h5 id="_propiedades_básicas"><a class="link" href="#_propiedades_básicas">Propiedades Básicas</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Producto {
  nombre: string;
  precio: number;
  stock: number = 0;  // Valor por defecto

  constructor(nombre: string, precio: number) {
    this.nombre = nombre;
    this.precio = precio;
  }
}

const laptop = new Producto("Laptop", 999.99);
console.log(laptop.stock);  // 0 (valor por defecto)
laptop.stock = 5;
console.log(laptop.stock);  // 5</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_propiedades_readonly_2"><a class="link" href="#_propiedades_readonly_2">Propiedades Readonly</a></h5>
<div class="paragraph">
<p>Propiedades que no pueden cambiar después de ser asignadas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Usuario {
  readonly id: number;
  nombre: string;

  constructor(id: number, nombre: string) {
    this.id = id;      // ✓ Se puede asignar en constructor
    this.nombre = nombre;
  }
}

const usuario = new Usuario(1, "Juan");
console.log(usuario.id);    // 1
usuario.nombre = "Carlos";  // ✓ OK
usuario.id = 999;           // ✗ Error: Cannot assign to readonly property 'id'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_métodos"><a class="link" href="#_métodos">Métodos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Calculadora {
  sumar(a: number, b: number): number {
    return a + b;
  }

  restar(a: number, b: number): number {
    return a - b;
  }

  multiplicar(a: number, b: number): number {
    return a * b;
  }

  dividir(a: number, b: number): number {
    if (b === 0) throw new Error("División por cero");
    return a / b;
  }
}

const calc = new Calculadora();
console.log(calc.sumar(10, 5));      // 15
console.log(calc.multiplicar(3, 4)); // 12</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_métodos_que_retornan_this"><a class="link" href="#_métodos_que_retornan_this">Métodos que Retornan this</a></h5>
<div class="paragraph">
<p>Útil para encadenamiento (method chaining).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Carrito {
  items: string[] = [];

  agregarItem(item: string): this {
    this.items.push(item);
    return this;  // Retorna la misma instancia
  }

  removerItem(item: string): this {
    this.items = this.items.filter(i =&gt; i !== item);
    return this;
  }

  obtenerTotal(): number {
    return this.items.length;
  }
}

// Encadenamiento (chaining)
const carrito = new Carrito();
carrito
  .agregarItem("Laptop")
  .agregarItem("Mouse")
  .agregarItem("Teclado")
  .removerItem("Mouse");

console.log(carrito.obtenerTotal());  // 2
console.log(carrito.items);           // ["Laptop", "Teclado"]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_métodos_estáticos"><a class="link" href="#_métodos_estáticos">Métodos Estáticos</a></h5>
<div class="paragraph">
<p>Pertenecen a la clase, no a instancias.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Utilidades {
  // Método estático - se accede sin new
  static sumarTodos(...numeros: number[]): number {
    return numeros.reduce((a, b) =&gt; a + b, 0);
  }

  static generarID(): string {
    return Math.random().toString(36).substring(2, 9);
  }
}

// Usar sin crear instancia
console.log(Utilidades.sumarTodos(1, 2, 3, 4));  // 10
console.log(Utilidades.generarID());             // "3h4k8j2" (aleatorio)

// No se puede acceder desde instancia
const utils = new Utilidades();
utils.sumarTodos(1, 2);  // ✗ Error: no acceso</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_propiedades_estáticas"><a class="link" href="#_propiedades_estáticas">Propiedades Estáticas</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Contador {
  static total: number = 0;  // Compartido por todas instancias
  id: number;

  constructor() {
    Contador.total++;
    this.id = Contador.total;
  }
}

const c1 = new Contador();
const c2 = new Contador();
const c3 = new Contador();

console.log(c1.id);              // 1
console.log(c2.id);              // 2
console.log(Contador.total);     // 3 (acumula todas las instancias)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_3_modificadores_de_acceso"><a class="link" href="#_5_3_modificadores_de_acceso">5.3 Modificadores de Acceso</a></h4>
<div class="paragraph">
<p>Controlan quién puede acceder a propiedades y métodos.</p>
</div>
<div class="sect4">
<h5 id="_public_público_default"><a class="link" href="#_public_público_default">public (Público - Default)</a></h5>
<div class="paragraph">
<p>Accesible desde cualquier lugar (dentro y fuera de la clase).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Animal {
  public nombre: string;  // Explícito (default es public)
  sonido: string;         // Implícitamente public

  constructor(nombre: string, sonido: string) {
    this.nombre = nombre;
    this.sonido = sonido;
  }

  public hablar(): void {
    console.log(`${this.nombre} hace ${this.sonido}`);
  }
}

const perro = new Animal("Rex", "Guau");
console.log(perro.nombre);   // ✓ Acceso desde fuera
perro.hablar();              // ✓ Método accesible</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_private_privado"><a class="link" href="#_private_privado">private (Privado)</a></h5>
<div class="paragraph">
<p>Solo accesible dentro de la clase.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class CuentaBancaria {
  titular: string;
  private saldo: number;  // Solo dentro de la clase

  constructor(titular: string, saldoInicial: number) {
    this.titular = titular;
    this.saldo = saldoInicial;
  }

  depositar(cantidad: number): void {
    this.saldo += cantidad;  // ✓ Acceso interno
    console.log(`Depositado ${cantidad}. Saldo: ${this.saldo}`);
  }

  private calcularInteres(): number {
    return this.saldo * 0.05;  // ✓ Método privado
  }

  obtenerSaldoConInteres(): number {
    return this.saldo + this.calcularInteres();
  }
}

const cuenta = new CuentaBancaria("Juan", 1000);
cuenta.depositar(500);              // ✓ OK
console.log(cuenta.saldo);          // ✗ Error: private
cuenta.calcularInteres();           // ✗ Error: private
console.log(cuenta.obtenerSaldoConInteres());  // ✓ OK (usa método público)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_protected_protegido"><a class="link" href="#_protected_protegido">protected (Protegido)</a></h5>
<div class="paragraph">
<p>Accesible dentro de la clase y clases que heredan.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Animal {
  protected nombre: string;     // Accesible en subclases
  private energia: number;      // Solo en esta clase

  constructor(nombre: string) {
    this.nombre = nombre;
    this.energia = 100;
  }

  protected moverse(): void {
    this.energia -= 10;
    console.log(`${this.nombre} se mueve`);
  }
}

class Perro extends Animal {
  traerObjeto(): void {
    console.log(`${this.nombre} trae el objeto`);  // ✓ protected accesible
    this.moverse();                                 // ✓ protected method
  }

  mostrarEnergia(): void {
    console.log(this.energia);  // ✗ Error: private en clase padre
  }
}

const perro = new Perro("Rex");
perro.traerObjeto();           // ✓ public
console.log(perro.nombre);     // ✗ Error: protected no desde fuera</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_comparativa_de_modificadores"><a class="link" href="#_comparativa_de_modificadores">Comparativa de Modificadores</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nivel</th>
<th class="tableblock halign-left valign-top">public</th>
<th class="tableblock halign-left valign-top">protected</th>
<th class="tableblock halign-left valign-top">private</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dentro de la clase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clases heredadas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fuera de la clase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uso común</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interfaz pública</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compartir con subclases</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detalles internos</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_5_4_constructores_y_getterssetters"><a class="link" href="#_5_4_constructores_y_getterssetters">5.4 Constructores y Getters/Setters</a></h4>
<div class="sect4">
<h5 id="_constructor"><a class="link" href="#_constructor">Constructor</a></h5>
<div class="paragraph">
<p>Se ejecuta cuando se crea una instancia con <code>new</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Persona {
  nombre: string;
  edad: number;

  // Constructor (se ejecuta automáticamente)
  constructor(nombre: string, edad: number) {
    this.nombre = nombre;
    this.edad = edad;
    console.log(`Se creó la persona: ${nombre}`);
  }
}

const juan = new Persona("Juan", 30);  // Imprime: "Se creó la persona: Juan"

// Constructor sin parámetros
class Objeto {
  id: string;

  constructor() {
    this.id = Math.random().toString(36).substring(2, 9);
  }
}

const obj = new Objeto();
console.log(obj.id);  // ID aleatorio único</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sintaxis_abreviada_del_constructor"><a class="link" href="#_sintaxis_abreviada_del_constructor">Sintaxis Abreviada del Constructor</a></h5>
<div class="paragraph">
<p>Parameter properties - declara y asigna en una línea.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Forma larga (tradicional)
class PersonaLarga {
  nombre: string;
  edad: number;
  email: string;

  constructor(nombre: string, edad: number, email: string) {
    this.nombre = nombre;
    this.edad = edad;
    this.email = email;
  }
}

// Forma corta (parameter properties)
class PersonaCorta {
  constructor(
    public nombre: string,
    public edad: number,
    public email: string
  ) {}
}

// Ambas funcionan igual
const p1 = new PersonaLarga("Juan", 30, "juan@example.com");
const p2 = new PersonaCorta("María", 25, "maria@example.com");

console.log(p1.nombre);  // "Juan"
console.log(p2.email);   // "maria@example.com"

// Con modificadores
class Usuario {
  constructor(
    public id: number,
    public nombre: string,
    protected email: string,
    private contraseña: string
  ) {}
}

const usuario = new Usuario(1, "Carlos", "carlos@example.com", "secret123");
console.log(usuario.nombre);        // ✓ public
console.log(usuario.email);         // ✗ protected
console.log(usuario.contraseña);    // ✗ private</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_getters"><a class="link" href="#_getters">Getters</a></h5>
<div class="paragraph">
<p>Métodos que parecen propiedades pero ejecutan lógica.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Rectangulo {
  private ancho: number;
  private alto: number;

  constructor(ancho: number, alto: number) {
    this.ancho = ancho;
    this.alto = alto;
  }

  // Getter - se accede sin ()
  get area(): number {
    return this.ancho * this.alto;
  }

  get perimetro(): number {
    return 2 * (this.ancho + this.alto);
  }

  // Parecen propiedades pero calculan
  get esCuadrado(): boolean {
    return this.ancho === this.alto;
  }
}

const rect = new Rectangulo(10, 5);
console.log(rect.area);        // 50 (no es método, sin parentesis)
console.log(rect.perimetro);   // 30
console.log(rect.esCuadrado);  // false

// Acceso a privados a través de getters
const cuadrado = new Rectangulo(5, 5);
console.log(cuadrado.esCuadrado);  // true
// console.log(cuadrado.ancho);     // ✗ Error: private</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_setters"><a class="link" href="#_setters">Setters</a></h5>
<div class="paragraph">
<p>Métodos para establecer valores con validación.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class CuentaBancaria {
  private _saldo: number;  // Convención: _ para propiedades privadas

  constructor(saldoInicial: number) {
    this._saldo = saldoInicial;
  }

  // Getter
  get saldo(): number {
    return this._saldo;
  }

  // Setter con validación
  set saldo(cantidad: number) {
    if (cantidad &lt; 0) {
      throw new Error("El saldo no puede ser negativo");
    }
    this._saldo = cantidad;
  }

  // Método para depositar (usa setter internamente)
  depositar(cantidad: number): void {
    this.saldo = this._saldo + cantidad;  // Valida a través del setter
  }
}

const cuenta = new CuentaBancaria(1000);
console.log(cuenta.saldo);    // 1000 (getter)
cuenta.saldo = 1500;          // ✓ setter con validación
cuenta.depositar(200);        // ✓ 1700
cuenta.saldo = -100;          // ✗ Error: El saldo no puede ser negativo</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_getters_y_setters_prácticos"><a class="link" href="#_getters_y_setters_prácticos">Getters y Setters Prácticos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Producto {
  private _nombre: string;
  private _precio: number;
  private _stock: number = 0;

  constructor(nombre: string, precio: number) {
    this._nombre = nombre;
    this._precio = precio;
  }

  get nombre(): string {
    return this._nombre;
  }

  set nombre(nuevoNombre: string) {
    if (!nuevoNombre.trim()) {
      throw new Error("El nombre no puede estar vacío");
    }
    this._nombre = nuevoNombre;
  }

  get precio(): number {
    return this._precio;
  }

  set precio(nuevoPrecio: number) {
    if (nuevoPrecio &lt; 0) {
      throw new Error("El precio no puede ser negativo");
    }
    this._precio = nuevoPrecio;
  }

  get stock(): number {
    return this._stock;
  }

  set stock(cantidad: number) {
    if (cantidad &lt; 0) {
      throw new Error("El stock no puede ser negativo");
    }
    this._stock = cantidad;
  }

  get disponible(): boolean {
    return this._stock &gt; 0;
  }
}

const laptop = new Producto("Laptop", 999.99);
laptop.stock = 5;
console.log(`${laptop.nombre} - $${laptop.precio} - ${laptop.disponible}`);  // Usa getters
laptop.precio = 899.99;  // Usa setter con validación
laptop.stock = -10;      // ✗ Error</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_5_herencia_y_polimorfismo"><a class="link" href="#_5_5_herencia_y_polimorfismo">5.5 Herencia y Polimorfismo</a></h4>
<div class="sect4">
<h5 id="_herencia_básica"><a class="link" href="#_herencia_básica">Herencia Básica</a></h5>
<div class="paragraph">
<p>Una clase puede heredar de otra usando <code>extends</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Clase base (padre)
class Animal {
  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }

  hablar(): void {
    console.log(`${this.nombre} hace un sonido`);
  }

  dormir(): void {
    console.log(`${this.nombre} está durmiendo`);
  }
}

// Clase derivada (hija)
class Perro extends Animal {
  raza: string;

  constructor(nombre: string, raza: string) {
    super(nombre);  // Llama al constructor del padre
    this.raza = raza;
  }

  // Sobrescribe el método del padre
  hablar(): void {
    console.log(`${this.nombre} ladra: ¡Guau guau!`);
  }

  traer(): void {
    console.log(`${this.nombre} trae la pelota`);
  }
}

const perro = new Perro("Rex", "Labrador");
perro.hablar();   // "Rex ladra: ¡Guau guau!" (método sobrescrito)
perro.dormir();   // "Rex está durmiendo" (heredado)
perro.traer();    // "Rex trae la pelota" (método nuevo)
console.log(perro.nombre);  // "Rex" (propiedad heredada)
console.log(perro.raza);    // "Labrador" (propiedad nueva)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_super_acceso_a_la_clase_padre"><a class="link" href="#_super_acceso_a_la_clase_padre">super - Acceso a la Clase Padre</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Vehiculo {
  marca: string;
  modelo: string;

  constructor(marca: string, modelo: string) {
    this.marca = marca;
    this.modelo = modelo;
  }

  especificaciones(): string {
    return `${this.marca} ${this.modelo}`;
  }

  arrancar(): void {
    console.log("Vehículo iniciando...");
  }
}

class Auto extends Vehiculo {
  puertas: number;

  constructor(marca: string, modelo: string, puertas: number) {
    super(marca, modelo);  // Llama constructor del padre
    this.puertas = puertas;
  }

  // Amplía el método del padre
  arrancar(): void {
    super.arrancar();                    // Usa método del padre
    console.log("Auto listo para conducir");
  }

  especificaciones(): string {
    return `${super.especificaciones()}, ${this.puertas} puertas`;
  }
}

const auto = new Auto("Toyota", "Corolla", 4);
auto.arrancar();                        // Usa super.arrancar()
console.log(auto.especificaciones());   // Usa super.especificaciones()</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_polimorfismo"><a class="link" href="#_polimorfismo">Polimorfismo</a></h5>
<div class="paragraph">
<p>Diferentes clases responden al mismo método de forma diferente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Animal {
  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }

  hacerSonido(): string {
    return "Sonido genérico";
  }
}

class Perro extends Animal {
  hacerSonido(): string {
    return "¡Guau!";
  }
}

class Gato extends Animal {
  hacerSonido(): string {
    return "¡Miau!";
  }
}

class Pajaro extends Animal {
  hacerSonido(): string {
    return "¡Pío pío!";
  }
}

// Polimorfismo: mismo método, diferentes implementaciones
function hacerAnimalBablear(animal: Animal): void {
  console.log(`${animal.nombre}: ${animal.hacerSonido()}`);
}

const animales: Animal[] = [
  new Perro("Rex"),
  new Gato("Whiskers"),
  new Pajaro("Tweety")
];

animales.forEach(a =&gt; hacerAnimalBablear(a));
// Output:
// Rex: ¡Guau!
// Whiskers: ¡Miau!
// Tweety: ¡Pío pío!

// El método llamado depende del tipo real de la instancia</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_herencia_múltiple_con_interfaces"><a class="link" href="#_herencia_múltiple_con_interfaces">Herencia Múltiple con Interfaces</a></h5>
<div class="paragraph">
<p>TypeScript no permite herencia múltiple de clases, pero sí de interfaces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// No es posible esto:
class Problematico extends Clase1, Clase2 {}  // ✗ Error

// Pero sí esto:
interface Audible {
  reproducir(): void;
}

interface Visual {
  mostrar(): void;
}

class Multimedia implements Audible, Visual {
  reproducir(): void {
    console.log("Reproduciendo audio...");
  }

  mostrar(): void {
    console.log("Mostrando video...");
  }
}

const media = new Multimedia();
media.reproducir();  // ✓
media.mostrar();     // ✓</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_instanceof_verificar_tipo"><a class="link" href="#_instanceof_verificar_tipo">instanceof - Verificar Tipo</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Shape {
  area(): number {
    return 0;
  }
}

class Circulo extends Shape {
  radio: number;

  constructor(radio: number) {
    super();
    this.radio = radio;
  }

  area(): number {
    return Math.PI * this.radio * this.radio;
  }
}

class Rectangulo extends Shape {
  ancho: number;
  alto: number;

  constructor(ancho: number, alto: number) {
    super();
    this.ancho = ancho;
    this.alto = alto;
  }

  area(): number {
    return this.ancho * this.alto;
  }
}

function procesarForma(forma: Shape): void {
  if (forma instanceof Circulo) {
    console.log(`Círculo con radio ${forma.radio}`);
  } else if (forma instanceof Rectangulo) {
    console.log(`Rectángulo ${forma.ancho}x${forma.alto}`);
  }
  console.log(`Área: ${forma.area()}`);
}

const circulo = new Circulo(5);
const rectangulo = new Rectangulo(10, 5);

procesarForma(circulo);     // Círculo con radio 5, Área: 78.53...
procesarForma(rectangulo);  // Rectángulo 10x5, Área: 50</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_5"><a class="link" href="#_ejercicios_propuestos_5">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Crear clase con privados y getters:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Usuario con:
// - nombre (privado)
// - email (privado)
// - edad (privado)
// getter para ver nombre
// setter para cambiar email con validación (@)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Herencia y polimorfismo:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Persona
// Crear clases Estudiante y Profesor que extiendan Persona
// Cada una implementa método diferente describir()
// Usar polimorfismo para usar ambas con mismo método</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Constructor y super:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Vehiculo con marca, modelo, año
// Crear clase Motocicleta que extienda Vehiculo
// Usa super() en constructor
// Agrega propiedad cilindrada</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Métodos estáticos:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Producto con método estático generarID()
// Cada instancia usa ese método para auto-generar su id
// Crear 3 productos y mostrar sus IDs únicos</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_6_interfaces_y_tipos_abstractos"><a class="link" href="#_módulo_6_interfaces_y_tipos_abstractos">Módulo 6: Interfaces y Tipos Abstractos</a></h3>
<div class="paragraph">
<p>Este módulo se enfoca en crear abstracciones y contratos en TypeScript. Aprenderás clases abstractas, cómo implementar interfaces en clases y cómo diseñar código flexible y reutilizable.</p>
</div>
<div class="sect3">
<h4 id="_6_1_clases_abstractas"><a class="link" href="#_6_1_clases_abstractas">6.1 Clases Abstractas</a></h4>
<div class="paragraph">
<p>Una <strong>clase abstracta</strong> es una clase que no puede instanciarse directamente. Se usa como base para otras clases.</p>
</div>
<div class="sect4">
<h5 id="_definición_básica"><a class="link" href="#_definición_básica">Definición Básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Clase abstracta - no se puede hacer new
abstract class Animal {
  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }

  // Método normal (implementado)
  dormir(): void {
    console.log(`${this.nombre} está durmiendo`);
  }

  // Método abstracto (sin implementación)
  abstract hacerSonido(): void;
}

// ✗ Error: No se puede instanciar clase abstracta
// const animal = new Animal("Genérico");

// ✓ Clases derivadas SÍ se pueden instanciar
class Perro extends Animal {
  // Debe implementar el método abstracto
  hacerSonido(): void {
    console.log(`${this.nombre} ladra: Guau`);
  }
}

class Gato extends Animal {
  // Debe implementar el método abstracto
  hacerSonido(): void {
    console.log(`${this.nombre} maúlla: Miau`);
  }
}

const perro = new Perro("Rex");
const gato = new Gato("Whiskers");

perro.hacerSonido();  // "Rex ladra: Guau"
gato.hacerSonido();   // "Whiskers maúlla: Miau"
perro.dormir();       // "Rex está durmiendo" (heredado)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cuándo_usar_clases_abstractas"><a class="link" href="#_cuándo_usar_clases_abstractas">Cuándo Usar Clases Abstractas</a></h5>
<div class="ulist">
<ul>
<li>
<p>Cuando deseas forzar a las subclases a implementar ciertos métodos</p>
</li>
<li>
<p>Para proporcionar funcionalidad común a múltiples clases</p>
</li>
<li>
<p>Para establecer una interfaz común sin permitir instanciación</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Ejemplo: Sistema de pagos
abstract class MetodoPago {
  titular: string;
  protected saldo: number;

  constructor(titular: string, saldoInicial: number) {
    this.titular = titular;
    this.saldo = saldoInicial;
  }

  // Método concreto (igual para todos)
  obtenerSaldo(): number {
    return this.saldo;
  }

  // Método abstracto (cada uno lo implementa diferente)
  abstract procesar(cantidad: number): boolean;

  // Método abstracto (cada uno calcula diferente)
  abstract calcularComision(cantidad: number): number;
}

class TarjetaCredito extends MetodoPago {
  numeroTarjeta: string;

  constructor(titular: string, numeroTarjeta: string, saldo: number) {
    super(titular, saldo);
    this.numeroTarjeta = numeroTarjeta;
  }

  procesar(cantidad: number): boolean {
    if (this.saldo &gt;= cantidad) {
      this.saldo -= cantidad;
      console.log(`Pago de $${cantidad} realizado con tarjeta`);
      return true;
    }
    return false;
  }

  calcularComision(cantidad: number): number {
    return cantidad * 0.02;  // 2% de comisión
  }
}

class Transferencia extends MetodoPago {
  banco: string;

  constructor(titular: string, banco: string, saldo: number) {
    super(titular, saldo);
    this.banco = banco;
  }

  procesar(cantidad: number): boolean {
    if (this.saldo &gt;= cantidad) {
      this.saldo -= cantidad;
      console.log(`Transferencia de $${cantidad} realizada con ${this.banco}`);
      return true;
    }
    return false;
  }

  calcularComision(cantidad: number): number {
    return cantidad * 0.01;  // 1% de comisión
  }
}

// Usar polimorficamente
const tarjeta = new TarjetaCredito("Juan", "1234-5678-9012-3456", 5000);
const banco = new Transferencia("María", "Banco Central", 10000);

const metodos: MetodoPago[] = [tarjeta, banco];

metodos.forEach(metodo =&gt; {
  metodo.procesar(100);
  console.log(`Comisión: $${metodo.calcularComision(100)}`);
  console.log(`Saldo restante: $${metodo.obtenerSaldo()}\n`);
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_6_2_métodos_abstractos"><a class="link" href="#_6_2_métodos_abstractos">6.2 Métodos Abstractos</a></h4>
<div class="paragraph">
<p>Métodos que <strong>no tienen implementación</strong> en la clase abstracta. Las subclases <strong>deben</strong> implementarlos.</p>
</div>
<div class="sect4">
<h5 id="_sintaxis"><a class="link" href="#_sintaxis">Sintaxis</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">abstract class Forma {
  // Método abstracto - sin cuerpo
  abstract obtenerArea(): number;

  // Otro método abstracto
  abstract obtenerPerimetro(): number;

  // Método concreto
  describir(): string {
    return `Área: ${this.obtenerArea()}, Perímetro: ${this.obtenerPerimetro()}`;
  }
}

class Rectangulo extends Forma {
  ancho: number;
  alto: number;

  constructor(ancho: number, alto: number) {
    super();
    this.ancho = ancho;
    this.alto = alto;
  }

  // ✓ Debe implementar obtenerArea
  obtenerArea(): number {
    return this.ancho * this.alto;
  }

  // ✓ Debe implementar obtenerPerimetro
  obtenerPerimetro(): number {
    return 2 * (this.ancho + this.alto);
  }
}

class Circulo extends Forma {
  radio: number;

  constructor(radio: number) {
    super();
    this.radio = radio;
  }

  obtenerArea(): number {
    return Math.PI * this.radio * this.radio;
  }

  obtenerPerimetro(): number {
    return 2 * Math.PI * this.radio;
  }
}

// ✗ Error: falta implementar métodos abstractos
class TrianguloIncompleto extends Forma {
  // No implementa obtenerArea ni obtenerPerimetro
}

// ✓ Usar subclases
const rect = new Rectangulo(5, 3);
const circulo = new Circulo(4);

console.log(rect.describir());    // "Área: 15, Perímetro: 16"
console.log(circulo.describir()); // "Área: 50.26..., Perímetro: 25.13..."</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_propiedades_abstractas"><a class="link" href="#_propiedades_abstractas">Propiedades Abstractas</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">abstract class Trabajador {
  // Propiedad abstracta - las subclases deben definirla
  abstract salario: number;

  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }

  abstract calcularBono(): number;

  saludar(): void {
    console.log(`Hola, soy ${this.nombre}`);
  }
}

class Ingeniero extends Trabajador {
  salario: number;  // ✓ Debe definir la propiedad abstracta

  constructor(nombre: string, salario: number) {
    super(nombre);
    this.salario = salario;
  }

  calcularBono(): number {
    return this.salario * 0.20;  // 20% bono
  }
}

class Gerente extends Trabajador {
  salario: number;
  departamento: string;

  constructor(nombre: string, salario: number, departamento: string) {
    super(nombre);
    this.salario = salario;
    this.departamento = departamento;
  }

  calcularBono(): number {
    return this.salario * 0.30;  // 30% bono
  }
}

const ing = new Ingeniero("Carlos", 3000);
const ger = new Gerente("Ana", 5000, "IT");

console.log(`${ing.nombre}: Bono $${ing.calcularBono()}`);  // "Carlos: Bono 600"
console.log(`${ger.nombre}: Bono $${ger.calcularBono()}`);  // "Ana: Bono 1500"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_6_3_implementar_interfaces_en_clases"><a class="link" href="#_6_3_implementar_interfaces_en_clases">6.3 Implementar Interfaces en Clases</a></h4>
<div class="paragraph">
<p>Una clase implementa una interfaz para garantizar que tiene ciertas propiedades y métodos.</p>
</div>
<div class="sect4">
<h5 id="_interfaz_simple"><a class="link" href="#_interfaz_simple">Interfaz Simple</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Definir interfaz
interface Vehículo {
  marca: string;
  modelo: string;
  arrancar(): void;
  detener(): void;
}

// Clase implementa la interfaz
class Auto implements Vehículo {
  marca: string;
  modelo: string;

  constructor(marca: string, modelo: string) {
    this.marca = marca;
    this.modelo = modelo;
  }

  arrancar(): void {
    console.log(`${this.marca} ${this.modelo} está arrancando`);
  }

  detener(): void {
    console.log(`${this.marca} ${this.modelo} se detuvo`);
  }
}

const auto = new Auto("Toyota", "Corolla");
auto.arrancar();  // "Toyota Corolla está arrancando"
auto.detener();   // "Toyota Corolla se detuvo"

// ✗ Error: falta implementar método detener
class MotoIncompleta implements Vehículo {
  marca: string;
  modelo: string;

  constructor(marca: string, modelo: string) {
    this.marca = marca;
    this.modelo = modelo;
  }

  arrancar(): void {
    console.log("Moto arrancando");
  }
  // Falta detener()
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interfaz_extendida"><a class="link" href="#_interfaz_extendida">Interfaz Extendida</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Serializable {
  toJSON(): string;
  fromJSON(json: string): void;
}

interface Persona {
  nombre: string;
  edad: number;
  saludar(): void;
}

// Clase implementa múltiples interfaces
class Usuario implements Persona, Serializable {
  nombre: string;
  edad: number;

  constructor(nombre: string, edad: number) {
    this.nombre = nombre;
    this.edad = edad;
  }

  saludar(): void {
    console.log(`Hola, soy ${this.nombre}`);
  }

  toJSON(): string {
    return JSON.stringify({ nombre: this.nombre, edad: this.edad });
  }

  fromJSON(json: string): void {
    const data = JSON.parse(json);
    this.nombre = data.nombre;
    this.edad = data.edad;
  }
}

const usuario = new Usuario("Juan", 30);
usuario.saludar();                          // "Hola, soy Juan"
console.log(usuario.toJSON());              // '{"nombre":"Juan","edad":30}'

const usuario2 = new Usuario("", 0);
usuario2.fromJSON('{"nombre":"María","edad":25}');
console.log(usuario2.nombre);               // "María"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interfaz_vs_clase_abstracta"><a class="link" href="#_interfaz_vs_clase_abstracta">Interfaz vs Clase Abstracta</a></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspecto</th>
<th class="tableblock halign-left valign-top">Interfaz</th>
<th class="tableblock halign-left valign-top">Clase Abstracta</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Puede tener implementación</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ No (solo firmas)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Sí (métodos concretos)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Propiedades</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Sí (solo firmas)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Sí (con valores)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constructor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Sí</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modificadores de acceso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ No (siempre público)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Sí (public, private, protected)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementación múltiple</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓ Una clase puede implementar varias</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✗ Solo extends una clase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Herencia</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>implements</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extends</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cuándo usar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definir contrato/forma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compartir código + obligar implementación</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_ejemplo_práctico"><a class="link" href="#_ejemplo_práctico">Ejemplo Práctico</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interfaz para almacenamiento
interface Repositorio&lt;T&gt; {
  obtener(id: number): T | null;
  obtenerTodos(): T[];
  guardar(item: T): void;
  eliminar(id: number): void;
}

interface Usuario {
  id: number;
  nombre: string;
  email: string;
}

// Implementar repositorio genérico
class RepositorioUsuarios implements Repositorio&lt;Usuario&gt; {
  private usuarios: Map&lt;number, Usuario&gt; = new Map();
  private proximoId = 1;

  obtener(id: number): Usuario | null {
    return this.usuarios.get(id) || null;
  }

  obtenerTodos(): Usuario[] {
    return Array.from(this.usuarios.values());
  }

  guardar(usuario: Usuario): void {
    if (!usuario.id) {
      usuario.id = this.proximoId++;
    }
    this.usuarios.set(usuario.id, usuario);
  }

  eliminar(id: number): void {
    this.usuarios.delete(id);
  }
}

// Usar
const repo = new RepositorioUsuarios();

repo.guardar({ id: 0, nombre: "Juan", email: "juan@example.com" });
repo.guardar({ id: 0, nombre: "María", email: "maria@example.com" });

console.log(repo.obtenerTodos());           // Array de usuarios
console.log(repo.obtener(1));               // Usuario específico</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_6_4_múltiples_interfaces"><a class="link" href="#_6_4_múltiples_interfaces">6.4 Múltiples Interfaces</a></h4>
<div class="paragraph">
<p>Una clase puede implementar <strong>varias interfaces</strong> a la vez.</p>
</div>
<div class="sect4">
<h5 id="_múltiples_implementaciones"><a class="link" href="#_múltiples_implementaciones">Múltiples Implementaciones</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Comestible {
  comer(): void;
}

interface Bebible {
  beber(): void;
}

interface Transportable {
  transportar(): void;
}

// Una clase implementa múltiples interfaces
class Producto implements Comestible, Bebible, Transportable {
  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }

  comer(): void {
    console.log(`Comiendo ${this.nombre}`);
  }

  beber(): void {
    console.log(`Bebiendo ${this.nombre}`);
  }

  transportar(): void {
    console.log(`Transportando ${this.nombre}`);
  }
}

const producto = new Producto("Jugo de Naranja");
producto.comer();       // "Comiendo Jugo de Naranja"
producto.beber();       // "Bebiendo Jugo de Naranja"
producto.transportar(); // "Transportando Jugo de Naranja"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interfaces_extensas"><a class="link" href="#_interfaces_extensas">Interfaces Extensas</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Animal {
  nombre: string;
  edad: number;
}

interface Animal {
  hacerSonido(): void;
}

interface Animal {
  moverse(): void;
}

// Se combinan automáticamente (declaration merging)
class Perro implements Animal {
  nombre: string;
  edad: number;

  constructor(nombre: string, edad: number) {
    this.nombre = nombre;
    this.edad = edad;
  }

  hacerSonido(): void {
    console.log("¡Guau!");
  }

  moverse(): void {
    console.log("Corriendo...");
  }
}

const perro = new Perro("Rex", 3);
console.log(perro.nombre);    // "Rex"
perro.hacerSonido();          // "¡Guau!"
perro.moverse();              // "Corriendo..."</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_composición_de_interfaces"><a class="link" href="#_composición_de_interfaces">Composición de Interfaces</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Identificable {
  id: number;
}

interface Nombrable {
  nombre: string;
}

interface Validable {
  validar(): boolean;
}

// Composición: crear interfaz con múltiples
interface Usuario extends Identificable, Nombrable, Validable {
  email: string;
}

class UsuarioImpl implements Usuario {
  id: number;
  nombre: string;
  email: string;

  constructor(id: number, nombre: string, email: string) {
    this.id = id;
    this.nombre = nombre;
    this.email = email;
  }

  validar(): boolean {
    return this.email.includes("@") &amp;&amp; this.nombre.length &gt; 0;
  }
}

const usuario = new UsuarioImpl(1, "Juan", "juan@example.com");
console.log(usuario.id);         // 1
console.log(usuario.nombre);     // "Juan"
console.log(usuario.validar());  // true</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejemplo_real_sistema_de_notificaciones"><a class="link" href="#_ejemplo_real_sistema_de_notificaciones">Ejemplo Real: Sistema de Notificaciones</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Notificable {
  notificar(mensaje: string): void;
}

interface Logueable {
  registrar(evento: string): void;
}

// Diferentes canales de notificación
class EmailNotificador implements Notificable, Logueable {
  registrar(evento: string): void {
    console.log(`[EMAIL] ${evento}`);
  }

  notificar(mensaje: string): void {
    console.log(`Enviando email: ${mensaje}`);
  }
}

class SMSNotificador implements Notificable, Logueable {
  registrar(evento: string): void {
    console.log(`[SMS] ${evento}`);
  }

  notificar(mensaje: string): void {
    console.log(`Enviando SMS: ${mensaje}`);
  }
}

class SlackNotificador implements Notificable, Logueable {
  registrar(evento: string): void {
    console.log(`[SLACK] ${evento}`);
  }

  notificar(mensaje: string): void {
    console.log(`Enviando a Slack: ${mensaje}`);
  }
}

// Sistema que usa cualquier notificador
class SistemaAlertas {
  private notificadores: Notificable[] = [];
  private logueadores: Logueable[] = [];

  agregarNotificador(n: Notificable): void {
    this.notificadores.push(n);
  }

  agregarLogueador(l: Logueable): void {
    this.logueadores.push(l);
  }

  alertar(mensaje: string): void {
    // Registrar evento
    this.logueadores.forEach(l =&gt; l.registrar(`Alerta: ${mensaje}`));

    // Notificar por todos los canales
    this.notificadores.forEach(n =&gt; n.notificar(mensaje));
  }
}

// Uso
const sistema = new SistemaAlertas();
sistema.agregarNotificador(new EmailNotificador());
sistema.agregarNotificador(new SMSNotificador());
sistema.agregarNotificador(new SlackNotificador());

sistema.agregarLogueador(new EmailNotificador());
sistema.agregarLogueador(new SlackNotificador());

sistema.alertar("Error crítico en el servidor");
// [EMAIL] Alerta: Error crítico en el servidor
// [SLACK] Alerta: Error crítico en el servidor
// Enviando email: Error crítico en el servidor
// Enviando SMS: Error crítico en el servidor
// Enviando a Slack: Error crítico en el servidor</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_6"><a class="link" href="#_ejercicios_propuestos_6">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Clase abstracta para operaciones:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase abstracta Operacion con:
// - método abstracto ejecutar(): number
// - método calcularTiempo(): void (concreto)
// Crear clases Suma, Resta, Multiplicación</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Implementar múltiples interfaces:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interfaces: Grabable, Reproducible, Descargable
// Clase ArchivoDeMúsica implementa todas
// Cada método tiene comportamiento diferente</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Sistema de pagos con interfaces:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interface Pagador con método procesar()
// Clases: TarjetaCredito, PayPal, Criptomoneda
// Cada una implementa diferente</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Repositorio genérico:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interface Repositorio&lt;T&gt; con CRUD básico
// Clase Repositorio en memoria que la implemente
// Probar con Usuario y Producto</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_7_genéricos_avanzados"><a class="link" href="#_módulo_7_genéricos_avanzados">Módulo 7: Genéricos Avanzados</a></h3>
<div class="paragraph">
<p>Los genéricos permiten escribir código reutilizable que funciona con cualquier tipo. Este módulo cubre técnicas avanzadas para dominar los genéricos en TypeScript.</p>
</div>
<div class="sect3">
<h4 id="_7_1_genéricos_en_funciones_y_clases"><a class="link" href="#_7_1_genéricos_en_funciones_y_clases">7.1 Genéricos en Funciones y Clases</a></h4>
<div class="sect4">
<h5 id="_genéricos_en_funciones"><a class="link" href="#_genéricos_en_funciones">Genéricos en Funciones</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Función genérica básica
function identidad&lt;T&gt;(valor: T): T {
  return valor;
}

// TypeScript infiere el tipo automáticamente
const num = identidad(42);          // T = number
const str = identidad("hola");      // T = string
const bool = identidad(true);       // T = boolean

// O especificar explícitamente
const explícito = identidad&lt;string&gt;("TypeScript");

// Función con múltiples parámetros genéricos
function intercambiar&lt;T, U&gt;(a: T, b: U): [U, T] {
  return [b, a];
}

const resultado = intercambiar("Hola", 42);
// resultado = [42, "Hola"]

// Función genérica con array
function primerElemento&lt;T&gt;(arr: T[]): T | undefined {
  return arr[0];
}

console.log(primerElemento([1, 2, 3]));           // 1 (T = number)
console.log(primerElemento(["a", "b", "c"]));    // "a" (T = string)
console.log(primerElemento([]));                 // undefined</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_genéricos_en_clases"><a class="link" href="#_genéricos_en_clases">Genéricos en Clases</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Clase genérica
class Contenedor&lt;T&gt; {
  private valor: T;

  constructor(valor: T) {
    this.valor = valor;
  }

  obtener(): T {
    return this.valor;
  }

  establecer(nuevoValor: T): void {
    this.valor = nuevoValor;
  }
}

// Usar con diferentes tipos
const contenedorNumero = new Contenedor&lt;number&gt;(42);
console.log(contenedorNumero.obtener());  // 42

const contenedorString = new Contenedor&lt;string&gt;("Hola");
console.log(contenedorString.obtener());  // "Hola"

// Inferencia automática
const contenedorBool = new Contenedor(true);  // T infer como boolean</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_genéricos_en_métodos_de_clase"><a class="link" href="#_genéricos_en_métodos_de_clase">Genéricos en Métodos de Clase</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Utilidades {
  // Método genérico
  static revertir&lt;T&gt;(arr: T[]): T[] {
    return arr.reverse();
  }

  static filtrar&lt;T&gt;(arr: T[], predicado: (item: T) =&gt; boolean): T[] {
    return arr.filter(predicado);
  }

  static mapear&lt;T, U&gt;(arr: T[], mapeo: (item: T) =&gt; U): U[] {
    return arr.map(mapeo);
  }
}

// Uso
const numeros = [1, 2, 3, 4, 5];
console.log(Utilidades.revertir(numeros));                        // [5,4,3,2,1]
console.log(Utilidades.filtrar(numeros, n =&gt; n &gt; 2));            // [3,4,5]
console.log(Utilidades.mapear(numeros, n =&gt; n * 2));             // [2,4,6,8,10]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pares_clave_valor_genéricos"><a class="link" href="#_pares_clave_valor_genéricos">Pares Clave-Valor Genéricos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Par&lt;K, V&gt; {
  clave: K;
  valor: V;
}

class Diccionario&lt;K, V&gt; {
  private datos: Map&lt;K, V&gt; = new Map();

  establecer(clave: K, valor: V): void {
    this.datos.set(clave, valor);
  }

  obtener(clave: K): V | undefined {
    return this.datos.get(clave);
  }

  obtenerTodos(): Par&lt;K, V&gt;[] {
    return Array.from(this.datos).map(([k, v]) =&gt; ({ clave: k, valor: v }));
  }
}

// Usar con string → número
const edades = new Diccionario&lt;string, number&gt;();
edades.establecer("Juan", 30);
edades.establecer("María", 25);
console.log(edades.obtener("Juan"));          // 30
console.log(edades.obtenerTodos());           // [{ clave: "Juan", valor: 30 }, ...]

// Usar con número → objeto
interface Usuario {
  nombre: string;
  email: string;
}

const usuarios = new Diccionario&lt;number, Usuario&gt;();
usuarios.establecer(1, { nombre: "Juan", email: "juan@example.com" });
console.log(usuarios.obtener(1)?.nombre);    // "Juan"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_2_restricciones_de_genéricos_constraints"><a class="link" href="#_7_2_restricciones_de_genéricos_constraints">7.2 Restricciones de Genéricos (Constraints)</a></h4>
<div class="paragraph">
<p>Limitar qué tipos pueden usarse como parámetros genéricos.</p>
</div>
<div class="sect4">
<h5 id="_extends_restricción_básica"><a class="link" href="#_extends_restricción_básica">extends - Restricción Básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Solo permitir tipos que tengan propiedad length
function obtenerLongitud&lt;T extends { length: number }&gt;(valor: T): number {
  return valor.length;
}

console.log(obtenerLongitud("Hola"));      // 4 (string tiene length)
console.log(obtenerLongitud([1, 2, 3]));  // 3 (array tiene length)
console.log(obtenerLongitud({ length: 5 })); // 5 (objeto con length)
console.log(obtenerLongitud(42));         // ✗ Error: number no tiene length

// Restricción a tipo específico
function obtenerPropiedad&lt;T extends { nombre: string }&gt;(obj: T): string {
  return obj.nombre;
}

obtenerPropiedad({ nombre: "Juan", edad: 30 });    // ✓
obtenerPropiedad({ nombre: "María" });             // ✓
obtenerPropiedad({ edad: 25 });                    // ✗ Error: falta nombre</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extends_con_type"><a class="link" href="#_extends_con_type">extends con Type</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Restringir a un tipo específico
function procesarNumero&lt;T extends number&gt;(valor: T): T {
  return valor;
}

procesarNumero(42);      // ✓
procesarNumero(3.14);    // ✓
procesarNumero("42");    // ✗ Error: string no extiende number

// Restringir a union de tipos
function procesarPrimera&lt;T extends string | number | boolean&gt;(valor: T): T {
  return valor;
}

procesarPrimera("texto");    // ✓
procesarPrimera(42);         // ✓
procesarPrimera(true);       // ✓
procesarPrimera({});         // ✗ Error

// Restringir a array
function obtenerPrimero&lt;T extends any[]&gt;(arr: T): T[0] | undefined {
  return arr[0];
}

obtenerPrimero([1, 2, 3]);          // 1
obtenerPrimero(["a", "b"]);         // "a"
obtenerPrimero({});                 // ✗ Error: no es array</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extends_con_genéricos"><a class="link" href="#_extends_con_genéricos">extends con Genéricos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// T debe ser array de algo
function procesarArray&lt;T extends any[]&gt;(arr: T): number {
  return arr.length;
}

procesarArray([1, 2, 3]);     // ✓
procesarArray(["a", "b"]);    // ✓
procesarArray("hola");        // ✗ Error: no es array

// T debe descender de clase/interfaz
class Animal {
  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }
}

class Perro extends Animal {
  traer(): void {
    console.log(`${this.nombre} trae la pelota`);
  }
}

function crearInstancia&lt;T extends Animal&gt;(Clase: new (...args: any[]) =&gt; T, nombre: string): T {
  return new Clase(nombre);
}

const animal = crearInstancia(Animal, "Genérico");
const perro = crearInstancia(Perro, "Rex");
perro.traer();  // "Rex trae la pelota"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_keyof_restricción_a_propiedades"><a class="link" href="#_keyof_restricción_a_propiedades">keyof - Restricción a Propiedades</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// T debe ser un objeto, K debe ser clave de T
function obtenerPropiedad&lt;T, K extends keyof T&gt;(obj: T, clave: K): T[K] {
  return obj[clave];
}

const persona = { nombre: "Juan", edad: 30, ciudad: "Madrid" };

console.log(obtenerPropiedad(persona, "nombre"));   // "Juan"
console.log(obtenerPropiedad(persona, "edad"));     // 30
console.log(obtenerPropiedad(persona, "email"));    // ✗ Error: no existe email

// Modificar propiedad
function establecerPropiedad&lt;T, K extends keyof T&gt;(obj: T, clave: K, valor: T[K]): void {
  obj[clave] = valor;
}

establecerPropiedad(persona, "nombre", "Carlos");      // ✓
establecerPropiedad(persona, "edad", 35);              // ✓
establecerPropiedad(persona, "edad", "treinta");       // ✗ Error: tipo incorrecto</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_restricciones_múltiples"><a class="link" href="#_restricciones_múltiples">Restricciones Múltiples</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Combinación de restricciones
interface Identificable {
  id: number;
}

interface Nombrable {
  nombre: string;
}

function procesar&lt;T extends Identificable &amp; Nombrable&gt;(obj: T): string {
  return `${obj.id}: ${obj.nombre}`;
}

procesar({ id: 1, nombre: "Juan" });         // ✓
procesar({ id: 1 });                         // ✗ Error: falta nombre
procesar({ nombre: "Juan" });                // ✗ Error: falta id

// Genérico restringido por otro genérico
function fusionar&lt;T extends object, U extends object&gt;(obj1: T, obj2: U): T &amp; U {
  return { ...obj1, ...obj2 };
}

const persona = { nombre: "Juan", edad: 30 };
const contacto = { email: "juan@example.com", telefono: "555-1234" };
const resultado = fusionar(persona, contacto);
console.log(resultado);  // { nombre, edad, email, telefono }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_3_genéricos_con_interfaces"><a class="link" href="#_7_3_genéricos_con_interfaces">7.3 Genéricos con Interfaces</a></h4>
<div class="sect4">
<h5 id="_interfaz_genérica"><a class="link" href="#_interfaz_genérica">Interfaz Genérica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interfaz genérica básica
interface Respuesta&lt;T&gt; {
  exito: boolean;
  datos?: T;
  error?: string;
}

// Usar con diferentes tipos
type RespuestaUsuario = Respuesta&lt;{ id: number; nombre: string }&gt;;
type RespuestaNumero = Respuesta&lt;number&gt;;
type RespuestaString = Respuesta&lt;string&gt;;

const resp1: RespuestaUsuario = {
  exito: true,
  datos: { id: 1, nombre: "Juan" }
};

const resp2: RespuestaNumero = {
  exito: false,
  error: "No se pudo obtener el número"
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interfaz_con_herencia_genérica"><a class="link" href="#_interfaz_con_herencia_genérica">Interfaz con Herencia Genérica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Entidad&lt;T&gt; {
  id: T;
  creado: Date;
}

interface Usuario extends Entidad&lt;number&gt; {
  nombre: string;
  email: string;
}

interface Sesion extends Entidad&lt;string&gt; {
  token: string;
  usuarioId: number;
}

const usuario: Usuario = {
  id: 1,                                  // number (de Entidad&lt;number&gt;)
  nombre: "Juan",
  email: "juan@example.com",
  creado: new Date()
};

const sesion: Sesion = {
  id: "abc123",                           // string (de Entidad&lt;string&gt;)
  token: "xyz789",
  usuarioId: 1,
  creado: new Date()
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_crud_genérico"><a class="link" href="#_crud_genérico">CRUD Genérico</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Repositorio&lt;T&gt; {
  obtener(id: number): Promise&lt;T | null&gt;;
  obtenerTodos(): Promise&lt;T[]&gt;;
  guardar(item: T): Promise&lt;T&gt;;
  actualizar(id: number, item: Partial&lt;T&gt;): Promise&lt;T | null&gt;;
  eliminar(id: number): Promise&lt;boolean&gt;;
}

// Implementación en memoria
class RepositorioEnMemoria&lt;T extends { id?: number }&gt; implements Repositorio&lt;T&gt; {
  private items: T[] = [];
  private proximoId = 1;

  async obtener(id: number): Promise&lt;T | null&gt; {
    return this.items.find(item =&gt; item.id === id) || null;
  }

  async obtenerTodos(): Promise&lt;T[]&gt; {
    return [...this.items];
  }

  async guardar(item: T): Promise&lt;T&gt; {
    if (!item.id) {
      item.id = this.proximoId++;
    }
    this.items.push(item);
    return item;
  }

  async actualizar(id: number, cambios: Partial&lt;T&gt;): Promise&lt;T | null&gt; {
    const index = this.items.findIndex(item =&gt; item.id === id);
    if (index === -1) return null;
    this.items[index] = { ...this.items[index], ...cambios };
    return this.items[index];
  }

  async eliminar(id: number): Promise&lt;boolean&gt; {
    const index = this.items.findIndex(item =&gt; item.id === id);
    if (index === -1) return false;
    this.items.splice(index, 1);
    return true;
  }
}

// Usar con Usuario
interface Usuario {
  id?: number;
  nombre: string;
  email: string;
}

const repoUsuarios = new RepositorioEnMemoria&lt;Usuario&gt;();

(async () =&gt; {
  await repoUsuarios.guardar({ nombre: "Juan", email: "juan@example.com" });
  await repoUsuarios.guardar({ nombre: "María", email: "maria@example.com" });

  const todos = await repoUsuarios.obtenerTodos();
  console.log(todos);  // Array de usuarios

  await repoUsuarios.actualizar(1, { email: "juannuevo@example.com" });
  const actualizado = await repoUsuarios.obtener(1);
  console.log(actualizado);  // Usuario actualizado
})();

// Reutilizar con Producto
interface Producto {
  id?: number;
  nombre: string;
  precio: number;
}

const repoProductos = new RepositorioEnMemoria&lt;Producto&gt;();
// Misma lógica, diferente tipo</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_4_tipos_condicionales_y_mapped_types"><a class="link" href="#_7_4_tipos_condicionales_y_mapped_types">7.4 Tipos Condicionales y Mapped Types</a></h4>
<div class="sect4">
<h5 id="_tipos_condicionales"><a class="link" href="#_tipos_condicionales">Tipos Condicionales</a></h5>
<div class="paragraph">
<p>Un tipo que es diferente dependiendo de una condición.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Sintaxis: T extends U ? X : Y
type EsString&lt;T&gt; = T extends string ? true : false;

type A = EsString&lt;"hola"&gt;;      // true
type B = EsString&lt;42&gt;;          // false
type C = EsString&lt;string&gt;;      // true

// Uso práctico: obtener el tipo de elemento de un array
type ElementoArray&lt;T&gt; = T extends Array&lt;infer E&gt; ? E : T;

type NumArray = ElementoArray&lt;number[]&gt;;           // número
type StrArray = ElementoArray&lt;string[]&gt;;           // string
type NoArray = ElementoArray&lt;number&gt;;              // number (no es array)

// Tipar retorno de función
type RetornoFuncion&lt;F&gt; = F extends (...args: any[]) =&gt; infer R ? R : never;

type Retorno1 = RetornoFuncion&lt;() =&gt; string&gt;;                  // string
type Retorno2 = RetornoFuncion&lt;(x: number) =&gt; boolean&gt;;        // boolean
type Retorno3 = RetornoFuncion&lt;string&gt;;                        // never</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_infer_inferencia_en_condicionales"><a class="link" href="#_infer_inferencia_en_condicionales">infer - Inferencia en Condicionales</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Extraer tipo de Promise
type Desempacar&lt;T&gt; = T extends Promise&lt;infer U&gt; ? U : T;

type A = Desempacar&lt;Promise&lt;string&gt;&gt;;        // string
type B = Desempacar&lt;Promise&lt;number&gt;&gt;;        // number
type C = Desempacar&lt;string&gt;;                 // string (no es Promise)

// Extraer tipos de tupla
type Primero&lt;T&gt; = T extends [infer P, ...any[]] ? P : never;
type Resto&lt;T&gt; = T extends [any, ...infer R] ? R : never;

type TuplaPrueba = [string, number, boolean];
type P = Primero&lt;TuplaPrueba&gt;;      // string
type R = Resto&lt;TuplaPrueba&gt;;        // [number, boolean]

// Obtener argumentos de función
type Argumentos&lt;F&gt; = F extends (...args: infer A) =&gt; any ? A : never;

type Args = Argumentos&lt;(a: string, b: number) =&gt; void&gt;;  // [string, number]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mapped_types"><a class="link" href="#_mapped_types">Mapped Types</a></h5>
<div class="paragraph">
<p>Crear nuevos tipos transformando propiedades existentes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Hacer todas las propiedades readonly
type Readonly&lt;T&gt; = {
  readonly [K in keyof T]: T[K];
};

interface Usuario {
  nombre: string;
  edad: number;
}

type UsuarioReadonly = Readonly&lt;Usuario&gt;;
// { readonly nombre: string; readonly edad: number }

// Hacer todas las propiedades opcionales
type Opcional&lt;T&gt; = {
  [K in keyof T]?: T[K];
};

type UsuarioOpcional = Opcional&lt;Usuario&gt;;
// { nombre?: string; edad?: number }

// Hacer todas las propiedades getters
type Getters&lt;T&gt; = {
  [K in keyof T as `get${Capitalize&lt;string &amp; K&gt;}`]: () =&gt; T[K];
};

type UsuarioGetters = Getters&lt;Usuario&gt;;
// { getNombre: () =&gt; string; getEdad: () =&gt; number }

// Crear tipo de funciones para cada propiedad
type Setters&lt;T&gt; = {
  [K in keyof T as `set${Capitalize&lt;string &amp; K&gt;}`]: (valor: T[K]) =&gt; void;
};

type UsuarioSetters = Setters&lt;Usuario&gt;;
// { setNombre: (valor: string) =&gt; void; setEdad: (valor: number) =&gt; void }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mapped_types_práctico"><a class="link" href="#_mapped_types_práctico">Mapped Types Práctico</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Convertir interfaz a diccionario de validadores
interface FormularioUsuario {
  nombre: string;
  email: string;
  edad: number;
}

type Validadores&lt;T&gt; = {
  [K in keyof T]: (valor: T[K]) =&gt; boolean;
};

const validadoresUsuario: Validadores&lt;FormularioUsuario&gt; = {
  nombre: (v) =&gt; v.length &gt; 0,
  email: (v) =&gt; v.includes("@"),
  edad: (v) =&gt; v &gt;= 18
};

// Convertir a tipos númericos
type Numbeado&lt;T&gt; = {
  [K in keyof T]: number;
};

type UsuarioNumeros = Numbeado&lt;FormularioUsuario&gt;;
// { nombre: number; email: number; edad: number }

// Convertir propiedades a getters (clase)
class Usuario {
  constructor(
    private nombre: string,
    private email: string,
    private edad: number
  ) {}
}

// Mapear a tipos de promesas
type Promesas&lt;T&gt; = {
  [K in keyof T]: Promise&lt;T[K]&gt;;
};

type UsuarioPromesas = Promesas&lt;FormularioUsuario&gt;;
// { nombre: Promise&lt;string&gt;; email: Promise&lt;string&gt;; edad: Promise&lt;number&gt; }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_template_literal_types"><a class="link" href="#_template_literal_types">Template Literal Types</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipos basados en strings
type Evento = "click" | "hover" | "focus";

type ManejoEvento&lt;E extends string&gt; = `on${Capitalize&lt;E&gt;}`;

type Manejador = ManejoEvento&lt;Evento&gt;;
// "onClick" | "onHover" | "onFocus"

// Combinar strings
type Union1 = "a" | "b";
type Union2 = "x" | "y";

type Combinada = `${Union1}${Union2}`;
// "ax" | "ay" | "bx" | "by"

// Crear tipos de rutas
type Metodo = "GET" | "POST" | "PUT" | "DELETE";
type Ruta = "/usuarios" | "/productos";

type Endpoint = `${Metodo} ${Ruta}`;
// "GET /usuarios" | "GET /productos" | "POST /usuarios" | ...</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_7"><a class="link" href="#_ejercicios_propuestos_7">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Función genérica para transformar:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función transformar&lt;T, U&gt; que:
// - Acepte array de T
// - Acepte función transformadora (T =&gt; U)
// - Retorne array de U
// Probar con números a strings</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Restricción con keyof:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función obtenerValores&lt;T&gt; que:
// - Acepte objeto de tipo T
// - Acepte array de claves (keyof T)
// - Retorne array con valores correspondientes</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Tipo condicional útil:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipo HacerArray&lt;T&gt; que:
// - Si T es array, retorna T
// - Si no, retorna T[] (envuelto en array)
// Probar con number, string[], boolean</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Mapped type para clase:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipo Getters&lt;T&gt; que genera getters
// para todas las propiedades de T
// Crear tipo Setters&lt;T&gt; que genera setters</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_8_tipos_utilitarios_y_avanzados"><a class="link" href="#_módulo_8_tipos_utilitarios_y_avanzados">Módulo 8: Tipos Utilitarios y Avanzados</a></h3>
<div class="paragraph">
<p>TypeScript proporciona tipos utilitarios poderosos para transformar y manipular tipos existentes. Este módulo cubre herramientas avanzadas para escribir código más flexible, seguro y reutilizable.</p>
</div>
<div class="sect3">
<h4 id="_8_1_tipos_utilitarios_partial_required_readonly_etc"><a class="link" href="#_8_1_tipos_utilitarios_partial_required_readonly_etc">8.1 Tipos Utilitarios: Partial, Required, Readonly, etc.</a></h4>
<div class="paragraph">
<p>Los tipos utilitarios son tipos genéricos que hacen transformaciones en otros tipos.</p>
</div>
<div class="sect4">
<h5 id="_partialt"><a class="link" href="#_partialt">Partial&lt;T&gt;</a></h5>
<div class="paragraph">
<p>Hace todas las propiedades <strong>opcionales</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
  email: string;
  edad: number;
}

// Partial&lt;Usuario&gt; hace todas las propiedades opcionales
type UsuarioOpcional = Partial&lt;Usuario&gt;;

const usuarioIncompleto: UsuarioOpcional = {
  nombre: "Juan"
  // No es necesario proporcionar id, email, edad
};

// Útil para actualizaciones parciales
function actualizarUsuario(id: number, cambios: Partial&lt;Usuario&gt;): void {
  console.log(`Actualizando usuario ${id} con:`, cambios);
}

actualizarUsuario(1, { nombre: "Carlos", edad: 31 });  // ✓ Solo algunos campos
actualizarUsuario(1, { email: "nuevo@example.com" });  // ✓ Solo email</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_requiredt"><a class="link" href="#_requiredt">Required&lt;T&gt;</a></h5>
<div class="paragraph">
<p>Hace todas las propiedades <strong>obligatorias</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Persona {
  nombre?: string;
  edad?: number;
  email?: string;
}

// Required&lt;Persona&gt; hace todas obligatorias
type PersonaCompleta = Required&lt;Persona&gt;;

const persona: PersonaCompleta = {
  nombre: "María",
  edad: 28,
  email: "maria@example.com"
  // Todas las propiedades son obligatorias ahora
};

// Error: falta 'nombre'
const incompleta: PersonaCompleta = {
  edad: 25,
  email: "test@example.com"
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_readonlyt"><a class="link" href="#_readonlyt">Readonly&lt;T&gt;</a></h5>
<div class="paragraph">
<p>Hace todas las propiedades <strong>solo lectura</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Configuracion {
  host: string;
  puerto: number;
  ssl: boolean;
}

// Readonly&lt;Configuracion&gt; - no se pueden cambiar
type ConfiguracionFija = Readonly&lt;Configuracion&gt;;

const config: ConfiguracionFija = {
  host: "localhost",
  puerto: 3000,
  ssl: true
};

console.log(config.host);  // ✓ Puede leer
config.host = "example.com";  // ✗ Error: Cannot assign to readonly property 'host'
config.puerto = 8080;      // ✗ Error

// Útil para garantizar inmutabilidad
function obtenerConfiguracion(): ConfiguracionFija {
  return { host: "api.example.com", puerto: 443, ssl: true };
}

const cfg = obtenerConfiguracion();
cfg.puerto = 9000;  // ✗ Error</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_recordk_t"><a class="link" href="#_recordk_t">Record&lt;K, T&gt;</a></h5>
<div class="paragraph">
<p>Crea un objeto con claves de tipo K y valores de tipo T.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Record&lt;"a" | "b" | "c", number&gt;
type Puntuaciones = Record&lt;"matemáticas" | "lenguaje" | "ciencias", number&gt;;

const calificaciones: Puntuaciones = {
  matemáticas: 95,
  lenguaje: 87,
  ciencias: 92
};

// Record es perfecto para maps
type StatusProduccion = Record&lt;"en_stock" | "descontinuado" | "pre_orden", boolean&gt;;

const estados: StatusProduccion = {
  en_stock: true,
  descontinuado: false,
  pre_orden: true
};

// Con enums
enum Rol {
  Admin = "admin",
  Usuario = "usuario",
  Moderador = "moderador"
}

type Permisos = Record&lt;Rol, string[]&gt;;

const permisosPorRol: Permisos = {
  [Rol.Admin]: ["crear", "leer", "actualizar", "eliminar"],
  [Rol.Usuario]: ["leer"],
  [Rol.Moderador]: ["crear", "leer", "eliminar"]
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pickt_k"><a class="link" href="#_pickt_k">Pick&lt;T, K&gt;</a></h5>
<div class="paragraph">
<p>Selecciona solo <strong>ciertos campos</strong> de un tipo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Empleado {
  id: number;
  nombre: string;
  email: string;
  departamento: string;
  salario: number;
  fechaContratacion: Date;
}

// Pick solo id, nombre, email
type EmpleadoPublico = Pick&lt;Empleado, "id" | "nombre" | "email"&gt;;

const publicData: EmpleadoPublico = {
  id: 1,
  nombre: "Juan",
  email: "juan@example.com"
  // salario y departamento no pueden incluirse
};

// Útil para tipos específicos de APIs
type LoginCredentials = Pick&lt;Empleado, "email"&gt;;
// Solo necesita email para login

type EmpleadoConSalario = Pick&lt;Empleado, "nombre" | "departamento" | "salario"&gt;;
// Para reportes de nómina</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_omitt_k"><a class="link" href="#_omitt_k">Omit&lt;T, K&gt;</a></h5>
<div class="paragraph">
<p>Lo opuesto a Pick: <strong>excluye campos</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Producto {
  id: number;
  nombre: string;
  descripcion: string;
  precio: number;
  stock: number;
  proveedor: string;
}

// Omit excluye id
type ProductoInput = Omit&lt;Producto, "id"&gt;;

function crearProducto(producto: ProductoInput): void {
  console.log(`Creando producto: ${producto.nombre}`);
  // ID se genera automáticamente, no se espera en input
}

crearProducto({
  nombre: "Laptop",
  descripcion: "Laptop poderosa",
  precio: 999.99,
  stock: 5,
  proveedor: "Dell"
});

// Excluir múltiples campos
type ProductoBasico = Omit&lt;Producto, "id" | "proveedor" | "descripcion"&gt;;

const basico: ProductoBasico = {
  nombre: "Mouse",
  precio: 25,
  stock: 100
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_excludet_u"><a class="link" href="#_excludet_u">Exclude&lt;T, U&gt;</a></h5>
<div class="paragraph">
<p>Excluye ciertos <strong>tipos</strong> de una unión.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type Estado = "cargando" | "éxito" | "error" | "inactivo";

// Exclude solo deja los tipos que no son "cargando" ni "inactivo"
type EstadoActivo = Exclude&lt;Estado, "cargando" | "inactivo"&gt;;
// Resulta en: "éxito" | "error"

const estado: EstadoActivo = "éxito";  // ✓
// const estado: EstadoActivo = "cargando";  // ✗ Error

// Útil para valores discriminantes
type Numero = number;
type String = string;
type Booleano = boolean;

type TiposComunes = Numero | String | Booleano | null | undefined;
type TiposValidos = Exclude&lt;TiposComunes, null | undefined&gt;;
// Resulta en: number | string | boolean</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extractt_u"><a class="link" href="#_extractt_u">Extract&lt;T, U&gt;</a></h5>
<div class="paragraph">
<p>Lo opuesto a Exclude: <strong>extrae</strong> solo ciertos tipos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type Modales = "alert" | "confirm" | "toast" | "dropdown" | "modal";

// Extract solo los que coinciden
type PopupModales = Extract&lt;Modales, "alert" | "confirm" | "modal"&gt;;
// Resulta en: "alert" | "confirm" | "modal"

const tipo: PopupModales = "alert";  // ✓
// const tipo: PopupModales = "toast";  // ✗ Error

// Útil para subtipos
type Eventos = "click" | "mousedown" | "mouseup" | "focus" | "blur" | "change";

type EventosRaton = Extract&lt;Eventos, "click" | "mousedown" | "mouseup"&gt;;
// Resulta en: "click" | "mousedown" | "mouseup"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_nonnullablet"><a class="link" href="#_nonnullablet">NonNullable&lt;T&gt;</a></h5>
<div class="paragraph">
<p>Remueve <code>null</code> y <code>undefined</code> de un tipo union.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type Valor = string | number | boolean | null | undefined;

// NonNullable&lt;Valor&gt; elimina null y undefined
type ValorValido = NonNullable&lt;Valor&gt;;
// Resulta en: string | number | boolean

const v1: ValorValido = "texto";  // ✓
const v2: ValorValido = 42;       // ✓
const v3: ValorValido = null;     // ✗ Error

// Útil después de null checks
function procesarDato(dato: string | null): void {
  if (dato !== null) {
    // Aquí TypeScript sabe que dato es NonNullable
    const limpio: NonNullable&lt;typeof dato&gt; = dato;
    console.log(limpio.toUpperCase());
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_8_2_record_pick_omit_types_casos_prácticos"><a class="link" href="#_8_2_record_pick_omit_types_casos_prácticos">8.2 Record, Pick, Omit Types - Casos Prácticos</a></h4>
<div class="sect4">
<h5 id="_ejemplo_sistema_de_permisos"><a class="link" href="#_ejemplo_sistema_de_permisos">Ejemplo: Sistema de Permisos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
  email: string;
  rol: "admin" | "usuario" | "moderador";
  activo: boolean;
}

// Tipos específicos usando Pick/Omit
type UsuarioPublico = Pick&lt;Usuario, "id" | "nombre"&gt;;
type UsuarioConEmail = Pick&lt;Usuario, "nombre" | "email"&gt;;
type UsuarioParaActualizar = Omit&lt;Usuario, "id"&gt;;
type DatosDelRol = Pick&lt;Usuario, "rol" | "activo"&gt;;

// Usar en funciones
function mostrarPerfil(usuario: UsuarioPublico): void {
  console.log(`${usuario.id}: ${usuario.nombre}`);
}

function enviarEmail(usuario: UsuarioConEmail): void {
  console.log(`Email a ${usuario.email}`);
}

function actualizarUsuario(id: number, cambios: Partial&lt;UsuarioParaActualizar&gt;): void {
  console.log(`Actualizando usuario ${id}`, cambios);
}

function verificarAcceso(datos: DatosDelRol): boolean {
  return datos.activo &amp;&amp; datos.rol === "admin";
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejemplo_estados_de_aplicación"><a class="link" href="#_ejemplo_estados_de_aplicación">Ejemplo: Estados de Aplicación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Estado {
  usuarios: { id: number; nombre: string }[];
  productos: { id: number; precio: number }[];
  pedidos: { id: number; total: number }[];
  usuario_actual: { id: number; nombre: string } | null;
  cargando: boolean;
  error: string | null;
}

// Tipos específicos
type EstadoUI = Pick&lt;Estado, "cargando" | "error" | "usuario_actual"&gt;;
type EstadoDatos = Omit&lt;Estado, "cargando" | "error"&gt;;
type CacheProductos = Pick&lt;Estado, "productos"&gt;;

// Funciones especializadas
function renderizarUI(estado: EstadoUI): void {
  if (estado.cargando) console.log("Cargando...");
  if (estado.error) console.log(`Error: ${estado.error}`);
  if (estado.usuario_actual) {
    console.log(`Hola ${estado.usuario_actual.nombre}`);
  }
}

function almacenarDatos(estado: EstadoDatos): void {
  // Guarda datos pero no UI transiente
  console.log("Almacenando datos...");
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_8_3_tipos_condicionales_y_mapped_types"><a class="link" href="#_8_3_tipos_condicionales_y_mapped_types">8.3 Tipos Condicionales y Mapped Types</a></h4>
<div class="sect4">
<h5 id="_tipos_condicionales_2"><a class="link" href="#_tipos_condicionales_2">Tipos Condicionales</a></h5>
<div class="paragraph">
<p>Sintaxis similar a ternarios pero para tipos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Tipo condicional básico
type EsString&lt;T&gt; = T extends string ? true : false;

type A = EsString&lt;"hola"&gt;;         // true
type B = EsString&lt;number&gt;;         // false
type C = EsString&lt;string&gt;;         // true

// Usualmente más útil:
type Aplanador&lt;T&gt; = T extends Array&lt;infer U&gt; ? U : T;

type A = Aplanador&lt;string[]&gt;;      // string
type B = Aplanador&lt;number&gt;;        // number
type C = Aplanador&lt;string&gt;;        // string

// Con tipos complejos
type ObtenerTipo&lt;T&gt; =
  T extends string ? "string" :
  T extends number ? "number" :
  T extends boolean ? "boolean" :
  "otro";

type R1 = ObtenerTipo&lt;"hola"&gt;;     // "string"
type R2 = ObtenerTipo&lt;42&gt;;         // "number"
type R3 = ObtenerTipo&lt;true&gt;;       // "boolean"
type R4 = ObtenerTipo&lt;null&gt;;       // "otro"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mapped_types_2"><a class="link" href="#_mapped_types_2">Mapped Types</a></h5>
<div class="paragraph">
<p>Itera sobre propiedades y transforma cada una.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
  email: string;
  edad: number;
}

// Mapped type: convierte cada valor a getter
type Getters&lt;T&gt; = {
  [K in keyof T as `get${Capitalize&lt;string &amp; K&gt;}`]: () =&gt; T[K];
};

type UsuarioGetters = Getters&lt;Usuario&gt;;
// Resulta en:
// {
//   getId: () =&gt; number;
//   getNombre: () =&gt; string;
//   getEmail: () =&gt; string;
//   getEdad: () =&gt; number;
// }

// Mapped type: make all properties nullable
type Nullable&lt;T&gt; = {
  [K in keyof T]: T[K] | null;
};

type UsuarioNuleable = Nullable&lt;Usuario&gt;;
// Resulta en:
// {
//   id: number | null;
//   nombre: string | null;
//   email: string | null;
//   edad: number | null;
// }

// Mapped type: read-only version
type Readonlyizado&lt;T&gt; = {
  readonly [K in keyof T]: T[K];
};

const usuarioRO: Readonlyizado&lt;Usuario&gt; = {
  id: 1,
  nombre: "Juan",
  email: "juan@example.com",
  edad: 30
};

usuarioRO.nombre = "María";  // ✗ Error: readonly</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_combinación_condicionales_mapped"><a class="link" href="#_combinación_condicionales_mapped">Combinación: Condicionales + Mapped</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Tipo que convierte propiedades en getters solo para strings
type GettersStr&lt;T&gt; = {
  [K in keyof T as T[K] extends string ? `get${Capitalize&lt;string &amp; K&gt;}` : never]:
    T[K] extends string ? () =&gt; T[K] : never;
};

interface Producto {
  id: number;
  nombre: string;
  descripcion: string;
  precio: number;
}

type ProductoGettersStr = GettersStr&lt;Producto&gt;;
// Resulta en:
// {
//   getNombre: () =&gt; string;
//   getDescripcion: () =&gt; string;
// }

// Solo propiedades string generan getters
const getters: ProductoGettersStr = {
  getNombre: () =&gt; "Laptop",
  getDescripcion: () =&gt; "Una laptop"
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejemplo_práctico_validadores"><a class="link" href="#_ejemplo_práctico_validadores">Ejemplo Práctico: Validadores</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface FormularioRegistro {
  nombre: string;
  email: string;
  edad: number;
  contraseña: string;
}

// Tipo que crea validadores para cada campo
type Validadores&lt;T&gt; = {
  [K in keyof T]: (valor: T[K]) =&gt; boolean;
};

const validadores: Validadores&lt;FormularioRegistro&gt; = {
  nombre: (v) =&gt; v.length &gt; 0,
  email: (v) =&gt; v.includes("@"),
  edad: (v) =&gt; v &gt;= 18,
  contraseña: (v) =&gt; v.length &gt;= 8
};

// Usar validadores
function validarFormulario(datos: FormularioRegistro): boolean {
  for (const [campo, validador] of Object.entries(validadores)) {
    if (!validador(datos[campo as keyof FormularioRegistro])) {
      console.log(`Error en ${campo}`);
      return false;
    }
  }
  return true;
}

const formulario: FormularioRegistro = {
  nombre: "Juan",
  email: "juan@example.com",
  edad: 25,
  contraseña: "password123"
};

console.log(validarFormulario(formulario));  // true</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_8_4_decoradores_y_metadata"><a class="link" href="#_8_4_decoradores_y_metadata">8.4 Decoradores y Metadata</a></h4>
<div class="paragraph">
<p>Los <strong>decoradores</strong> son funciones que modifican clases, métodos o propiedades.</p>
</div>
<div class="sect4">
<h5 id="_habilitar_decoradores"><a class="link" href="#_habilitar_decoradores">Habilitar Decoradores</a></h5>
<div class="paragraph">
<p>Primero, habilita en <code>tsconfig.json</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compilerOptions": {
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_decoradores_de_clase"><a class="link" href="#_decoradores_de_clase">Decoradores de Clase</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Decorador simple
function Sellado&lt;T extends { new(...args: any[]): {} }&gt;(constructor: T) {
  Object.seal(constructor);
  Object.seal(constructor.prototype);
}

@Sellado
class Persona {
  nombre: string;

  constructor(nombre: string) {
    this.nombre = nombre;
  }
}

const p = new Persona("Juan");
p.nombre = "María";  // ✓ Puede cambiar existing property
p.edad = 30;         // ✗ Error: Cannot add new property (sealed)

// Decorador que añade propiedades
function Timestamped&lt;T extends { new(...args: any[]): {} }&gt;(constructor: T) {
  return class extends constructor {
    createdAt = new Date();
    updatedAt = new Date();
  };
}

@Timestamped
class Documento {
  titulo: string;

  constructor(titulo: string) {
    this.titulo = titulo;
  }
}

const doc = new Documento("Mi documento");
console.log(doc.createdAt);  // Date actual</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_decoradores_de_métodos"><a class="link" href="#_decoradores_de_métodos">Decoradores de Métodos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Decorador que registra llamadas
function Log(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
  const originalMethod = descriptor.value;

  descriptor.value = function (...args: any[]) {
    console.log(`Llamando ${propertyKey} con args:`, args);
    const resultado = originalMethod.apply(this, args);
    console.log(`${propertyKey} retornó:`, resultado);
    return resultado;
  };

  return descriptor;
}

class Calculadora {
  @Log
  sumar(a: number, b: number): number {
    return a + b;
  }
}

const calc = new Calculadora();
calc.sumar(5, 3);
// Output:
// Llamando sumar con args: [ 5, 3 ]
// sumar retornó: 8

// Decorador que valida
function Validar(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
  const originalMethod = descriptor.value;

  descriptor.value = function (...args: any[]) {
    if (args.some(arg =&gt; arg === null || arg === undefined)) {
      throw new Error(`${propertyKey}: argumentos no pueden ser null`);
    }
    return originalMethod.apply(this, args);
  };

  return descriptor;
}

class BaseDatos {
  @Validar
  guardar(id: number, datos: any): void {
    console.log(`Guardando ${id}:`, datos);
  }
}

const db = new BaseDatos();
db.guardar(1, { nombre: "Test" });   // ✓
db.guardar(null, { nombre: "Test" }); // ✗ Error</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_decoradores_de_propiedades"><a class="link" href="#_decoradores_de_propiedades">Decoradores de Propiedades</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Decorador que rastrea cambios
function Track(target: any, propertyKey: string) {
  let value = target[propertyKey];

  const getter = () =&gt; {
    console.log(`Leyendo ${propertyKey}: ${value}`);
    return value;
  };

  const setter = (newValue: any) =&gt; {
    console.log(`Escribiendo ${propertyKey}: ${value} → ${newValue}`);
    value = newValue;
  };

  Object.defineProperty(target, propertyKey, {
    get: getter,
    set: setter,
    enumerable: true,
    configurable: true
  });
}

class Cuenta {
  @Track
  saldo: number = 1000;
}

const cuenta = new Cuenta();
console.log(cuenta.saldo);    // Leyendo saldo: 1000
cuenta.saldo = 1500;          // Escribiendo saldo: 1000 → 1500</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_decoradores_personalizados"><a class="link" href="#_decoradores_personalizados">Decoradores Personalizados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Factory de decorador con opciones
function Documenter(especificacion: string) {
  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    descriptor.value._documentacion = especificacion;
    return descriptor;
  };
}

class API {
  @Documenter("Obtiene un usuari por su ID")
  obtenerUsuario(id: number) {
    return { id, nombre: "Juan" };
  }

  @Documenter("Crea un nuevo usuario")
  crearUsuario(datos: any) {
    return { id: 1, ...datos };
  }
}

const api = new API();
console.log(api.obtenerUsuario._documentacion);
// "Obtiene un usuario por su ID"

// Decorador para medir tiempo
function MedirTiempo(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
  const originalMethod = descriptor.value;

  descriptor.value = async function (...args: any[]) {
    const inicio = performance.now();
    const resultado = await originalMethod.apply(this, args);
    const duracion = performance.now() - inicio;
    console.log(`${propertyKey} tardó ${duracion.toFixed(2)}ms`);
    return resultado;
  };

  return descriptor;
}

class Servicio {
  @MedirTiempo
  async consultarAPI(): Promise&lt;void&gt; {
    await new Promise(resolve =&gt; setTimeout(resolve, 100));
  }
}

const servicio = new Servicio();
await servicio.consultarAPI();  // "consultarAPI tardó 100.xxms"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejercicios_propuestos_8"><a class="link" href="#_ejercicios_propuestos_8">Ejercicios Propuestos</a></h5>
<div class="listingblock">
<div class="title">1. Tipos utilitarios en práctica:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear interfaz Película con:
// id, título, director, año, presupuesto, ingresos
// Pick para formulario creación (sin id, sin ingresos)
// Omit para respuesta pública (sin presupuesto)
// Partial para actualizaciones</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Mapped types personalizados:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear mapped type que genere propiedades de validación
// Para Usuario { nombre: string, edad: number }
// Resulte en { nombreValido: boolean, edadValida: boolean }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Tipos condicionales:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tipo que determine si algo es array
// Si es array, extrae el tipo del elemento
// Si no, retorna el tipo mismo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Decorador personalizado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear decorador @Cache que cachee resultado de método
// Segunda llamada retorna valor en cache
// Implementar para método que simula consulta lenta</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_9_módulos_y_namespaces"><a class="link" href="#_módulo_9_módulos_y_namespaces">Módulo 9: Módulos y Namespaces</a></h3>
<div class="paragraph">
<p>Los módulos son la forma moderna de organizar código en proyectos grandes. TypeScript amplía el sistema de módulos de JavaScript con características de tipo.</p>
</div>
<div class="sect3">
<h4 id="_9_1_módulos_importexport"><a class="link" href="#_9_1_módulos_importexport">9.1 Módulos: import/export</a></h4>
<div class="paragraph">
<p>Un <strong>módulo</strong> es un archivo que contiene código reutilizable. Las palabras clave <code>export</code> e <code>import</code> permiten compartir código entre módulos.</p>
</div>
<div class="sect4">
<h5 id="_export_de_declaraciones"><a class="link" href="#_export_de_declaraciones">Export de declaraciones</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// usuario.ts
export interface Usuario {
  id: number;
  nombre: string;
  email: string;
}

export class UsuarioServicio {
  private usuarios: Usuario[] = [];

  agregar(usuario: Usuario): void {
    this.usuarios.push(usuario);
  }

  obtener(id: number): Usuario | undefined {
    return this.usuarios.find(u =&gt; u.id === id);
  }

  obtenerTodos(): Usuario[] {
    return [...this.usuarios];
  }
}

// Constantes exportadas
export const LONGITUD_MINIMA_NOMBRE = 2;
export const LONGITUD_MAXIMA_NOMBRE = 100;

// Tipos exportados
export type DatosUsuario = Omit&lt;Usuario, "id"&gt;;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_import_de_módulos"><a class="link" href="#_import_de_módulos">Import de módulos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// app.ts
import { Usuario, UsuarioServicio, LONGITUD_MINIMA_NOMBRE } from "./usuario";

const servicio = new UsuarioServicio();

const nuevoUsuario: Usuario = {
  id: 1,
  nombre: "Juan",
  email: "juan@example.com"
};

servicio.agregar(nuevoUsuario);

const usuario = servicio.obtener(1);
console.log(usuario?.nombre);  // "Juan"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_imports_selectivos_y_namespace_imports"><a class="link" href="#_imports_selectivos_y_namespace_imports">Imports selectivos y namespace imports</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Import selectivo - solo lo que necesitas
import { Usuario, LONGITUD_MINIMA_NOMBRE } from "./usuario";

// Namespace import - todo bajo un nombre
import * as usuarioModule from "./usuario";

const servicio = new usuarioModule.UsuarioServicio();
const minimo = usuarioModule.LONGITUD_MINIMA_NOMBRE;

// Aliasing
import { Usuario as User, UsuarioServicio as UserService } from "./usuario";

const service = new UserService();
const user: User = {
  id: 1,
  nombre: "María",
  email: "maria@example.com"
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_re_export"><a class="link" href="#_re_export">Re-export</a></h5>
<div class="paragraph">
<p>Redirige exportaciones de otros módulos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tipos.ts
export interface Usuario {
  id: number;
  nombre: string;
}

export interface Producto {
  id: number;
  nombre: string;
  precio: number;
}

// index.ts (barril)
// Re-exporta todos los tipos en un lugar central
export * from "./tipos";
export * from "./usuario";
export * from "./producto";

// En la aplicación
import { Usuario, Producto, UsuarioServicio } from "./index";
// Mucho más limpio que importar de múltiples archivos</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_9_2_exportaciones_nombradas_y_por_defecto"><a class="link" href="#_9_2_exportaciones_nombradas_y_por_defecto">9.2 Exportaciones Nombradas y por Defecto</a></h4>
<div class="sect4">
<h5 id="_export_nombrado"><a class="link" href="#_export_nombrado">Export Nombrado</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// autores.ts
export interface Autor {
  nombre: string;
  email: string;
}

export const obtenerAutores = (): Autor[] =&gt; [
  { nombre: "Juan", email: "juan@example.com" },
  { nombre: "María", email: "maria@example.com" }
];

export class RepositorioAutores {
  private autores: Autor[] = [];

  registrar(autor: Autor): void {
    this.autores.push(autor);
  }
}

// Importar con nombres
import { Autor, obtenerAutores, RepositorioAutores } from "./autores";</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_export_por_defecto"><a class="link" href="#_export_por_defecto">Export por Defecto</a></h5>
<div class="paragraph">
<p>Cada módulo puede tener <strong>un</strong> export por defecto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// logger.ts
export interface LogConfig {
  nivel: "info" | "warn" | "error";
}

class Logger {
  private config: LogConfig;

  constructor(config: LogConfig) {
    this.config = config;
  }

  log(mensaje: string): void {
    const timestamp = new Date().toISOString();
    console.log(`[${timestamp}] ${mensaje}`);
  }

  error(error: Error): void {
    console.error(`Error: ${error.message}`);
  }
}

export default Logger;

// Importar default export
import Logger from "./logger";

const logger = new Logger({ nivel: "info" });
logger.log("Aplicación iniciada");</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mixtura_de_imports_por_defecto_y_nombrados"><a class="link" href="#_mixtura_de_imports_por_defecto_y_nombrados">Mixtura de imports por defecto y nombrados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// base-datos.ts
export interface ConfigDB {
  host: string;
  puerto: number;
}

class BaseDatos {
  private config: ConfigDB;

  constructor(config: ConfigDB) {
    this.config = config;
  }

  conectar(): void {
    console.log(`Conectando a ${this.config.host}:${this.config.puerto}`);
  }
}

export default BaseDatos;

// app.ts
import BaseDatos, { ConfigDB } from "./base-datos";

const config: ConfigDB = {
  host: "localhost",
  puerto: 5432
};

const db = new BaseDatos(config);
db.conectar();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_renombrando_exports"><a class="link" href="#_renombrando_exports">Renombrando exports</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// utilidades.ts
export const sumar = (a: number, b: number): number =&gt; a + b;
export const restar = (a: number, b: number): number =&gt; a - b;
export const multiplicar = (a: number, b: number): number =&gt; a * b;

// Renombrar al importar
import {
  sumar as add,
  restar as subtract,
  multiplicar as multiply
} from "./utilidades";

console.log(add(5, 3));      // 8
console.log(subtract(10, 4)); // 6
console.log(multiply(2, 3));  // 6</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_9_3_resolución_de_módulos"><a class="link" href="#_9_3_resolución_de_módulos">9.3 Resolución de Módulos</a></h4>
<div class="paragraph">
<p>TypeScript busca módulos siguiendo reglas específicas.</p>
</div>
<div class="sect4">
<h5 id="_module_resolution_node_vs_classic"><a class="link" href="#_module_resolution_node_vs_classic">Module Resolution: Node vs Classic</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json - Node (recomendado)
{
  "compilerOptions": {
    "moduleResolution": "node",
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rutas_de_búsqueda_y_baseurl"><a class="link" href="#_rutas_de_búsqueda_y_baseurl">Rutas de búsqueda y baseUrl</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json
{
  "compilerOptions": {
    "moduleResolution": "node",
    "baseUrl": "src",
    "paths": {
      "@utilidades/*": ["utils/*"],
      "@modelos/*": ["models/*"],
      "@servicios/*": ["services/*"]
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Estructura:
// src/
//   utils/
//     math.ts
//   models/
//     usuario.ts
//   services/
//     autenticacion.ts

// Sin paths:
import { sumar } from "../../utils/math";
import { Usuario } from "../../models/usuario";

// Con paths (mucho más limpio):
import { sumar } from "@utilidades/math";
import { Usuario } from "@modelos/usuario";
import { autenticar } from "@servicios/autenticacion";</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_resolución_de_módulos_en_node"><a class="link" href="#_resolución_de_módulos_en_node">Resolución de módulos en Node</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Búsqueda de módulo "xyz":

// 1. Si es ruta relativa (./xyz, ../xyz)
//    Busca archivo exacto o .ts/.js

// 2. Si es sin ruta (xyz)
//    Busca en node_modules/xyz
//    Consulta package.json de xyz

// Ejemplo: importar paquete externo
import express from "express";
// Busca:
// node_modules/express/index.js (o .ts)
// O el archivo especificado en package.json de express

// Ejemplo: módulo local
import { utils } from "./utils";
// Busca:
// 1. ./utils.ts
// 2. ./utils.js
// 3. ./utils/index.ts
// 4. ./utils/index.js</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extensiones_y_omisión"><a class="link" href="#_extensiones_y_omisión">Extensiones y omisión</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Las extensiones son opcionales:
import { Usuario } from "./usuario";     // Funciona
import { Usuario } from "./usuario.ts";  // También funciona

// Para carpetas, busca index:
import { help } from "./utils";
// Busca:
// utils/index.ts
// utils/index.js

// Si tienes:
// utils/
//   index.ts
//   helpers.ts

// Estos son equivalentes:
import { help } from "./utils";          // ✓
import { help } from "./utils/index";    // ✓</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_9_4_declaración_de_tipos_con_d_ts"><a class="link" href="#_9_4_declaración_de_tipos_con_d_ts">9.4 Declaración de Tipos con .d.ts</a></h4>
<div class="paragraph">
<p>Los archivos <code>.d.ts</code> contienen solo <strong>declaraciones de tipos</strong>, sin implementación.</p>
</div>
<div class="sect4">
<h5 id="_crear_archivo_d_ts"><a class="link" href="#_crear_archivo_d_ts">Crear archivo .d.ts</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// usuario.d.ts
// Solo tipos, sin implementación

export interface Usuario {
  id: number;
  nombre: string;
  email: string;
  activo: boolean;
}

export interface UsuarioInput {
  nombre: string;
  email: string;
}

export class UsuarioServicio {
  agregar(usuario: UsuarioInput): Usuario;
  obtener(id: number): Usuario | undefined;
  obtenerTodos(): Usuario[];
  actualizar(id: number, datos: Partial&lt;Usuario&gt;): void;
}

export function validarEmail(email: string): boolean;
export function hashPassword(password: string): string;

export const LONGITUD_MINIMA_PASSWORD: number;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_usar_archivo_d_ts_con_implementación_javascript"><a class="link" href="#_usar_archivo_d_ts_con_implementación_javascript">Usar archivo .d.ts con implementación JavaScript</a></h5>
<div class="paragraph">
<p>Ideal para acoplar TypeScript a código JavaScript existente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// usuario.js (javascript puro)
class UsuarioServicio {
  constructor() {
    this.usuarios = [];
  }

  agregar(usuario) {
    this.usuarios.push(usuario);
    return { id: this.usuarios.length, ...usuario };
  }

  obtener(id) {
    return this.usuarios.find(u =&gt; u.id === id);
  }

  obtenerTodos() {
    return [...this.usuarios];
  }
}

function validarEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

module.exports = { UsuarioServicio, validarEmail };

// usuario.d.ts (TypeScript declara los tipos)
export interface Usuario {
  id: number;
  nombre: string;
  email: string;
}

export class UsuarioServicio {
  agregar(usuario: Usuario): Usuario;
  obtener(id: number): Usuario | undefined;
  obtenerTodos(): Usuario[];
}

export function validarEmail(email: string): boolean;

// app.ts (TypeScript usa los tipos del .d.ts)
import { UsuarioServicio, validarEmail } from "./usuario";

const servicio = new UsuarioServicio();
const esValido = validarEmail("test@example.com");

servicio.agregar({
  id: 1,
  nombre: "Juan",
  email: "juan@example.com"
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejemplo_práctico_tipificar_librería_javascript"><a class="link" href="#_ejemplo_práctico_tipificar_librería_javascript">Ejemplo práctico: Tipificar librería JavaScript</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// math-lib.js (librería sin tipos)
function sumar(a, b) {
  return a + b;
}

function restar(a, b) {
  return a - b;
}

function promedio(...numeros) {
  return numeros.reduce((a, b) =&gt; a + b, 0) / numeros.length;
}

module.exports = { sumar, restar, promedio };

// math-lib.d.ts (tipos para la librería)
export function sumar(a: number, b: number): number;
export function restar(a: number, b: number): number;
export function promedio(...numeros: number[]): number;

// app.ts
import { sumar, restar, promedio } from "./math-lib";

const resultado = sumar(5, 3);           // ✓ Tipo number
const resta = restar(10, 4);             // ✓ Tipo number
const avg = promedio(1, 2, 3, 4, 5);    // ✓ Tipo number

// Error detectado por TypeScript
const error = sumar("5", 3);  // ✗ Error: Argument of type 'string' is not assignable</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generating_d_ts_automáticamente"><a class="link" href="#_generating_d_ts_automáticamente">Generating .d.ts automáticamente</a></h5>
<div class="paragraph">
<p>TypeScript puede generar archivos <code>.d.ts</code> desde código TypeScript.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json
{
  "compilerOptions": {
    "declaration": true,
    "declarationDir": "types",
    "emitDeclarationOnly": false,
    "outDir": "dist"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// servicio.ts
export interface Config {
  timeout: number;
}

export class Servicio {
  private config: Config;

  constructor(config: Config) {
    this.config = config;
  }

  procesar(): void {
    console.log(`Procesando con timeout ${this.config.timeout}`);
  }
}

// Al compilar con declaration: true, genera:
// types/servicio.d.ts
// {
//   export interface Config {
//     timeout: number;
//   }
//   export class Servicio {
//     constructor(config: Config);
//     procesar(): void;
//   }
// }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_triple_slash_directives_para_referencias"><a class="link" href="#_triple_slash_directives_para_referencias">Triple-slash directives para referencias</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// types/global.d.ts
export interface Window {
  miVariable: string;
  miFuncion(): void;
}

// app.ts
/// &lt;reference path="./types/global.d.ts" /&gt;

// Ahora TypeScript conoce los tipos definidos
declare global {
  interface Window {
    miAPI: {
      obtener(): Promise&lt;any&gt;;
    };
  }
}

window.miAPI.obtener();  // ✓ TypeScript lo conoce</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_organizar_tipos_en_un_proyecto"><a class="link" href="#_organizar_tipos_en_un_proyecto">Organizar tipos en un proyecto</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// types/index.d.ts (barril para tipos)
export * from "./usuario";
export * from "./producto";
export * from "./pedido";

// types/usuario.d.ts
export interface Usuario {
  id: number;
  nombre: string;
}

// types/producto.d.ts
export interface Producto {
  id: number;
  nombre: string;
  precio: number;
}

// app.ts
import { Usuario, Producto } from "./types";

const usuario: Usuario = { id: 1, nombre: "Juan" };
const producto: Producto = { id: 1, nombre: "Laptop", precio: 999 };</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_sistema_modular_completo"><a class="link" href="#_ejemplo_integrado_sistema_modular_completo">Ejemplo Integrado: Sistema Modular Completo</a></h4>
<div class="paragraph">
<p>Estructura de proyecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">src/
  types/
    index.d.ts
    usuario.d.ts
    producto.d.ts
  models/
    usuario.ts
    producto.ts
  services/
    autenticacion.ts
    carrito.ts
  utils/
    validacion.ts
    conversor.ts
  index.ts</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/types/usuario.d.ts
export interface Usuario {
  id: number;
  nombre: string;
  email: string;
  activo: boolean;
}

export interface LoginCredentials {
  email: string;
  contraseña: string;
}

// src/types/producto.d.ts
export interface Producto {
  id: number;
  nombre: string;
  precio: number;
  stock: number;
}

// src/types/index.d.ts (barril)
export * from "./usuario";
export * from "./producto";

// src/models/usuario.ts
import { Usuario, LoginCredentials } from "../types";

export class UsuarioModelo {
  static async obtener(id: number): Promise&lt;Usuario&gt; {
    // Simulación de obtención de DB
    return {
      id,
      nombre: "Juan",
      email: "juan@example.com",
      activo: true
    };
  }

  static async autenticar(creds: LoginCredentials): Promise&lt;Usuario&gt; {
    // Lógica de autenticación
    return {
      id: 1,
      nombre: "Juan",
      email: creds.email,
      activo: true
    };
  }
}

// src/services/autenticacion.ts
import { Usuario, LoginCredentials } from "../types";
import { UsuarioModelo } from "../models/usuario";

export class ServicioAutenticacion {
  async login(credenciales: LoginCredentials): Promise&lt;Usuario&gt; {
    const usuario = await UsuarioModelo.autenticar(credenciales);
    console.log(`Usuario ${usuario.nombre} autenticado`);
    return usuario;
  }

  async logout(usuario: Usuario): Promise&lt;void&gt; {
    console.log(`Cerrando sesión de ${usuario.nombre}`);
  }
}

// src/index.ts (punto de entrada)
export * from "./types";
export { UsuarioModelo } from "./models/usuario";
export { ServicioAutenticacion } from "./services/autenticacion";

// En otra aplicación
// app.ts
import {
  Usuario,
  LoginCredentials,
  UsuarioModelo,
  ServicioAutenticacion
} from "./src";

const credenciales: LoginCredentials = {
  email: "juan@example.com",
  contraseña: "password123"
};

const auth = new ServicioAutenticacion();
const usuario = await auth.login(credenciales);
console.log(`Bienvenido ${usuario.nombre}`);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_9"><a class="link" href="#_ejercicios_propuestos_9">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Módulos básicos:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear módulo calculadora.ts con:
// - Funciones: sumar, restar, multiplicar, dividir
// - Export nombrado para cada función
// - Crear app.ts que importe y use todas las funciones</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Export por defecto:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Persona con:
// - propiedades: nombre, edad, email
// - método: presentarse()
// - Export por defecto la clase
// - Import con nombre diferente en otro archivo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Tipos con .d.ts:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Criar librería math.js en JavaScript puro
// Crear math.d.ts con tipos
// Usar en TypeScript con verificación de tipos</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Organización de módulos:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear estructura de proyecto:
// src/
//   models/
//   services/
//   types/
//   utils/
// Con relaciones entre módulos (imports cruzados)
// Usar paths en tsconfig.json para simplificar imports</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_10_programación_asincrónica"><a class="link" href="#_módulo_10_programación_asincrónica">Módulo 10: Programación Asincrónica</a></h3>
<div class="paragraph">
<p>Las operaciones asincrónicas (entrada/salida, redes, temporizadores) son fundamentales en JavaScript. TypeScript proporciona tipos para escribir código asincrónico seguro.</p>
</div>
<div class="sect3">
<h4 id="_10_1_promises_y_tipado"><a class="link" href="#_10_1_promises_y_tipado">10.1 Promises y Tipado</a></h4>
<div class="paragraph">
<p>Una <strong>Promise</strong> representa una operación que se completará en el futuro con un valor o error.</p>
</div>
<div class="sect4">
<h5 id="_promise_básica"><a class="link" href="#_promise_básica">Promise básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Promise&lt;T&gt; - se resuelve con valor de tipo T
const promesa: Promise&lt;string&gt; = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve("Operación completada");
  }, 1000);
});

promesa.then(resultado =&gt; {
  console.log(resultado);  // "Operación completada"
});

// Promise que rechaza
const promesaRechazada: Promise&lt;never&gt; = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    reject(new Error("Algo salió mal"));
  }, 1000);
});

promesaRechazada.catch(error =&gt; {
  console.error(error.message);  // "Algo salió mal"
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_encadenar_promises_con_then"><a class="link" href="#_encadenar_promises_con_then">Encadenar promises con then</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
}

function obtenerUsuario(id: number): Promise&lt;Usuario&gt; {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve({ id, nombre: "Juan" });
    }, 500);
  });
}

function obtenerAmigos(usuarioId: number): Promise&lt;Usuario[]&gt; {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve([
        { id: 2, nombre: "María" },
        { id: 3, nombre: "Carlos" }
      ]);
    }, 500);
  });
}

// Encadenar promises
obtenerUsuario(1)
  .then(usuario =&gt; {
    console.log("Usuario:", usuario.nombre);
    return obtenerAmigos(usuario.id);
  })
  .then(amigos =&gt; {
    console.log("Amigos:", amigos.map(a =&gt; a.nombre));
  })
  .catch(error =&gt; {
    console.error("Error:", error);
  });</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_resolver_múltiples_promises"><a class="link" href="#_resolver_múltiples_promises">Resolver múltiples promises</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Datos {
  usuarios: Usuario[];
  productos: { id: number; nombre: string }[];
  estadisticas: { total: number };
}

const p1 = new Promise&lt;Usuario[]&gt;(resolve =&gt; {
  setTimeout(() =&gt; resolve([{ id: 1, nombre: "Juan" }]), 500);
});

const p2 = new Promise&lt;{ id: number; nombre: string }[]&gt;(resolve =&gt; {
  setTimeout(() =&gt; resolve([{ id: 1, nombre: "Laptop" }]), 500);
});

const p3 = new Promise&lt;{ total: number }&gt;(resolve =&gt; {
  setTimeout(() =&gt; resolve({ total: 100 }), 500);
});

// Promise.all - espera todas las promises
Promise
  .all([p1, p2, p3])
  .then(([usuarios, productos, stats]) =&gt; {
    const datos: Datos = {
      usuarios,
      productos,
      estadisticas: stats
    };
    console.log(datos);
  });

// Promise.race - retorna la primera que se complete
Promise.race([p1, p2, p3])
  .then(resultado =&gt; {
    console.log("Primera completada:", resultado);
  });

// Promise.allSettled - espera todas, incluso si fallan
Promise.allSettled([p1, p2, p3])
  .then(resultados =&gt; {
    resultados.forEach((resultado, index) =&gt; {
      if (resultado.status === "fulfilled") {
        console.log(`Promise ${index} completada:`, resultado.value);
      } else {
        console.log(`Promise ${index} rechazada:`, resultado.reason);
      }
    });
  });</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_crear_promesas_de_tipos_complejos"><a class="link" href="#_crear_promesas_de_tipos_complejos">Crear promesas de tipos complejos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Respuesta&lt;T&gt; {
  datos: T;
  estado: "éxito" | "error";
  mensaje: string;
}

function obtenerDatos&lt;T&gt;(ruta: string): Promise&lt;Respuesta&lt;T&gt;&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      if (Math.random() &gt; 0.5) {
        resolve({
          datos: {} as T,
          estado: "éxito",
          mensaje: "Datos obtenidos"
        });
      } else {
        reject(new Error("Error en la solicitud"));
      }
    }, 1000);
  });
}

// Usar con tipos genéricos
obtenerDatos&lt;Usuario&gt;("/api/usuarios")
  .then(respuesta =&gt; {
    console.log(respuesta.datos);  // Tipo: Usuario
  });

obtenerDatos&lt;string[]&gt;("/api/etiquetas")
  .then(respuesta =&gt; {
    console.log(respuesta.datos);  // Tipo: string[]
  });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_10_2_asyncawait_en_typescript"><a class="link" href="#_10_2_asyncawait_en_typescript">10.2 async/await en TypeScript</a></h4>
<div class="paragraph">
<p><strong>async/await</strong> simplifica el código asincrónico, permitiendo escribir código que parece síncrono.</p>
</div>
<div class="sect4">
<h5 id="_función_async_básica"><a class="link" href="#_función_async_básica">Función async básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Una función async siempre retorna Promise
async function saludar(): Promise&lt;string&gt; {
  return "Hola";
}

// Equivalente a:
function saludar2(): Promise&lt;string&gt; {
  return Promise.resolve("Hola");
}

// Llamar una función async
const resultado = await saludar();
console.log(resultado);  // "Hola"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_await_dentro_de_funciones_async"><a class="link" href="#_await_dentro_de_funciones_async">await dentro de funciones async</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
}

function obtenerUsuario(id: number): Promise&lt;Usuario&gt; {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve({ id, nombre: "Juan" });
    }, 500);
  });
}

function obtenerAmigos(usuarioId: number): Promise&lt;Usuario[]&gt; {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve([
        { id: 2, nombre: "María" },
        { id: 3, nombre: "Carlos" }
      ]);
    }, 500);
  });
}

// Con await - mucho más legible que .then()
async function obtenerInfoUsuario(id: number): Promise&lt;void&gt; {
  const usuario = await obtenerUsuario(id);
  console.log(`Usuario: ${usuario.nombre}`);

  const amigos = await obtenerAmigos(usuario.id);
  console.log(`Amigos: ${amigos.map(a =&gt; a.nombre).join(", ")}`);
}

// Llamar
await obtenerInfoUsuario(1);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_asyncawait_con_tipos_explícitos"><a class="link" href="#_asyncawait_con_tipos_explícitos">async/await con tipos explícitos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface BaseDatos {
  conectar(): Promise&lt;void&gt;;
  consulta(sql: string): Promise&lt;any[]&gt;;
  desconectar(): Promise&lt;void&gt;;
}

async function consultarDatos(): Promise&lt;Usuario[]&gt; {
  const db: BaseDatos = {
    conectar: async () =&gt; console.log("Conectando..."),
    consulta: async (sql) =&gt; [{ id: 1, nombre: "Juan" }],
    desconectar: async () =&gt; console.log("Desconectando...")
  };

  await db.conectar();
  const usuarios: Usuario[] = await db.consulta("SELECT * FROM usuarios");
  await db.desconectar();

  return usuarios;
}

// Tipo de retorno debe coincidir
const usuarios: Promise&lt;Usuario[]&gt; = consultarDatos();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_operaciones_paralelas_con_asyncawait"><a class="link" href="#_operaciones_paralelas_con_asyncawait">Operaciones paralelas con async/await</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function obtenerDatosCompletos(): Promise&lt;{
  usuarios: Usuario[];
  amigos: Usuario[];
}&gt; {
  // Secuencial (lento):
  const usuarios = await obtenerUsuario(1);
  const amigos = await obtenerAmigos(usuarios.id);

  // Paralelo (rápido):
  const [usuario, amigosList] = await Promise.all([
    obtenerUsuario(1),
    obtenerAmigos(1)
  ]);

  return {
    usuarios: [usuario],
    amigos: amigosList
  };
}

// Race - primera que se complete
async function obtenerPrimero(): Promise&lt;Usuario&gt; {
  const resultado = await Promise.race([
    obtenerUsuario(1),
    obtenerUsuario(2),
    obtenerUsuario(3)
  ]);
  return resultado;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tipado_de_callbacks_en_async"><a class="link" href="#_tipado_de_callbacks_en_async">Tipado de callbacks en async</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type CallbackFuncion&lt;T&gt; = (error: Error | null, resultado?: T) =&gt; void;

async function conCallback&lt;T&gt;(
  tarea: Promise&lt;T&gt;,
  callback: CallbackFuncion&lt;T&gt;
): Promise&lt;void&gt; {
  try {
    const resultado = await tarea;
    callback(null, resultado);
  } catch (error) {
    callback(error instanceof Error ? error : new Error(String(error)));
  }
}

// Usar
conCallback(
  obtenerUsuario(1),
  (error, usuario) =&gt; {
    if (error) {
      console.error("Error:", error.message);
    } else {
      console.log("Usuario:", usuario?.nombre);
    }
  }
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_10_3_manejo_de_errores_asincrónico"><a class="link" href="#_10_3_manejo_de_errores_asincrónico">10.3 Manejo de Errores Asincrónico</a></h4>
<div class="sect4">
<h5 id="_trycatch_en_funciones_async"><a class="link" href="#_trycatch_en_funciones_async">try/catch en funciones async</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function obtenerDatosSeguro(): Promise&lt;Usuario | null&gt; {
  try {
    const usuario = await obtenerUsuario(1);
    console.log("Usuario obtenido:", usuario.nombre);
    return usuario;
  } catch (error) {
    // error es de tipo unknown
    if (error instanceof Error) {
      console.error("Error:", error.message);
    } else {
      console.error("Error desconocido:", error);
    }
    return null;
  }
}

await obtenerDatosSeguro();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_discriminar_tipos_de_error"><a class="link" href="#_discriminar_tipos_de_error">Discriminar tipos de error</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface ErrorRespuesta {
  codigo: string;
  mensaje: string;
}

interface ErrorRed {
  tipo: "RED";
  razon: string;
}

interface ErrorBD {
  tipo: "BD";
  sql: string;
  mensaje: string;
}

type ErrorPersonalizado = ErrorRespuesta | ErrorRed | ErrorBD;

async function consultarBD(): Promise&lt;Usuario[]&gt; {
  try {
    // Simular consulta
    const usuarios = await obtenerUsuario(1);
    return [usuarios];
  } catch (error) {
    if (error instanceof TypeError) {
      // Error de tipo
      const err: ErrorRed = {
        tipo: "RED",
        razon: error.message
      };
      throw err;
    } else if (error instanceof SyntaxError) {
      // Error de parsing
      throw new Error("Respuesta inválida");
    } else {
      throw error;
    }
  }
}

async function manejarErrores(): Promise&lt;void&gt; {
  try {
    await consultarBD();
  } catch (error) {
    const err = error as ErrorPersonalizado;
    if ("tipo" in err &amp;&amp; err.tipo === "RED") {
      console.error("Error de red:", (err as ErrorRed).razon);
    } else if ("codigo" in err) {
      console.error("Error de respuesta:", (err as ErrorRespuesta).mensaje);
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_finally_en_promises"><a class="link" href="#_finally_en_promises">finally en promises</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function operacionConLimpieza(): Promise&lt;void&gt; {
  let conexion: any = null;

  try {
    conexion = await conectarBD();
    const usuarios = await consultarUsuarios(conexion);
    console.log("Usuarios:", usuarios);
  } catch (error) {
    console.error("Error:", error);
  } finally {
    if (conexion) {
      await desconectar(conexion);
      console.log("Conexión cerrada");
    }
  }
}

// Simulación de funciones
async function conectarBD(): Promise&lt;any&gt; {
  return { id: "conexion-1" };
}

async function consultarUsuarios(conn: any): Promise&lt;Usuario[]&gt; {
  return [{ id: 1, nombre: "Juan" }];
}

async function desconectar(conn: any): Promise&lt;void&gt; {
  console.log("Desconectando...");
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_crear_errores_personalizados"><a class="link" href="#_crear_errores_personalizados">Crear errores personalizados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class ErrorAPI extends Error {
  constructor(
    public statusCode: number,
    mensaje: string
  ) {
    super(mensaje);
    this.name = "ErrorAPI";
    Object.setPrototypeOf(this, ErrorAPI.prototype);
  }
}

class ErrorValidacion extends Error {
  constructor(
    public campo: string,
    public valor: any
  ) {
    super(`Validación fallida para ${campo}`);
    this.name = "ErrorValidacion";
    Object.setPrototypeOf(this, ErrorValidacion.prototype);
  }
}

async function validarYGuardar(usuario: Partial&lt;Usuario&gt;): Promise&lt;Usuario&gt; {
  if (!usuario.nombre) {
    throw new ErrorValidacion("nombre", usuario.nombre);
  }

  try {
    // Simular solicitud API
    if (Math.random() &gt; 0.5) {
      throw new ErrorAPI(500, "Error del servidor");
    }
    return { id: 1, ...usuario as Usuario };
  } catch (error) {
    if (error instanceof ErrorAPI) {
      console.error(`API Error (${error.statusCode}): ${error.message}`);
    } else if (error instanceof ErrorValidacion) {
      console.error(`Validación Error (${error.campo}): ${error.message}`);
    }
    throw error;
  }
}

// Usar
try {
  await validarYGuardar({ nombre: "Juan" });
} catch (error) {
  // Manejar error
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_utilidades_para_manejo_de_errores"><a class="link" href="#_utilidades_para_manejo_de_errores">Utilidades para manejo de errores</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Función helper para ejecutar y retornar resultado o error
async function ejecutar&lt;T&gt;(
  promesa: Promise&lt;T&gt;
): Promise&lt;[T, null] | [null, Error]&gt; {
  try {
    const resultado = await promesa;
    return [resultado, null];
  } catch (error) {
    return [null, error instanceof Error ? error : new Error(String(error))];
  }
}

// Usar sin try/catch
const [usuario, error] = await ejecutar(obtenerUsuario(1));

if (error) {
  console.error("Error:", error.message);
} else {
  console.log("Usuario:", usuario?.nombre);
}

// Reintentos con exponential backoff
async function reintentarConExponential&lt;T&gt;(
  tarea: () =&gt; Promise&lt;T&gt;,
  maxIntentos: number = 3,
  delayInicial: number = 1000
): Promise&lt;T&gt; {
  let ultimoError: Error | undefined;

  for (let intento = 0; intento &lt; maxIntentos; intento++) {
    try {
      return await tarea();
    } catch (error) {
      ultimoError = error instanceof Error ? error : new Error(String(error));
      const delay = delayInicial * Math.pow(2, intento);
      console.log(`Intento ${intento + 1} falló, reintentando en ${delay}ms...`);
      await new Promise(resolve =&gt; setTimeout(resolve, delay));
    }
  }

  throw ultimoError;
}

// Usar
const usuarioConReintentos = await reintentarConExponential(
  () =&gt; obtenerUsuario(1),
  3,
  500
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_10_4_tipos_para_callbacks_y_eventos"><a class="link" href="#_10_4_tipos_para_callbacks_y_eventos">10.4 Tipos para Callbacks y Eventos</a></h4>
<div class="sect4">
<h5 id="_eventemitter_con_tipos"><a class="link" href="#_eventemitter_con_tipos">EventEmitter con tipos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type EventoListener&lt;T&gt; = (datos: T) =&gt; void | Promise&lt;void&gt;;

interface Eventos {
  "usuario-registrado": { id: number; nombre: string };
  "usuario-eliminado": { id: number };
  "error": { mensaje: string; codigo: number };
}

class EmisoreEvento&lt;T extends Record&lt;string, any&gt;&gt; {
  private listeners: Map&lt;string, EventoListener&lt;any&gt;[]&gt; = new Map();

  on&lt;K extends keyof T&gt;(evento: K, listener: EventoListener&lt;T[K]&gt;): void {
    if (!this.listeners.has(String(evento))) {
      this.listeners.set(String(evento), []);
    }
    this.listeners.get(String(evento))!.push(listener);
  }

  async emit&lt;K extends keyof T&gt;(evento: K, datos: T[K]): Promise&lt;void&gt; {
    const listeners = this.listeners.get(String(evento)) || [];
    for (const listener of listeners) {
      await listener(datos);
    }
  }

  off&lt;K extends keyof T&gt;(evento: K, listener: EventoListener&lt;T[K]&gt;): void {
    const listeners = this.listeners.get(String(evento)) || [];
    const index = listeners.indexOf(listener);
    if (index &gt; -1) {
      listeners.splice(index, 1);
    }
  }
}

// Usar
const emisor = new EmisoreEvento&lt;Eventos&gt;();

emisor.on("usuario-registrado", (usuario) =&gt; {
  console.log(`Nuevo usuario: ${usuario.nombre}`);
});

emisor.on("error", (error) =&gt; {
  console.error(`Error ${error.codigo}: ${error.mensaje}`);
});

await emisor.emit("usuario-registrado", { id: 1, nombre: "Juan" });
await emisor.emit("error", { mensaje: "Algo salió mal", codigo: 500 });</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_callbacks_tipados"><a class="link" href="#_callbacks_tipados">Callbacks tipados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">type CallbackExito&lt;T&gt; = (resultado: T) =&gt; void;
type CallbackError = (error: Error) =&gt; void;

function procesar&lt;T&gt;(
  tarea: Promise&lt;T&gt;,
  onSuccess: CallbackExito&lt;T&gt;,
  onError: CallbackError
): void {
  tarea
    .then(resultado =&gt; onSuccess(resultado))
    .catch(error =&gt; onError(error instanceof Error ? error : new Error(String(error))));
}

// Usar
procesar(
  obtenerUsuario(1),
  (usuario) =&gt; {
    console.log("Éxito:", usuario.nombre);
  },
  (error) =&gt; {
    console.error("Error:", error.message);
  }
);

// Callbacks con tipado de contexto this
interface Contexto {
  nombre: string;
}

function conContexto(
  contexto: Contexto,
  callback: (this: Contexto, resultado: string) =&gt; void
): void {
  callback.call(contexto, "Resultado");
}

conContexto(
  { nombre: "Mi contexto" },
  function (resultado) {
    console.log(`${this.nombre}: ${resultado}`);
  }
);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_timing_y_timeouts"><a class="link" href="#_timing_y_timeouts">Timing y timeouts</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function conTimeout&lt;T&gt;(
  promesa: Promise&lt;T&gt;,
  ms: number
): Promise&lt;T&gt; {
  return Promise.race([
    promesa,
    new Promise&lt;T&gt;((_, reject) =&gt;
      setTimeout(
        () =&gt; reject(new Error(`Timeout después de ${ms}ms`)),
        ms
      )
    )
  ]);
}

// Usar
try {
  const resultado = await conTimeout(obtenerUsuario(1), 5000);
  console.log(resultado);
} catch (error) {
  console.error("Timeout o error:", (error as Error).message);
}

// Delay helper
async function delay(ms: number): Promise&lt;void&gt; {
  return new Promise(resolve =&gt; setTimeout(resolve, ms));
}

async function conDelay(): Promise&lt;void&gt; {
  console.log("Esperando...");
  await delay(2000);
  console.log("Listo!");
}

// Debounce con tipos
function debounce&lt;T extends any[], R&gt;(
  func: (...args: T) =&gt; Promise&lt;R&gt;,
  ms: number
): (...args: T) =&gt; Promise&lt;R&gt; {
  let timeoutId: NodeJS.Timeout;
  let ultimoResultado: R;

  return (...args: T) =&gt; {
    clearTimeout(timeoutId);

    return new Promise((resolve) =&gt; {
      timeoutId = setTimeout(async () =&gt; {
        ultimoResultado = await func(...args);
        resolve(ultimoResultado);
      }, ms);
    });
  };
}

// Usar
const buscar = debounce(async (termino: string) =&gt; {
  return await obtenerUsuario(parseInt(termino));
}, 500);

await buscar("1");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_gestor_de_solicitudes_http_tipado"><a class="link" href="#_ejemplo_integrado_gestor_de_solicitudes_http_tipado">Ejemplo Integrado: Gestor de Solicitudes HTTP Tipado</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Respuesta&lt;T&gt; {
  datos?: T;
  error?: string;
  estado: number;
}

interface ConfiguracionHTTP {
  baseURL: string;
  timeout: number;
  reintentos: number;
}

class ClienteHTTP {
  constructor(private config: ConfiguracionHTTP) {}

  async get&lt;T&gt;(ruta: string): Promise&lt;T&gt; {
    return this.solicitud&lt;T&gt;("GET", ruta);
  }

  async post&lt;T&gt;(ruta: string, datos: any): Promise&lt;T&gt; {
    return this.solicitud&lt;T&gt;("POST", ruta, datos);
  }

  private async solicitud&lt;T&gt;(
    metodo: "GET" | "POST",
    ruta: string,
    datos?: any
  ): Promise&lt;T&gt; {
    const url = `${this.config.baseURL}${ruta}`;

    for (let intento = 0; intento &lt; this.config.reintentos; intento++) {
      try {
        const respuesta = await conTimeout(
          this.hacerSolicitud&lt;T&gt;(metodo, url, datos),
          this.config.timeout
        );
        return respuesta;
      } catch (error) {
        if (intento === this.config.reintentos - 1) {
          throw error;
        }
        await delay(1000 * (intento + 1));
      }
    }

    throw new Error("Solicitud fallida después de reintentos");
  }

  private async hacerSolicitud&lt;T&gt;(
    metodo: string,
    url: string,
    datos?: any
  ): Promise&lt;T&gt; {
    // Simular solicitud HTTP
    return new Promise((resolve, reject) =&gt; {
      setTimeout(() =&gt; {
        if (Math.random() &gt; 0.3) {
          resolve({ id: 1, nombre: "Juan" } as T);
        } else {
          reject(new Error("Error de red"));
        }
      }, 500);
    });
  }
}

// Usar
const cliente = new ClienteHTTP({
  baseURL: "https://api.example.com",
  timeout: 5000,
  reintentos: 3
});

try {
  const usuario = await cliente.get&lt;Usuario&gt;("/usuarios/1");
  console.log("Usuario:", usuario.nombre);
} catch (error) {
  console.error("Error:", (error as Error).message);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_10"><a class="link" href="#_ejercicios_propuestos_10">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Promise typing:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función que retorne Promise&lt;Usuario[]&gt;
// Usar Promise.all para obtener múltiples usuarios en paralelo
// Manejar errores con .catch()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. async/await:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Reescribir el ejercicio anterior con async/await
// Usar await para obtener usuarios secuencialmente
// Convertir a paralelo con Promise.all()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Manejo de errores:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase ErrorPersonalizado extendiendo Error
// Crear función async que lance este error
// try/catch con discriminación de tipos de error</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. EventEmitter:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase RepositorioUsuarios que emita eventos:
// - usuario-creado
// - usuario-eliminado
// - error
// Suscribirse a los eventos y manejarlos</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_11_iteradores_y_generadores"><a class="link" href="#_módulo_11_iteradores_y_generadores">Módulo 11: Iteradores y Generadores</a></h3>
<div class="paragraph">
<p>Los iteradores y generadores permiten recorrer secuencias de datos de forma flexible. TypeScript proporciona tipos para trabajar con estos conceptos.</p>
</div>
<div class="sect3">
<h4 id="_11_1_iterables_e_iteradores"><a class="link" href="#_11_1_iterables_e_iteradores">11.1 Iterables e Iteradores</a></h4>
<div class="paragraph">
<p>Un <strong>iterable</strong> es un objeto que puede ser iterado. Un <strong>iterador</strong> es el objeto que controla la iteración.</p>
</div>
<div class="sect4">
<h5 id="_protocolos_de_iteración"><a class="link" href="#_protocolos_de_iteración">Protocolos de iteración</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// El protocolo Iterable requiere Symbol.iterator
interface Iterable&lt;T&gt; {
  [Symbol.iterator](): Iterator&lt;T&gt;;
}

// El protocolo Iterator requiere next()
interface Iterator&lt;T&gt; {
  next(): IteratorResult&lt;T&gt;;
}

interface IteratorResult&lt;T&gt; {
  value?: T;
  done: boolean;
}

// Ejemplo: Array es iterable
const numeros = [1, 2, 3];

// Obtener el iterador
const iterador = numeros[Symbol.iterator]();

// Usar el iterador
console.log(iterador.next());  // { value: 1, done: false }
console.log(iterador.next());  // { value: 2, done: false }
console.log(iterador.next());  // { value: 3, done: false }
console.log(iterador.next());  // { value: undefined, done: true }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_crear_clase_iterable"><a class="link" href="#_crear_clase_iterable">Crear clase iterable</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Rango implements Iterable&lt;number&gt; {
  constructor(
    private inicio: number,
    private fin: number,
    private paso: number = 1
  ) {}

  // Implementar el protocolo Iterable
  [Symbol.iterator](): Iterator&lt;number&gt; {
    let actual = this.inicio;

    return {
      next: (): IteratorResult&lt;number&gt; =&gt; {
        if (actual &lt;= this.fin) {
          const value = actual;
          actual += this.paso;
          return { value, done: false };
        } else {
          return { done: true };
        }
      }
    };
  }
}

// Usar
const rango = new Rango(1, 5);

for (const num of rango) {
  console.log(num);  // 1, 2, 3, 4, 5
}

const array = [...rango];  // [1, 2, 3, 4, 5]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_iteradores_personalizados_con_tipos_complejos"><a class="link" href="#_iteradores_personalizados_con_tipos_complejos">Iteradores personalizados con tipos complejos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Item&lt;T&gt; {
  valor: T;
  siguiente?: Item&lt;T&gt;;
}

class ListaEnlazada&lt;T&gt; implements Iterable&lt;T&gt; {
  private cabeza?: Item&lt;T&gt;;
  private cola?: Item&lt;T&gt;;

  agregar(valor: T): void {
    const nuevoItem: Item&lt;T&gt; = { valor };

    if (!this.cabeza) {
      this.cabeza = nuevoItem;
      this.cola = nuevoItem;
    } else {
      this.cola!.siguiente = nuevoItem;
      this.cola = nuevoItem;
    }
  }

  [Symbol.iterator](): Iterator&lt;T&gt; {
    let actual = this.cabeza;

    return {
      next: (): IteratorResult&lt;T&gt; =&gt; {
        if (actual) {
          const value = actual.valor;
          actual = actual.siguiente;
          return { value, done: false };
        } else {
          return { done: true };
        }
      }
    };
  }
}

// Usar
const lista = new ListaEnlazada&lt;string&gt;();
lista.agregar("A");
lista.agregar("B");
lista.agregar("C");

for (const item of lista) {
  console.log(item);  // A, B, C
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_iteradores_reversos"><a class="link" href="#_iteradores_reversos">Iteradores reversos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface IterableReverso&lt;T&gt; extends Iterable&lt;T&gt; {
  [Symbol.iterator](): Iterator&lt;T&gt;;
  [Symbol.reverse]: () =&gt; Iterator&lt;T&gt;;  // Propiedad custom
}

class ArrayReverso&lt;T&gt; implements IterableReverso&lt;T&gt; {
  constructor(private datos: T[]) {}

  [Symbol.iterator](): Iterator&lt;T&gt; {
    let index = 0;

    return {
      next: (): IteratorResult&lt;T&gt; =&gt; {
        if (index &lt; this.datos.length) {
          return { value: this.datos[index++], done: false };
        }
        return { done: true };
      }
    };
  }

  // Método custom para reverso
  *reverso(): Generator&lt;T&gt; {
    for (let i = this.datos.length - 1; i &gt;= 0; i--) {
      yield this.datos[i];
    }
  }
}

// Usar
const arr = new ArrayReverso([1, 2, 3, 4, 5]);

console.log([...arr]);              // [1, 2, 3, 4, 5]
console.log([...arr.reverso()]);   // [5, 4, 3, 2, 1]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_11_2_generadores_y_funciones_generadoras"><a class="link" href="#_11_2_generadores_y_funciones_generadoras">11.2 Generadores y Funciones Generadoras</a></h4>
<div class="paragraph">
<p>Un <strong>generador</strong> es una función especial que puede pausar su ejecución y reanudarla.</p>
</div>
<div class="sect4">
<h5 id="_función_generadora_básica"><a class="link" href="#_función_generadora_básica">Función generadora básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Sintaxis: function*
function* contar(): Generator&lt;number&gt; {
  yield 1;
  yield 2;
  yield 3;
}

// Usar
for (const num of contar()) {
  console.log(num);  // 1, 2, 3
}

const generador = contar();
console.log(generador.next());  // { value: 1, done: false }
console.log(generador.next());  // { value: 2, done: false }
console.log(generador.next());  // { value: 3, done: false }
console.log(generador.next());  // { value: undefined, done: true }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generador_con_parámetros"><a class="link" href="#_generador_con_parámetros">Generador con parámetros</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function* rango(inicio: number, fin: number): Generator&lt;number&gt; {
  for (let i = inicio; i &lt;= fin; i++) {
    yield i;
  }
}

function* repetir&lt;T&gt;(valor: T, veces: number): Generator&lt;T&gt; {
  for (let i = 0; i &lt; veces; i++) {
    yield valor;
  }
}

// Usar
const numeros = [...rango(1, 5)];  // [1, 2, 3, 4, 5]

const repetidos = [...repetir("A", 3)];  // ["A", "A", "A"]

for (const n of rango(10, 15)) {
  console.log(n);  // 10, 11, 12, 13, 14, 15
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_yield_y_delegación"><a class="link" href="#_yield_y_delegación">yield y delegación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function* delegacion1(): Generator&lt;number&gt; {
  yield 1;
  yield 2;
}

function* delegacion2(): Generator&lt;number&gt; {
  yield 3;
  yield 4;
}

function* combinado(): Generator&lt;number&gt; {
  // yield* delega a otro generador
  yield* delegacion1();
  yield* delegacion2();
}

// Usar
for (const n of combinado()) {
  console.log(n);  // 1, 2, 3, 4
}

// Ejemplo más práctico: Árbol
interface Nodo {
  valor: number;
  izquierda?: Nodo;
  derecha?: Nodo;
}

function* recorridoArbol(nodo: Nodo): Generator&lt;number&gt; {
  yield nodo.valor;
  if (nodo.izquierda) {
    yield* recorridoArbol(nodo.izquierda);
  }
  if (nodo.derecha) {
    yield* recorridoArbol(nodo.derecha);
  }
}

const arbol: Nodo = {
  valor: 1,
  izquierda: { valor: 2, izquierda: { valor: 4 } },
  derecha: { valor: 3, derecha: { valor: 5 } }
};

console.log([...recorridoArbol(arbol)]);  // [1, 2, 4, 3, 5]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generador_bidireccional"><a class="link" href="#_generador_bidireccional">Generador bidireccional</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function* bidireccion(): Generator&lt;number, void, number&gt; {
  // yield puede recibir valores via .next(valor)
  let valor = yield 1;
  console.log("Recibido:", valor);

  valor = yield valor * 2;
  console.log("Recibido:", valor);

  yield valor * 3;
}

const gen = bidireccion();

console.log(gen.next());        // { value: 1, done: false }
console.log(gen.next(10));      // { value: 20, done: false }
                               // "Recibido: 10"
console.log(gen.next(5));       // { value: 15, done: false }
                               // "Recibido: 5"
console.log(gen.next());        // { value: undefined, done: true }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generadores_infinitos"><a class="link" href="#_generadores_infinitos">Generadores infinitos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function* infinito(): Generator&lt;number&gt; {
  let contador = 0;
  while (true) {
    yield contador++;
  }
}

function* fibonaci(): Generator&lt;number&gt; {
  let a = 0, b = 1;
  while (true) {
    yield a;
    [a, b] = [b, a + b];
  }
}

// Usar con límite
let contador = 0;
for (const num of infinito()) {
  if (contador++ &gt;= 5) break;
  console.log(num);  // 0, 1, 2, 3, 4
}

// Primeros 10 números de Fibonacci
const fib = [...(function*() {
  let i = 0;
  for (const n of fibonaci()) {
    if (i++ &gt;= 10) break;
    yield n;
  }
}())];

console.log(fib);  // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generador_con_tipos_complejos"><a class="link" href="#_generador_con_tipos_complejos">Generador con tipos complejos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
  rol: "admin" | "usuario";
}

function* usuarios(): Generator&lt;Usuario&gt; {
  const data: Usuario[] = [
    { id: 1, nombre: "Juan", rol: "admin" },
    { id: 2, nombre: "María", rol: "usuario" },
    { id: 3, nombre: "Carlos", rol: "admin" }
  ];

  for (const usuario of data) {
    yield usuario;
  }
}

function* filtrar&lt;T&gt;(
  gen: Iterable&lt;T&gt;,
  predicado: (item: T) =&gt; boolean
): Generator&lt;T&gt; {
  for (const item of gen) {
    if (predicado(item)) {
      yield item;
    }
  }
}

// Usar
const admins = [...filtrar(usuarios(), u =&gt; u.rol === "admin")];
console.log(admins);
// [
//   { id: 1, nombre: "Juan", rol: "admin" },
//   { id: 3, nombre: "Carlos", rol: "admin" }
// ]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_11_3_async_iterators_y_generadores_asincrónico"><a class="link" href="#_11_3_async_iterators_y_generadores_asincrónico">11.3 Async Iterators y Generadores Asincrónico</a></h4>
<div class="paragraph">
<p>Permiten iterar sobre secuencias que requieren operaciones asincrónicas.</p>
</div>
<div class="sect4">
<h5 id="_iterable_asincrónico"><a class="link" href="#_iterable_asincrónico">Iterable asincrónico</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// AsyncIterable&lt;T&gt; tiene Symbol.asyncIterator
interface AsyncIterable&lt;T&gt; {
  [Symbol.asyncIterator](): AsyncIterator&lt;T&gt;;
}

// AsyncIterator&lt;T&gt; retorna Promises
interface AsyncIterator&lt;T&gt; {
  next(): Promise&lt;IteratorResult&lt;T&gt;&gt;;
}

class DescargadorDatos&lt;T&gt; implements AsyncIterable&lt;T&gt; {
  constructor(
    private datos: T[],
    private delay: number = 1000
  ) {}

  [Symbol.asyncIterator](): AsyncIterator&lt;T&gt; {
    let index = 0;

    return {
      next: async (): Promise&lt;IteratorResult&lt;T&gt;&gt; =&gt; {
        await new Promise(resolve =&gt; setTimeout(resolve, this.delay));

        if (index &lt; this.datos.length) {
          return { value: this.datos[index++], done: false };
        }
        return { done: true };
      }
    };
  }
}

// Usar
const descargador = new DescargadorDatos([1, 2, 3]);

for await (const valor of descargador) {
  console.log("Recibido:", valor);
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generador_asincrónico"><a class="link" href="#_generador_asincrónico">Generador asincrónico</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function* contar(): AsyncGenerator&lt;number&gt; {
  for (let i = 1; i &lt;= 3; i++) {
    await new Promise(resolve =&gt; setTimeout(resolve, 1000));
    yield i;
  }
}

// Usar
for await (const num of contar()) {
  console.log(num);  // 1, 2, 3 (con espera entre cada uno)
}

// Ejemplo práctico: Obtener datos por páginas
async function* obtenerUsuariosPorPagina(
  paginas: number,
  porPagina: number = 10
): AsyncGenerator&lt;{ id: number; nombre: string }&gt; {
  for (let p = 1; p &lt;= paginas; p++) {
    // Simular solicitud HTTP
    await new Promise(resolve =&gt; setTimeout(resolve, 500));

    for (let i = 1; i &lt;= porPagina; i++) {
      const id = (p - 1) * porPagina + i;
      yield { id, nombre: `Usuario ${id}` };
    }
  }
}

// Usar
for await (const usuario of obtenerUsuariosPorPagina(2)) {
  console.log(usuario);  // Usuario 1-20 con delay entre páginas
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_procesar_streams_con_async_generators"><a class="link" href="#_procesar_streams_con_async_generators">Procesar streams con async generators</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface EventoSistema {
  tipo: "login" | "logout" | "error";
  usuario: string;
  timestamp: Date;
}

async function* procesarEventos(
  arroyoEventos: AsyncIterable&lt;EventoSistema&gt;
): AsyncGenerator&lt;EventoSistema&gt; {
  for await (const evento of arroyoEventos) {
    // Filtrar y procesar
    if (evento.tipo !== "error") {
      yield evento;
    }
  }
}

async function* enriquecerEventos(
  eventos: AsyncIterable&lt;EventoSistema&gt;
): AsyncGenerator&lt;EventoSistema &amp; { procesado: boolean }&gt; {
  for await (const evento of eventos) {
    yield { ...evento, procesado: true };
  }
}

// Encadenar procesamiento
async function procesarArroyoCompleto() {
  const eventosOriginales = new EventosAPI();

  for await (const evento of enriquecerEventos(
    procesarEventos(eventosOriginales)
  )) {
    console.log("Evento procesado:", evento);
  }
}

// Simulación de EventosAPI
class EventosAPI implements AsyncIterable&lt;EventoSistema&gt; {
  async *[Symbol.asyncIterator](): AsyncGenerator&lt;EventoSistema&gt; {
    const eventos: EventoSistema[] = [
      { tipo: "login", usuario: "Juan", timestamp: new Date() },
      { tipo: "logout", usuario: "María", timestamp: new Date() },
      { tipo: "error", usuario: "Sistema", timestamp: new Date() }
    ];

    for (const evento of eventos) {
      await new Promise(resolve =&gt; setTimeout(resolve, 100));
      yield evento;
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_async_generator_bidireccional"><a class="link" href="#_async_generator_bidireccional">Async generator bidireccional</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function* consultas(): AsyncGenerator&lt;string, void, string&gt; {
  console.log("Iniciado");

  let respuesta = yield "¿Cuál es tu nombre?";
  console.log("Obtuviste:", respuesta);

  respuesta = yield "¿Cuál es tu edad?";
  console.log("Obtuviste:", respuesta);
}

// Usar
const gen = consultas();

(async () =&gt; {
  console.log(await gen.next());          // ¿Cuál es tu nombre?
  console.log(await gen.next("Juan"));    // ¿Cuál es tu edad?
  console.log(await gen.next("30"));      // done
})();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_11_4_forof_y_forin"><a class="link" href="#_11_4_forof_y_forin">11.4 for&#8230;&#8203;of y for&#8230;&#8203;in</a></h4>
<div class="sect4">
<h5 id="_diferencia_entre_forof_y_forin"><a class="link" href="#_diferencia_entre_forof_y_forin">Diferencia entre for&#8230;&#8203;of y for&#8230;&#8203;in</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">const objeto = { a: 1, b: 2, c: 3 };
const array = ["x", "y", "z"];

// for...in itera sobre las claves/índices
for (const clave in objeto) {
  console.log(clave);  // "a", "b", "c"
}

for (const indice in array) {
  console.log(indice);  // "0", "1", "2" (como strings)
}

// for...of itera sobre los valores (usa Symbol.iterator)
for (const valor of array) {
  console.log(valor);  // "x", "y", "z"
}

// No funciona en objetos normales
for (const valor of objeto) {  // ✗ Error: not iterable
  console.log(valor);
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_forof_con_iterables_personalizados"><a class="link" href="#_forof_con_iterables_personalizados">for&#8230;&#8203;of con iterables personalizados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class ColeccionPosiciones implements Iterable&lt;number&gt; {
  private posiciones: number[] = [];

  agregar(pos: number): void {
    this.posiciones.push(pos);
  }

  [Symbol.iterator](): Iterator&lt;number&gt; {
    let index = 0;

    return {
      next: (): IteratorResult&lt;number&gt; =&gt; {
        if (index &lt; this.posiciones.length) {
          return { value: this.posiciones[index++], done: false };
        }
        return { done: true };
      }
    };
  }
}

// Usar
const coleccion = new ColeccionPosiciones();
coleccion.agregar(10);
coleccion.agregar(20);
coleccion.agregar(30);

for (const pos of coleccion) {
  console.log(pos);  // 10, 20, 30
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_for_awaitof"><a class="link" href="#_for_awaitof">for await&#8230;&#8203;of</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">async function* contar(): AsyncGenerator&lt;number&gt; {
  for (let i = 1; i &lt;= 3; i++) {
    await new Promise(resolve =&gt; setTimeout(resolve, 500));
    yield i;
  }
}

// for await...of espera cada promise
async function procesar(): Promise&lt;void&gt; {
  for await (const num of contar()) {
    console.log(num);  // 1, 2, 3 (con delay)
  }
}

procesar();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mapeo_y_filtrado_con_iterables"><a class="link" href="#_mapeo_y_filtrado_con_iterables">Mapeo y filtrado con iterables</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function* map&lt;T, U&gt;(
  iterable: Iterable&lt;T&gt;,
  fn: (item: T) =&gt; U
): Generator&lt;U&gt; {
  for (const item of iterable) {
    yield fn(item);
  }
}

function* filtro&lt;T&gt;(
  iterable: Iterable&lt;T&gt;,
  predicado: (item: T) =&gt; boolean
): Generator&lt;T&gt; {
  for (const item of iterable) {
    if (predicado(item)) {
      yield item;
    }
  }
}

// Usar
const numeros = [1, 2, 3, 4, 5];

const pares = [...filtro(numeros, n =&gt; n % 2 === 0)];
console.log(pares);  // [2, 4]

const dobles = [...map(pares, n =&gt; n * 2)];
console.log(dobles);  // [4, 8]

// Encadenar
const resultado = [
  ...map(
    filtro(numeros, n =&gt; n % 2 === 0),
    n =&gt; n * 2
  )
];
console.log(resultado);  // [4, 8]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_helpers_para_manipulación"><a class="link" href="#_helpers_para_manipulación">Helpers para manipulación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class Pipeline&lt;T&gt; {
  constructor(private datos: Iterable&lt;T&gt;) {}

  filtrar(predicado: (item: T) =&gt; boolean): Pipeline&lt;T&gt; {
    this.datos = filtro(this.datos, predicado);
    return this;
  }

  mapear&lt;U&gt;(fn: (item: T) =&gt; U): Pipeline&lt;U&gt; {
    return new Pipeline(map(this.datos, fn));
  }

  recopilar(): T[] {
    return [...this.datos];
  }
}

// Usar
const resultado = new Pipeline([1, 2, 3, 4, 5])
  .filtrar(n =&gt; n &gt; 2)
  .mapear(n =&gt; n * 2)
  .recopilar();

console.log(resultado);  // [6, 8, 10]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_sistema_de_paginación_asincrónico"><a class="link" href="#_ejemplo_integrado_sistema_de_paginación_asincrónico">Ejemplo Integrado: Sistema de Paginación Asincrónico</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Usuario {
  id: number;
  nombre: string;
  email: string;
}

interface Pagina&lt;T&gt; {
  items: T[];
  total: number;
  pagina: number;
  porPagina: number;
}

class RepositorioPaginado implements AsyncIterable&lt;Usuario&gt; {
  private baseURL = "https://api.example.com";

  constructor(
    private porPagina: number = 10,
    private usuariosIndividuales: Usuario[] = [
      { id: 1, nombre: "Juan", email: "juan@example.com" },
      { id: 2, nombre: "María", email: "maria@example.com" },
      { id: 3, nombre: "Carlos", email: "carlos@example.com" },
      { id: 4, nombre: "Ana", email: "ana@example.com" },
      { id: 5, nombre: "Pedro", email: "pedro@example.com" }
    ]
  ) {}

  async *[Symbol.asyncIterator](): AsyncGenerator&lt;Usuario&gt; {
    let pagina = 1;

    while (true) {
      const datos = await this.obtenerPagina(pagina);

      if (datos.items.length === 0) break;

      for (const usuario of datos.items) {
        yield usuario;
      }

      pagina++;
    }
  }

  private async obtenerPagina(pagina: number): Promise&lt;Pagina&lt;Usuario&gt;&gt; {
    // Simular delay de red
    await new Promise(resolve =&gt; setTimeout(resolve, 300));

    const inicio = (pagina - 1) * this.porPagina;
    const fin = inicio + this.porPagina;

    return {
      items: this.usuariosIndividuales.slice(inicio, fin),
      total: this.usuariosIndividuales.length,
      pagina,
      porPagina: this.porPagina
    };
  }
}

// Usar
async function procesarTodosLosUsuarios(): Promise&lt;void&gt; {
  const repositorio = new RepositorioPaginado(2);

  let contador = 0;
  for await (const usuario of repositorio) {
    contador++;
    console.log(`[${contador}] ${usuario.nombre} (${usuario.email})`);
  }

  console.log(`Total procesados: ${contador}`);
}

// Ejecutar
procesarTodosLosUsuarios();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_11"><a class="link" href="#_ejercicios_propuestos_11">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Iterador personalizado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Tabla que implementa Iterable
// Tabla tiene filas y columnas
// Iterar sobre todas las celdas en orden</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Generador recursivo:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear generador que recorra carpetas y archivos
// Usar yield* para delegación
// Filtrar por extensión de archivo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Async generator con reintentos:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Async generator que obtiene datos de API
// Si falla, reintentar con exponential backoff
// Emit resultados conforme se obtienen</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Pipeline de transformación:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear sistema de pipeline con:
// - filtro()
// - mapa()
// - reducir()
// - recopilar()
// Usar for...of para recorrer datos</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_12_patrones_de_diseño_en_typescript"><a class="link" href="#_módulo_12_patrones_de_diseño_en_typescript">Módulo 12: Patrones de Diseño en TypeScript</a></h3>
<div class="paragraph">
<p>Los patrones de diseño son soluciones reutilizables a problemas comunes en arquitectura de software. TypeScript facilita su implementación con tipos.</p>
</div>
<div class="sect3">
<h4 id="_12_1_patrones_creacionales"><a class="link" href="#_12_1_patrones_creacionales">12.1 Patrones Creacionales</a></h4>
<div class="paragraph">
<p>Controlan la creación de objetos.</p>
</div>
<div class="sect4">
<h5 id="_singleton"><a class="link" href="#_singleton">Singleton</a></h5>
<div class="paragraph">
<p>Garantiza una única instancia de una clase en toda la aplicación.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class BaseDatos {
  private static instancia: BaseDatos;
  private conexionId: string;

  private constructor() {
    this.conexionId = Math.random().toString();
  }

  static obtenerInstancia(): BaseDatos {
    if (!BaseDatos.instancia) {
      BaseDatos.instancia = new BaseDatos();
    }
    return BaseDatos.instancia;
  }

  conectar(): void {
    console.log(`Conectado con ID: ${this.conexionId}`);
  }
}

// Usar
const db1 = BaseDatos.obtenerInstancia();
const db2 = BaseDatos.obtenerInstancia();

db1.conectar();  // Conectado con ID: 0.xxx
db2.conectar();  // Conectado con ID: 0.xxx (mismo)

console.log(db1 === db2);  // true</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_factory_method"><a class="link" href="#_factory_method">Factory Method</a></h5>
<div class="paragraph">
<p>Crea objetos sin especificar sus clases exactas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Animal {
  sonido(): void;
  moverse(): void;
}

class Perro implements Animal {
  sonido(): void {
    console.log("¡Guau!");
  }
  moverse(): void {
    console.log("Corriendo con 4 patas");
  }
}

class Pajaro implements Animal {
  sonido(): void {
    console.log("¡Pío!");
  }
  moverse(): void {
    console.log("Volando");
  }
}

class Pez implements Animal {
  sonido(): void {
    console.log("...");
  }
  moverse(): void {
    console.log("Nadando");
  }
}

// Factory
class FabricaAnimales {
  static crearAnimal(tipo: "perro" | "pajaro" | "pez"): Animal {
    switch (tipo) {
      case "perro":
        return new Perro();
      case "pajaro":
        return new Pajaro();
      case "pez":
        return new Pez();
    }
  }
}

// Usar
const perro = FabricaAnimales.crearAnimal("perro");
perro.sonido();    // ¡Guau!
perro.moverse();   // Corriendo con 4 patas

const pajaro = FabricaAnimales.crearAnimal("pajaro");
pajaro.sonido();   // ¡Pío!</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_abstract_factory"><a class="link" href="#_abstract_factory">Abstract Factory</a></h5>
<div class="paragraph">
<p>Crea familias de objetos relacionados.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Boton {
  renderizar(): string;
}

interface CajaTexto {
  renderizar(): string;
}

interface FabricaUI {
  crearBoton(): Boton;
  crearCajaTexto(): CajaTexto;
}

// Implementación Light
class BotonLight implements Boton {
  renderizar(): string {
    return "Botón Blanco";
  }
}

class CajaTextoLight implements CajaTexto {
  renderizar(): string {
    return "Entrada de texto clara";
  }
}

class FabricaLightUI implements FabricaUI {
  crearBoton(): Boton {
    return new BotonLight();
  }
  crearCajaTexto(): CajaTexto {
    return new CajaTextoLight();
  }
}

// Implementación Dark
class BotonDark implements Boton {
  renderizar(): string {
    return "Botón Oscuro";
  }
}

class CajaTextoDark implements CajaTexto {
  renderizar(): string {
    return "Entrada de texto oscura";
  }
}

class FabricaDarkUI implements FabricaUI {
  crearBoton(): Boton {
    return new BotonDark();
  }
  crearCajaTexto(): CajaTexto {
    return new CajaTextoDark();
  }
}

// Usar
function renderizarUI(fabrica: FabricaUI): void {
  const boton = fabrica.crearBoton();
  const caja = fabrica.crearCajaTexto();

  console.log(boton.renderizar());  // Botón Blanco o Botón Oscuro
  console.log(caja.renderizar());   // Entrada de texto clara o oscura
}

renderizarUI(new FabricaLightUI());  // Tema claro
renderizarUI(new FabricaDarkUI());   // Tema oscuro</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_builder"><a class="link" href="#_builder">Builder</a></h5>
<div class="paragraph">
<p>Construye objetos complejos paso a paso.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface ConfiguracionServidor {
  host: string;
  puerto: number;
  ssl: boolean;
  timeout: number;
  reintentos: number;
}

class ConstructorServidor {
  private config: Partial&lt;ConfiguracionServidor&gt; = {};

  host(valor: string): this {
    this.config.host = valor;
    return this;
  }

  puerto(valor: number): this {
    this.config.puerto = valor;
    return this;
  }

  ssl(valor: boolean): this {
    this.config.ssl = valor;
    return this;
  }

  timeout(valor: number): this {
    this.config.timeout = valor;
    return this;
  }

  reintentos(valor: number): this {
    this.config.reintentos = valor;
    return this;
  }

  construir(): ConfiguracionServidor {
    return {
      host: this.config.host || "localhost",
      puerto: this.config.puerto || 3000,
      ssl: this.config.ssl ?? false,
      timeout: this.config.timeout || 5000,
      reintentos: this.config.reintentos || 3
    };
  }
}

// Usar
const config = new ConstructorServidor()
  .host("api.example.com")
  .puerto(443)
  .ssl(true)
  .timeout(10000)
  .construir();

console.log(config);
// {
//   host: "api.example.com",
//   puerto: 443,
//   ssl: true,
//   timeout: 10000,
//   reintentos: 3
// }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_prototype"><a class="link" href="#_prototype">Prototype</a></h5>
<div class="paragraph">
<p>Crea objetos clonando un prototipo existente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Cloneable&lt;T&gt; {
  clonar(): T;
}

class Documento implements Cloneable&lt;Documento&gt; {
  constructor(
    public titulo: string,
    public contenido: string,
    public autor: string
  ) {}

  clonar(): Documento {
    // Clon superficial
    return new Documento(this.titulo, this.contenido, this.autor);
  }

  modificar(nuevoTitulo: string, nuevoContenido: string): void {
    this.titulo = nuevoTitulo;
    this.contenido = nuevoContenido;
  }
}

// Usar
const docOriginal = new Documento(
  "Mi Documento",
  "Contenido original",
  "Juan"
);

const docClon = docOriginal.clonar();
docClon.modificar("Documento Clonado", "Contenido modificado");

console.log(docOriginal.titulo);  // "Mi Documento"
console.log(docClon.titulo);      // "Documento Clonado"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_12_2_patrones_estructurales"><a class="link" href="#_12_2_patrones_estructurales">12.2 Patrones Estructurales</a></h4>
<div class="paragraph">
<p>Componen objetos en estructuras más grandes.</p>
</div>
<div class="sect4">
<h5 id="_adapter"><a class="link" href="#_adapter">Adapter</a></h5>
<div class="paragraph">
<p>Convierte la interfaz de una clase en otra esperada.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Interfaz antigua
interface Impresora {
  imprimir(texto: string): void;
}

class ImpresoraLegacy {
  imprimir(documento: string): void {
    console.log(`IMPRIMIENDO: ${documento}`);
  }
}

// Interfaz nueva
interface DispositivoModerno {
  enviarDatos(datos: string): void;
}

// Adapter
class AdaptadorImpresora implements DispositivoModerno {
  constructor(private impresora: ImpresoraLegacy) {}

  enviarDatos(datos: string): void {
    this.impresora.imprimir(datos);
  }
}

// Usar
const impresoraVieja = new ImpresoraLegacy();
const adaptada: DispositivoModerno = new AdaptadorImpresora(impresoraVieja);

adaptada.enviarDatos("Mi documento");  // IMPRIMIENDO: Mi documento</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_decorator"><a class="link" href="#_decorator">Decorator</a></h5>
<div class="paragraph">
<p>Añade funcionalidad a objetos dinámicamente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Componente {
  operacion(): string;
}

class ComponenteBasico implements Componente {
  operacion(): string {
    return "Componente básico ";
  }
}

abstract class DecoradorComponente implements Componente {
  constructor(protected componente: Componente) {}

  operacion(): string {
    return this.componente.operacion();
  }
}

class DecoradorA extends DecoradorComponente {
  operacion(): string {
    return super.operacion() + "+ Operación A ";
  }
}

class DecoradorB extends DecoradorComponente {
  operacion(): string {
    return super.operacion() + "+ Operación B ";
  }
}

// Usar
let componente: Componente = new ComponenteBasico();
console.log(componente.operacion());  // "Componente básico "

componente = new DecoradorA(componente);
console.log(componente.operacion());  // "Componente básico  + Operación A "

componente = new DecoradorB(componente);
console.log(componente.operacion());  // "Componente básico  + Operación A  + Operación B "</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_facade"><a class="link" href="#_facade">Facade</a></h5>
<div class="paragraph">
<p>Proporciona interfaz unificada a subsistemas complejos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Subsistemas complejos
class SistemaAutenticacion {
  autenticar(usuario: string, contraseña: string): boolean {
    return usuario === "admin" &amp;&amp; contraseña === "123";
  }
}

class SistemaAutorizacion {
  tienePermiso(usuario: string, recurso: string): boolean {
    return usuario === "admin";
  }
}

class SistemaAuditoria {
  registrar(evento: string): void {
    console.log(`[Auditoria] ${evento}`);
  }
}

// Facade
class FachadaSeguridad {
  private autenticacion = new SistemaAutenticacion();
  private autorizacion = new SistemaAutorizacion();
  private auditoria = new SistemaAuditoria();

  accederRecurso(usuario: string, contraseña: string, recurso: string): boolean {
    this.auditoria.registrar(`Intento de acceso: ${usuario}`);

    if (!this.autenticacion.autenticar(usuario, contraseña)) {
      this.auditoria.registrar(`Autenticación fallida: ${usuario}`);
      return false;
    }

    if (!this.autorizacion.tienePermiso(usuario, recurso)) {
      this.auditoria.registrar(`Permiso denegado: ${usuario} -&gt; ${recurso}`);
      return false;
    }

    this.auditoria.registrar(`Acceso permitido: ${usuario} -&gt; ${recurso}`);
    return true;
  }
}

// Usar
const fachada = new FachadaSeguridad();

fachada.accederRecurso("admin", "123", "datos");    // Accedido
fachada.accederRecurso("usuario", "456", "datos");  // Denegado</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_proxy"><a class="link" href="#_proxy">Proxy</a></h5>
<div class="paragraph">
<p>Controla el acceso a otro objeto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Servicio {
  procesar(datos: string): void;
}

class ServicioReal implements Servicio {
  procesar(datos: string): void {
    console.log(`Procesando: ${datos}`);
  }
}

class ProxyServicio implements Servicio {
  private servicio: ServicioReal | null = null;

  procesar(datos: string): void {
    if (!this.servicio) {
      console.log("Inicializando servicio...");
      this.servicio = new ServicioReal();
    }

    console.log("Verifying access...");
    this.servicio.procesar(datos);
  }
}

// Usar - lazy initialization
const proxy: Servicio = new ProxyServicio();
// No se crea el servicio real hasta que se llama procesar
proxy.procesar("datos importantes");  // Inicializa y procesa</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_composite"><a class="link" href="#_composite">Composite</a></h5>
<div class="paragraph">
<p>Compone objetos en estructuras de árbol.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface ElementoUI {
  renderizar(): string;
  agregarHijo?(elemento: ElementoUI): void;
}

class Boton implements ElementoUI {
  constructor(private etiqueta: string) {}

  renderizar(): string {
    return `&lt;button&gt;${this.etiqueta}&lt;/button&gt;`;
  }
}

class Panel implements ElementoUI {
  private hijos: ElementoUI[] = [];

  agregarHijo(elemento: ElementoUI): void {
    this.hijos.push(elemento);
  }

  renderizar(): string {
    const contenidoHijos = this.hijos
      .map(h =&gt; h.renderizar())
      .join("\n");
    return `&lt;div&gt;\n${contenidoHijos}\n&lt;/div&gt;`;
  }
}

// Usar
const panel = new Panel();
panel.agregarHijo(new Boton("Guardar"));
panel.agregarHijo(new Boton("Cancelar"));

const panelOpciones = new Panel();
panelOpciones.agregarHijo(new Boton("Opción 1"));
panelOpciones.agregarHijo(new Boton("Opción 2"));

panel.agregarHijo(panelOpciones);

console.log(panel.renderizar());
// &lt;div&gt;
// &lt;button&gt;Guardar&lt;/button&gt;
// &lt;button&gt;Cancelar&lt;/button&gt;
// &lt;div&gt;
// &lt;button&gt;Opción 1&lt;/button&gt;
// &lt;button&gt;Opción 2&lt;/button&gt;
// &lt;/div&gt;
// &lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_12_3_patrones_de_comportamiento"><a class="link" href="#_12_3_patrones_de_comportamiento">12.3 Patrones de Comportamiento</a></h4>
<div class="paragraph">
<p>Definen comunicación entre objetos.</p>
</div>
<div class="sect4">
<h5 id="_observer"><a class="link" href="#_observer">Observer</a></h5>
<div class="paragraph">
<p>Notifica múltiples observadores de cambios.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Observador&lt;T&gt; {
  actualizar(datos: T): void;
}

interface Sujeto&lt;T&gt; {
  suscribir(observador: Observador&lt;T&gt;): void;
  desuscribir(observador: Observador&lt;T&gt;): void;
  notificar(datos: T): void;
}

class TemperaturaMonitor implements Sujeto&lt;number&gt; {
  private observadores: Observador&lt;number&gt;[] = [];
  private temperatura: number = 20;

  suscribir(observador: Observador&lt;number&gt;): void {
    this.observadores.push(observador);
  }

  desuscribir(observador: Observador&lt;number&gt;): void {
    const index = this.observadores.indexOf(observador);
    if (index &gt; -1) {
      this.observadores.splice(index, 1);
    }
  }

  notificar(datos: number): void {
    this.observadores.forEach(obs =&gt; obs.actualizar(datos));
  }

  setTemperatura(valor: number): void {
    this.temperatura = valor;
    this.notificar(valor);
  }
}

class Alarma implements Observador&lt;number&gt; {
  actualizar(temperatura: number): void {
    if (temperatura &gt; 30) {
      console.log("¡ALERTA! Temperatura muy alta");
    }
  }
}

class Termostato implements Observador&lt;number&gt; {
  actualizar(temperatura: number): void {
    if (temperatura &lt; 18) {
      console.log("Activando calefacción");
    }
  }
}

// Usar
const monitor = new TemperaturaMonitor();
const alarma = new Alarma();
const termostato = new Termostato();

monitor.suscribir(alarma);
monitor.suscribir(termostato);

monitor.setTemperatura(35);  // ¡ALERTA! Temperatura muy alta
monitor.setTemperatura(15);  // Activando calefacción</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_strategy"><a class="link" href="#_strategy">Strategy</a></h5>
<div class="paragraph">
<p>Define familia de algoritmos intercambiables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface EstrategiaOrdenamiento {
  ordenar(array: number[]): number[];
}

class OrdenamientoBurbuja implements EstrategiaOrdenamiento {
  ordenar(array: number[]): number[] {
    const copia = [...array];
    for (let i = 0; i &lt; copia.length; i++) {
      for (let j = i + 1; j &lt; copia.length; j++) {
        if (copia[i] &gt; copia[j]) {
          [copia[i], copia[j]] = [copia[j], copia[i]];
        }
      }
    }
    return copia;
  }
}

class OrdenamientoRapido implements EstrategiaOrdenamiento {
  ordenar(array: number[]): number[] {
    if (array.length &lt;= 1) return array;
    const pivote = array[0];
    const menores = array.slice(1).filter(x =&gt; x &lt; pivote);
    const mayores = array.slice(1).filter(x =&gt; x &gt;= pivote);
    return [
      ...this.ordenar(menores),
      pivote,
      ...this.ordenar(mayores)
    ];
  }
}

class Ordenador {
  constructor(private estrategia: EstrategiaOrdenamiento) {}

  setEstrategia(estrategia: EstrategiaOrdenamiento): void {
    this.estrategia = estrategia;
  }

  ejecutar(array: number[]): number[] {
    return this.estrategia.ordenar(array);
  }
}

// Usar
const array = [5, 2, 8, 1, 9];

const ordenador = new Ordenador(new OrdenamientoBurbuja());
console.log(ordenador.ejecutar(array));  // [1, 2, 5, 8, 9]

ordenador.setEstrategia(new OrdenamientoRapido());
console.log(ordenador.ejecutar(array));  // [1, 2, 5, 8, 9]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_state"><a class="link" href="#_state">State</a></h5>
<div class="paragraph">
<p>Permite objetos cambiar comportamiento según estado interno.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface EstadoSemaforoInterface {
  siguiente(): void;
  color(): string;
}

class EstadoRojo implements EstadoSemaforoInterface {
  siguiente(): void {
    console.log("Cambiando de rojo a verde");
  }
  color(): string {
    return "Rojo";
  }
}

class EstadoVerde implements EstadoSemaforoInterface {
  siguiente(): void {
    console.log("Cambiando de verde a ámbar");
  }
  color(): string {
    return "Verde";
  }
}

class EstadoAmbar implements EstadoSemaforoInterface {
  siguiente(): void {
    console.log("Cambiando de ámbar a rojo");
  }
  color(): string {
    return "Ámbar";
  }
}

class Semaforo {
  private estado: EstadoSemaforoInterface = new EstadoRojo();

  cambiar(): void {
    this.estado.siguiente();

    if (this.estado instanceof EstadoRojo) {
      this.estado = new EstadoVerde();
    } else if (this.estado instanceof EstadoVerde) {
      this.estado = new EstadoAmbar();
    } else {
      this.estado = new EstadoRojo();
    }
  }

  obtenerColor(): string {
    return this.estado.color();
  }
}

// Usar
const semaforo = new Semaforo();
console.log(semaforo.obtenerColor());  // Rojo

semaforo.cambiar();
console.log(semaforo.obtenerColor());  // Verde

semaforo.cambiar();
console.log(semaforo.obtenerColor());  // Ámbar</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_command"><a class="link" href="#_command">Command</a></h5>
<div class="paragraph">
<p>Encapsula solicitud como objeto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Comando {
  ejecutar(): void;
  deshacer(): void;
}

class OperacionSuma implements Comando {
  constructor(
    private a: number,
    private b: number,
    private receptor: Calculadora
  ) {}

  ejecutar(): void {
    this.receptor.sumar(this.a, this.b);
  }

  deshacer(): void {
    this.receptor.restar(this.a, this.b);
  }
}

class Calculadora {
  private resultado: number = 0;

  sumar(a: number, b: number): void {
    this.resultado += a + b;
    console.log(`Resultado: ${this.resultado}`);
  }

  restar(a: number, b: number): void {
    this.resultado -= a + b;
    console.log(`Resultado: ${this.resultado}`);
  }
}

class CentralComandos {
  private historial: Comando[] = [];

  ejecutar(comando: Comando): void {
    comando.ejecutar();
    this.historial.push(comando);
  }

  deshacer(): void {
    const comando = this.historial.pop();
    if (comando) {
      comando.deshacer();
    }
  }
}

// Usar
const calc = new Calculadora();
const central = new CentralComandos();

central.ejecutar(new OperacionSuma(5, 3, calc));  // Resultado: 8
central.ejecutar(new OperacionSuma(2, 4, calc));  // Resultado: 14

central.deshacer();  // Resultado: 8</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_chain_of_responsibility"><a class="link" href="#_chain_of_responsibility">Chain of Responsibility</a></h5>
<div class="paragraph">
<p>Pasa solicitud a lo largo de cadena de handlers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Manejador {
  manejar(solicitud: Solicitud): boolean;
  siguiente?: Manejador;
}

interface Solicitud {
  nivel: "bajo" | "medio" | "alto";
  asunto: string;
}

class ManejadorSoporte implements Manejador {
  siguiente?: Manejador;

  manejar(solicitud: Solicitud): boolean {
    if (solicitud.nivel === "bajo") {
      console.log(`Soporte resolvió: ${solicitud.asunto}`);
      return true;
    }

    if (this.siguiente) {
      return this.siguiente.manejar(solicitud);
    }

    return false;
  }
}

class ManejadorGerente implements Manejador {
  siguiente?: Manejador;

  manejar(solicitud: Solicitud): boolean {
    if (solicitud.nivel === "medio") {
      console.log(`Gerente aprobó: ${solicitud.asunto}`);
      return true;
    }

    if (this.siguiente) {
      return this.siguiente.manejar(solicitud);
    }

    return false;
  }
}

class ManejadorDirector implements Manejador {
  manejar(solicitud: Solicitud): boolean {
    if (solicitud.nivel === "alto") {
      console.log(`Director decidió: ${solicitud.asunto}`);
      return true;
    }
    return false;
  }
}

// Usar
const soporte = new ManejadorSoporte();
const gerente = new ManejadorGerente();
const director = new ManejadorDirector();

soporte.siguiente = gerente;
gerente.siguiente = director;

soporte.manejar({ nivel: "bajo", asunto: "Error de login" });   // Soporte
soporte.manejar({ nivel: "medio", asunto: "Aumento de sueldo" }); // Gerente
soporte.manejar({ nivel: "alto", asunto: "Fusión con empresa" }); // Director</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_template_method"><a class="link" href="#_template_method">Template Method</a></h5>
<div class="paragraph">
<p>Define estructura algoritmo, subclases rellenan detalles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">abstract class ProcesoDeplicacion {
  execute(): void {
    this.validar();
    this.procesar();
    this.finalizar();
  }

  protected validar(): void {
    console.log("Validando entrada...");
  }

  protected abstract procesar(): void;

  protected finalizar(): void {
    console.log("Limpiando recursos...");
  }
}

class ProcesoDatos extends ProcesoDeplicacion {
  protected procesar(): void {
    console.log("Procesando datos...");
  }
}

class ProcesoReporte extends ProcesoDeplicacion {
  protected procesar(): void {
    console.log("Generando reporte...");
  }

  protected finalizar(): void {
    console.log("Enviando reporte por email...");
    super.finalizar();
  }
}

// Usar
const proceso1 = new ProcesoDatos();
proceso1.execute();
// Validando entrada...
// Procesando datos...
// Limpiando recursos...

const proceso2 = new ProcesoReporte();
proceso2.execute();
// Validando entrada...
// Generando reporte...
// Enviando reporte por email...
// Limpiando recursos...</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_sistema_de_procesamiento_de_pedidos"><a class="link" href="#_ejemplo_integrado_sistema_de_procesamiento_de_pedidos">Ejemplo Integrado: Sistema de Procesamiento de Pedidos</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Enums para estados
enum EstadoPedido {
  Pendiente = "pendiente",
  Procesando = "procesando",
  Completado = "completado",
  Cancelado = "cancelado"
}

// Interfaces
interface Observador {
  actualizar(pedido: Pedido): void;
}

interface EstrategiaEnvio {
  calcularCosto(peso: number): number;
}

// Estados
interface EstadoActualPedido {
  siguiente(): void;
}

// Implementaciones
class PedidoEstadoPendiente implements EstadoActualPedido {
  constructor(private pedido: Pedido) {}
  siguiente(): void {
    console.log("Procesando pedido...");
    this.pedido.estado = EstadoPedido.Procesando;
  }
}

class PedidoEstadoCompletado implements EstadoActualPedido {
  constructor(private pedido: Pedido) {}
  siguiente(): void {
    console.log("Pedido entregado");
    this.pedido.estado = EstadoPedido.Completado;
  }
}

class EnvioEstandar implements EstrategiaEnvio {
  calcularCosto(peso: number): number {
    return peso * 5;
  }
}

class EnvioExpress implements EstrategiaEnvio {
  calcularCosto(peso: number): number {
    return peso * 15;
  }
}

class Pedido {
  private observadores: Observador[] = [];
  estado: EstadoPedido = EstadoPedido.Pendiente;

  constructor(
    public id: string,
    public descripcion: string,
    public peso: number,
    private estrategiaEnvio: EstrategiaEnvio
  ) {}

  suscribir(observador: Observador): void {
    this.observadores.push(observador);
  }

  notificar(): void {
    this.observadores.forEach(obs =&gt; obs.actualizar(this));
  }

  procesar(): void {
    this.estado = EstadoPedido.Procesando;
    console.log(`Pedido ${this.id} en proceso`);
    this.notificar();
  }

  completar(): void {
    this.estado = EstadoPedido.Completado;
    console.log(`Pedido ${this.id} completado`);
    this.notificar();
  }

  obtenerCostoEnvio(): number {
    return this.estrategiaEnvio.calcularCosto(this.peso);
  }
}

// Observador
class NotificadorEmail implements Observador {
  actualizar(pedido: Pedido): void {
    console.log(`📧 Email: Pedido ${pedido.id} ahora está ${pedido.estado}`);
  }
}

// Usar
const pedido = new Pedido("PED001", "Laptop", 2.5, new EnvioExpress());

pedido.suscribir(new NotificadorEmail());

console.log(`Costo envío: $${pedido.obtenerCostoEnvio()}`);

pedido.procesar();   // Notifica
pedido.completar();  // Notifica</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_12"><a class="link" href="#_ejercicios_propuestos_12">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Factory personalizado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear factory para diferentes tipos de conexiones:
// - Base de datos
// - API REST
// - Archivo local
// Implementar método genérico</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Decorator avanzado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear decorators que añadan:
// - Logging automático
// - Caching de resultados
// - Validación de parámetros
// Combinar múltiples decorators</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Observer completo:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Sistema de carrito de compras
// Observadores: Inventario, Facturación, Notificaciones
// Emitir eventos cuando se agregan/eliminan productos</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Cadena compleja:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Chain of Responsibility para validación
// Cada handler valida un aspecto diferente
// Si passa todas las validaciones, procesar</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_13_configuración_y_tooling"><a class="link" href="#_módulo_13_configuración_y_tooling">Módulo 13: Configuración y Tooling</a></h3>
<div class="paragraph">
<p>La configuración adecuada de TypeScript es crucial para el desarrollo eficiente. Este módulo cubre herramientas y configuración.</p>
</div>
<div class="sect3">
<h4 id="_13_1_tsconfig_json_opciones_importantes"><a class="link" href="#_13_1_tsconfig_json_opciones_importantes">13.1 tsconfig.json: Opciones Importantes</a></h4>
<div class="paragraph">
<p>El archivo <code>tsconfig.json</code> controla el comportamiento del compilador TypeScript.</p>
</div>
<div class="sect4">
<h5 id="_estructura_básica"><a class="link" href="#_estructura_básica">Estructura básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist", "**/*.test.ts"]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_opciones_del_compilador_esenciales"><a class="link" href="#_opciones_del_compilador_esenciales">Opciones del compilador esenciales</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compilerOptions": {
    // Versión de JavaScript objetivo
    "target": "ES2020",

    // Sistema de módulos
    "module": "ES2020",  // ESM o commonjs

    // Librerías disponibles
    "lib": ["ES2020", "DOM"],

    // Directorios
    "outDir": "./dist",
    "rootDir": "./src",
    "baseUrl": "./src",
    "paths": {
      "@/*": ["./*"],
      "@utils/*": ["utils/*"]
    },

    // Verificación de tipos estricta
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,

    // Compatibilidad con módulos
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,

    // Emisión de archivos
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "removeComments": false,

    // Búsqueda de módulos
    "moduleResolution": "node",
    "resolveJsonModule": true,

    // Optimizaciones
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,

    // Experimentales
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"],
  "ts-node": {
    "transpileOnly": true,
    "compilerOptions": {
      "module": "commonjs"
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_configuración_por_entorno"><a class="link" href="#_configuración_por_entorno">Configuración por entorno</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json base
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ES2020",
    "strict": true
  },
  "include": ["src"]
}

// tsconfig.build.json (extender config base)
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "declaration": true,
    "outDir": "./dist",
    "sourceMap": false
  },
  "exclude": ["**/*.test.ts", "src/deprecated"]
}

// tsconfig.test.json (para testing)
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./test-dist",
    "sourceMap": true
  },
  "include": ["src", "tests"]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_validar_configuración"><a class="link" href="#_validar_configuración">Validar configuración</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// verify-tsconfig.ts
import * as fs from "fs";
import * as path from "path";
import * as ts from "typescript";

function validarConfiguracion(configPath: string): void {
  const configFile = ts.readConfigFile(configPath, ts.sys.readFile);

  if (configFile.error) {
    console.error("Error al leer tsconfig:", configFile.error);
    return;
  }

  const config = ts.parseJsonConfigFileContent(
    configFile.config,
    ts.sys,
    path.dirname(configPath)
  );

  if (config.errors.length &gt; 0) {
    config.errors.forEach(error =&gt; {
      console.error(error.messageText);
    });
  } else {
    console.log("✓ Configuración válida");
    console.log("Opciones:", config.options);
  }
}

validarConfiguracion("./tsconfig.json");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_13_2_compilación_y_watch_mode"><a class="link" href="#_13_2_compilación_y_watch_mode">13.2 Compilación y Watch Mode</a></h4>
<div class="sect4">
<h5 id="_compilación_básica"><a class="link" href="#_compilación_básica">Compilación básica</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Compilar una vez
tsc

# Compilar archivos específicos
tsc src/index.ts src/utils.ts

# Compilar a versión específica
tsc --target ES2020 --module commonjs

# Con archivo de configuración
tsc --project tsconfig.build.json

# Mostrar errores sin emitir
tsc --noEmit

# Mostrar configuración resolvida
tsc --showConfig</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_watch_mode_para_desarrollo"><a class="link" href="#_watch_mode_para_desarrollo">Watch mode para desarrollo</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Compilar y observar cambios
tsc --watch

# Watch con configuración específica
tsc --watch --project tsconfig.json

# Watch sin emitir (solo chequear tipos)
tsc --watch --noEmit

# Watch con modo incremental
tsc --watch --incremental</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_configuración_de_scripts"><a class="link" href="#_configuración_de_scripts">Configuración de scripts</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "scripts": {
    "build": "tsc --project tsconfig.build.json",
    "build:watch": "tsc --project tsconfig.json --watch",
    "type-check": "tsc --noEmit",
    "dev": "ts-node --project tsconfig.json src/index.ts",
    "dev:watch": "nodemon --exec ts-node src/index.ts",
    "clean": "rm -rf dist",
    "prebuild": "npm run clean",
    "postbuild": "npm run type-check"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_compilación_incremental"><a class="link" href="#_compilación_incremental">Compilación incremental</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compilerOptions": {
    "incremental": true,
    "tsBuildInfoFile": "./.tsbuildinfo"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Primera compilación (crea .tsbuildinfo)
tsc

# Segunda compilación (solo archivos cambiados)
tsc

# Limpiar caché incremental
rm -f .tsbuildinfo</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_monitoreo_avanzado_con_nodemon"><a class="link" href="#_monitoreo_avanzado_con_nodemon">Monitoreo avanzado con nodemon</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// nodemon.json
{
  "watch": ["src"],
  "ext": "ts",
  "ignore": ["src/**/*.test.ts"],
  "exec": "ts-node",
  "env": {
    "NODE_ENV": "development"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Ejecutar con nodemon
nodemon

# O con script personalizado
npm run dev:watch</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_health_check_para_compilación"><a class="link" href="#_health_check_para_compilación">Health check para compilación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// build-monitor.ts
import * as fs from "fs";
import * as path from "path";
import { execSync } from "child_process";

interface BuildStatus {
  exitCode: number;
  errors: string[];
  warnings: string[];
  duration: number;
}

function monitearBuild(): BuildStatus {
  const inicio = Date.now();

  try {
    const output = execSync("tsc --noEmit", { encoding: "utf-8" });
    const duracion = Date.now() - inicio;

    return {
      exitCode: 0,
      errors: [],
      warnings: [],
      duration: duracion
    };
  } catch (error: any) {
    const duracion = Date.now() - inicio;
    const stderr = error.stderr.toString();

    return {
      exitCode: error.status,
      errors: stderr.includes("error TS") ? [stderr] : [],
      warnings: stderr.includes("warning") ? [stderr] : [],
      duration: duracion
    };
  }
}

const status = monitearBuild();
console.log(`Build Status:`, status);
console.log(`Duration: ${status.duration}ms`);
process.exit(status.exitCode);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_13_3_integración_con_webpack_vite_rollup"><a class="link" href="#_13_3_integración_con_webpack_vite_rollup">13.3 Integración con Webpack, Vite, Rollup</a></h4>
<div class="sect4">
<h5 id="_webpack_con_typescript"><a class="link" href="#_webpack_con_typescript">Webpack con TypeScript</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// webpack.config.js
const path = require("path");

module.exports = {
  entry: "./src/index.ts",
  output: {
    path: path.resolve(__dirname, "dist"),
    filename: "bundle.js"
  },
  module: {
    rules: [
      {
        test: /\.ts$/,
        use: "ts-loader",
        exclude: /node_modules/
      }
    ]
  },
  resolve: {
    extensions: [".ts", ".js"],
    alias: {
      "@": path.resolve(__dirname, "src/")
    }
  },
  devtool: "source-map",
  mode: process.env.NODE_ENV || "development"
};</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "devDependencies": {
    "webpack": "^5.0.0",
    "webpack-cli": "^4.0.0",
    "ts-loader": "^9.0.0",
    "typescript": "^5.0.0"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_vite_con_typescript"><a class="link" href="#_vite_con_typescript">Vite con TypeScript</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// vite.config.ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import path from "path";

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src")
    }
  },
  server: {
    port: 3000,
    open: true
  },
  build: {
    outDir: "dist",
    sourcemap: true
  }
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "devDependencies": {
    "vite": "^4.0.0",
    "@vitejs/plugin-vue": "^4.0.0",
    "typescript": "^5.0.0"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rollup_con_typescript"><a class="link" href="#_rollup_con_typescript">Rollup con TypeScript</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// rollup.config.js
import typescript from "@rollup/plugin-typescript";
import resolve from "@rollup/plugin-node-resolve";
import commonjs from "@rollup/plugin-commonjs";

export default {
  input: "src/index.ts",
  output: {
    file: "dist/bundle.js",
    format: "esm",
    sourcemap: true
  },
  plugins: [
    resolve(),
    commonjs(),
    typescript({
      tsconfig: "tsconfig.build.json"
    })
  ],
  external: ["lodash"]
};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_comparativa_de_bundlers"><a class="link" href="#_comparativa_de_bundlers">Comparativa de bundlers</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">┌──────────┬──────────────┬─────────────┬──────────────┐
│ Aspecto  │ Webpack      │ Vite        │ Rollup       │
├──────────┼──────────────┼─────────────┼──────────────┤
│ Velocidad│ Lenta        │ Muy rápida  │ Media        │
│ Config   │ Compleja     │ Simple      │ Media        │
│ HMR      │ Básico       │ Excelente   │ N/A          │
│ Bundling│ Bundler      │ Bundler     │ Lib focus    │
│ Apps     │ Grandes      │ Modernas    │ Librerías    │
└──────────┴──────────────┴─────────────┴──────────────┘</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_13_4_linting_y_formateo_eslint_prettier"><a class="link" href="#_13_4_linting_y_formateo_eslint_prettier">13.4 Linting y Formateo: ESLint, Prettier</a></h4>
<div class="sect4">
<h5 id="_configurar_eslint"><a class="link" href="#_configurar_eslint">Configurar ESLint</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .eslintrc.json
{
  "env": {
    "node": true,
    "es2020": true
  },
  "extends": [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended",
    "plugin:@typescript-eslint/recommended-requiring-type-checking"
  ],
  "parser": "@typescript-eslint/parser",
  "parserOptions": {
    "ecmaVersion": 2020,
    "sourceType": "module",
    "project": "./tsconfig.json"
  },
  "plugins": ["@typescript-eslint"],
  "rules": {
    "@typescript-eslint/explicit-function-return-types": "warn",
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/no-unused-vars": ["error", { "argsIgnorePattern": "^_" }],
    "no-console": ["warn", { "allow": ["warn", "error"] }]
  },
  "ignorePatterns": ["dist", "node_modules", "**/*.test.ts"]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Instalar ESLint
npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin

# Validar código
npx eslint src

# Arreglar automáticamente
npx eslint src --fix

# Con config específica
npx eslint --config .eslintrc.json src</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_configurar_prettier"><a class="link" href="#_configurar_prettier">Configurar Prettier</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .prettierrc.json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": false,
  "printWidth": 100,
  "tabWidth": 2,
  "useTabs": false,
  "arrowParens": "always"
}

// .prettierignore
node_modules
dist
build
*.test.ts</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_eslint_prettier_integrados"><a class="link" href="#_eslint_prettier_integrados">ESLint + Prettier integrados</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "scripts": {
    "lint": "eslint src --ext .ts",
    "lint:fix": "eslint src --ext .ts --fix",
    "format": "prettier --write \"src/**/*.ts\"",
    "format:check": "prettier --check \"src/**/*.ts\"",
    "validate": "npm run lint &amp;&amp; npm run format:check &amp;&amp; npm run type-check"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pre_commit_hooks_con_husky"><a class="link" href="#_pre_commit_hooks_con_husky">Pre-commit hooks con husky</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install husky lint-staged --save-dev

npx husky install

npx husky add .husky/pre-commit "npx lint-staged"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// package.json
{
  "lint-staged": {
    "*.ts": [
      "eslint --fix",
      "prettier --write"
    ]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_crear_regla_personalizada"><a class="link" href="#_crear_regla_personalizada">Crear regla personalizada</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// rules/no-console-log.ts
import { ESLintUtils, TSESTree } from "@typescript-eslint/utils";

export default ESLintUtils.RuleCreator(
  name =&gt; `https://example.com/rules/${name}`
)(
  {
    name: "no-console-log",
    meta: {
      type: "problem",
      docs: {
        description: "Disallow console.log, use console.error or console.warn",
        recommended: "error"
      }
    },
    defaultOptions: [],
    create(context) {
      return {
        CallExpression(node: TSESTree.CallExpression) {
          if (
            node.callee.type === "MemberExpression" &amp;&amp;
            (node.callee.object as any).name === "console" &amp;&amp;
            (node.callee.property as any).name === "log"
          ) {
            context.report({
              node,
              message: "Use console.error or console.warn instead of console.log"
            });
          }
        }
      };
    }
  }
);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_reportes_de_linting"><a class="link" href="#_reportes_de_linting">Reportes de linting</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// lint-report.ts
import { execSync } from "child_process";
import * as fs from "fs";

interface LintResult {
  total: number;
  errors: number;
  warnings: number;
  files: string[];
}

function generarReporte(): LintResult {
  try {
    const output = execSync(
      "eslint src --format=json",
      { encoding: "utf-8" }
    );
    const results = JSON.parse(output);

    let totalErrors = 0;
    let totalWarnings = 0;
    const filesConProblemas: string[] = [];

    results.forEach((file: any) =&gt; {
      if (file.messages.length &gt; 0) {
        filesConProblemas.push(file.filePath);
        file.messages.forEach((msg: any) =&gt; {
          if (msg.severity === 2) totalErrors++;
          if (msg.severity === 1) totalWarnings++;
        });
      }
    });

    return {
      total: results.length,
      errors: totalErrors,
      warnings: totalWarnings,
      files: filesConProblemas
    };
  } catch (error) {
    return {
      total: 0,
      errors: 0,
      warnings: 0,
      files: []
    };
  }
}

const reporte = generarReporte();
console.log("Lint Report:", reporte);
fs.writeFileSync("lint-report.json", JSON.stringify(reporte, null, 2));</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_setup_completo_de_proyecto"><a class="link" href="#_ejemplo_integrado_setup_completo_de_proyecto">Ejemplo Integrado: Setup Completo de Proyecto</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// package.json
{
  "name": "mi-proyecto",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "ts-node --esm src/index.ts",
    "dev:watch": "nodemon --exec ts-node --esm src/index.ts",
    "build": "tsc --project tsconfig.build.json",
    "build:watch": "tsc --project tsconfig.json --watch",
    "type-check": "tsc --noEmit",
    "lint": "eslint src --ext .ts",
    "lint:fix": "eslint src --ext .ts --fix",
    "format": "prettier --write \"src/**/*.ts\"",
    "format:check": "prettier --check \"src/**/*.ts\"",
    "validate": "npm run type-check &amp;&amp; npm run lint &amp;&amp; npm run format:check",
    "clean": "rm -rf dist"
  },
  "devDependencies": {
    "typescript": "^5.0.0",
    "ts-node": "^10.0.0",
    "nodemon": "^3.0.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "eslint": "^8.0.0",
    "prettier": "^3.0.0",
    "husky": "^8.0.0",
    "lint-staged": "^14.0.0"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .eslintrc.json
{
  "env": {"node": true, "es2020": true},
  "extends": [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended"
  ],
  "parser": "@typescript-eslint/parser",
  "plugins": ["@typescript-eslint"],
  "rules": {
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/explicit-function-return-types": "warn"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .prettierrc.json
{
  "semi": true,
  "singleQuote": false,
  "printWidth": 100,
  "tabWidth": 2,
  "trailingComma": "es5"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ES2020",
    "lib": ["ES2020"],
    "moduleResolution": "node",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src"],
  "exclude": ["node_modules", "dist", "**/*.test.ts"]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_13"><a class="link" href="#_ejercicios_propuestos_13">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Configuración personalizada:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear tsconfig.json para:
// - Desarrollo (watch mode, sourcemaps)
// - Producción (optimizado, sin maps)
// Extender configuración base</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Script de build:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">// Crear script que:
// - Limpia dist/
// - Compila TypeScript
// - Corre linting
// - Genera reportes
// - Si todos ok, empaqueta</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Regla ESLint:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear regla personalizada que:
// - Detecta funciones sin tipo de retorno
// - Sugiere agregarlo
// - Aplica fix automático</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Pre-commit validation:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">// Setup con husky:
// - Lint antes de commit
// - Type-check antes de push
// - Format automático en stage
// - Bloquear push si falla</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_14_testing_en_typescript"><a class="link" href="#_módulo_14_testing_en_typescript">Módulo 14: Testing en TypeScript</a></h3>
<div class="paragraph">
<p>El testing es esencial para verificar que el código funciona correctamente. TypeScript proporciona herramientas adicionales para testing más robusto.</p>
</div>
<div class="sect3">
<h4 id="_14_1_configurar_mochachai_con_typescript"><a class="link" href="#_14_1_configurar_mochachai_con_typescript">14.1 Configurar Mocha/Chai con TypeScript</a></h4>
<div class="paragraph">
<p><strong>Mocha</strong> es un framework de testing, y <strong>Chai</strong> proporciona aserciones.</p>
</div>
<div class="sect4">
<h5 id="_setup_inicial"><a class="link" href="#_setup_inicial">Setup inicial</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev mocha chai @types/mocha typescript ts-node</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_archivos_de_configuración"><a class="link" href="#_archivos_de_configuración">Archivos de configuración</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.test.json
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "module": "commonjs",
    "outDir": "./test-dist",
    "types": ["mocha", "node"]
  },
  "include": ["src/**/*", "tests/**/*"]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .mocharc.json
{
  "require": "ts-node/register",
  "extensions": ["ts"],
  "spec": "tests/**/*.test.ts",
  "timeout": 5000,
  "slow": 3000
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// package.json
{
  "scripts": {
    "test": "mocha",
    "test:watch": "mocha --watch --watch-extensions ts",
    "test:reporter": "mocha --reporter html --reporter-options outFile=test-report.html"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_suite_y_tests_básicos"><a class="link" href="#_suite_y_tests_básicos">Suite y tests básicos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tests/calculadora.test.ts
import { expect } from "chai";

// Funciones a probar
function sumar(a: number, b: number): number {
  return a + b;
}

function restar(a: number, b: number): number {
  return a - b;
}

// Suite de tests
describe("Calculadora", () =&gt; {
  describe("Suma", () =&gt; {
    it("debería sumar dos números positivos", () =&gt; {
      const resultado = sumar(5, 3);
      expect(resultado).to.equal(8);
    });

    it("debería sumar números negativos", () =&gt; {
      const resultado = sumar(-5, -3);
      expect(resultado).to.equal(-8);
    });

    it("debería sumar positivo con negativo", () =&gt; {
      const resultado = sumar(5, -3);
      expect(resultado).to.equal(2);
    });
  });

  describe("Resta", () =&gt; {
    it("debería restar dos números", () =&gt; {
      const resultado = restar(5, 3);
      expect(resultado).to.equal(2);
    });

    it("debería manejar restas negativas", () =&gt; {
      const resultado = restar(3, 5);
      expect(resultado).to.equal(-2);
    });
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_aserciones_de_chai"><a class="link" href="#_aserciones_de_chai">Aserciones de Chai</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tests/aserciones.test.ts
import { expect } from "chai";

describe("Aserciones Chai", () =&gt; {
  // Igualdad
  it("debe verificar igualdad", () =&gt; {
    expect(5).to.equal(5);
    expect("texto").to.equal("texto");
    expect([1, 2]).to.deep.equal([1, 2]);
  });

  // Verdad
  it("debe verificar verdad", () =&gt; {
    expect(true).to.be.true;
    expect(false).to.be.false;
    expect(null).to.be.null;
    expect(undefined).to.be.undefined;
  });

  // Tipos
  it("debe verificar tipos", () =&gt; {
    expect(42).to.be.a("number");
    expect("texto").to.be.a("string");
    expect([]).to.be.an("array");
    expect({}).to.be.an("object");
  });

  // Arrays y strings
  it("debe verificar contenido", () =&gt; {
    expect([1, 2, 3]).to.include(2);
    expect("hello").to.include("ell");
    expect({ a: 1, b: 2 }).to.have.property("a");
  });

  // Comparaciones
  it("debe hacer comparaciones", () =&gt; {
    expect(5).to.be.greaterThan(3);
    expect(3).to.be.lessThan(5);
    expect(5).to.be.greaterThanOrEqual(5);
    expect(5).to.be.lengthOf(1); // string length
  });

  // Excepciones
  it("debe detectar excepciones", () =&gt; {
    const fn = () =&gt; {
      throw new Error("Algo salió mal");
    };

    expect(fn).to.throw();
    expect(fn).to.throw(Error);
    expect(fn).to.throw("Algo salió mal");
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_hooks_before_after_etc"><a class="link" href="#_hooks_before_after_etc">Hooks (before, after, etc)</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tests/hooks.test.ts
import { expect } from "chai";

describe("Hooks", () =&gt; {
  // Se ejecuta antes de todos los tests
  before(() =&gt; {
    console.log("Iniciando suite");
  });

  // Se ejecuta después de todos los tests
  after(() =&gt; {
    console.log("Finalizando suite");
  });

  // Se ejecuta antes de cada test
  beforeEach(() =&gt; {
    console.log("Antes de cada test");
  });

  // Se ejecuta después de cada test
  afterEach(() =&gt; {
    console.log("Después de cada test");
  });

  it("test 1", () =&gt; {
    expect(true).to.be.true;
  });

  it("test 2", () =&gt; {
    expect(true).to.be.true;
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ejemplo_práctico_testing_de_clase"><a class="link" href="#_ejemplo_práctico_testing_de_clase">Ejemplo práctico: Testing de clase</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/usuario.ts
export interface UsuarioId {
  id: number;
  nombre: string;
  email: string;
}

export class Repositorio {
  private usuarios: UsuarioId[] = [];
  private idActual = 1;

  crear(nombre: string, email: string): UsuarioId {
    const usuario: UsuarioId = {
      id: this.idActual++,
      nombre,
      email
    };
    this.usuarios.push(usuario);
    return usuario;
  }

  obtener(id: number): UsuarioId | undefined {
    return this.usuarios.find(u =&gt; u.id === id);
  }

  obtenerPorEmail(email: string): UsuarioId | undefined {
    return this.usuarios.find(u =&gt; u.email === email);
  }

  actualizar(id: number, cambios: Partial&lt;UsuarioId&gt;): UsuarioId | undefined {
    const usuario = this.obtener(id);
    if (!usuario) return undefined;

    Object.assign(usuario, cambios);
    return usuario;
  }

  eliminar(id: number): boolean {
    const index = this.usuarios.findIndex(u =&gt; u.id === id);
    if (index &gt; -1) {
      this.usuarios.splice(index, 1);
      return true;
    }
    return false;
  }

  obtenerTodos(): UsuarioId[] {
    return [...this.usuarios];
  }
}

// tests/usuario.test.ts
import { expect } from "chai";
import { Repositorio } from "../src/usuario";

describe("Repositorio de Usuarios", () =&gt; {
  let repositorio: Repositorio;

  beforeEach(() =&gt; {
    repositorio = new Repositorio();
  });

  describe("crear", () =&gt; {
    it("debería crear un usuario con ID único", () =&gt; {
      const usuario = repositorio.crear("Juan", "juan@example.com");
      expect(usuario).to.have.property("id", 1);
      expect(usuario).to.have.property("nombre", "Juan");
    });

    it("debería incrementar ID con cada usuario", () =&gt; {
      const user1 = repositorio.crear("Juan", "juan@example.com");
      const user2 = repositorio.crear("María", "maria@example.com");

      expect(user1.id).to.equal(1);
      expect(user2.id).to.equal(2);
    });
  });

  describe("obtener", () =&gt; {
    it("debería obtener usuario por ID", () =&gt; {
      const creado = repositorio.crear("Juan", "juan@example.com");
      const obtenido = repositorio.obtener(creado.id);

      expect(obtenido).to.deep.equal(creado);
    });

    it("debería retornar undefined si no existe", () =&gt; {
      const resultado = repositorio.obtener(999);
      expect(resultado).to.be.undefined;
    });
  });

  describe("actualizar", () =&gt; {
    it("debería actualizar usuario existente", () =&gt; {
      const creado = repositorio.crear("Juan", "juan@example.com");
      repositorio.actualizar(creado.id, { nombre: "Carlos" });

      const actualizado = repositorio.obtener(creado.id);
      expect(actualizado?.nombre).to.equal("Carlos");
    });
  });

  describe("eliminar", () =&gt; {
    it("debería eliminar usuario existente", () =&gt; {
      const creado = repositorio.crear("Juan", "juan@example.com");
      const resultado = repositorio.eliminar(creado.id);

      expect(resultado).to.be.true;
      expect(repositorio.obtener(creado.id)).to.be.undefined;
    });

    it("debería retornar false si no existe", () =&gt; {
      const resultado = repositorio.eliminar(999);
      expect(resultado).to.be.false;
    });
  });
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_14_2_testing_de_tipos_con_conditional_types"><a class="link" href="#_14_2_testing_de_tipos_con_conditional_types">14.2 Testing de Tipos con Conditional Types</a></h4>
<div class="paragraph">
<p>Verificar que los tipos funcionen correctamente en tiempo de compilación.</p>
</div>
<div class="sect4">
<h5 id="_type_level_testing"><a class="link" href="#_type_level_testing">Type-level testing</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tests/tipos.test.ts

// Helper para testing de tipos
type Expect&lt;T extends true&gt; = T;
type Equals&lt;X, Y&gt; =
  (&lt;T&gt;() =&gt; T extends X ? 1 : 2) extends (&lt;T&gt;() =&gt; T extends Y ? 1 : 2) ? true : false;

// Tests de tipos básicos
type Test1 = Expect&lt;Equals&lt;string, string&gt;&gt;;  // ✓
// type Test2 = Expect&lt;Equals&lt;string, number&gt;&gt;;  // ✗ Error

// Test de tipos genéricos
type ObtenerTipo&lt;T&gt; = T extends string ? "string" :
                      T extends number ? "number" :
                      "otro";

type Test3 = Expect&lt;Equals&lt;ObtenerTipo&lt;"hola"&gt;, "string"&gt;&gt;;  // ✓
type Test4 = Expect&lt;Equals&lt;ObtenerTipo&lt;42&gt;, "number"&gt;&gt;;      // ✓
type Test5 = Expect&lt;Equals&lt;ObtenerTipo&lt;true&gt;, "otro"&gt;&gt;;      // ✓

// Test de tipos con arrays
type ObtenerElemento&lt;T&gt; = T extends (infer E)[] ? E : never;

type Test6 = Expect&lt;Equals&lt;ObtenerElemento&lt;[1, 2, 3]&gt;, number&gt;&gt;;  // ✓
type Test7 = Expect&lt;Equals&lt;ObtenerElemento&lt;string[]&gt;, string&gt;&gt;;   // ✓
type Test8 = Expect&lt;Equals&lt;ObtenerElemento&lt;string&gt;, never&gt;&gt;;      // ✓</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_testing_con_tsd_para_tipos_complejos"><a class="link" href="#_testing_con_tsd_para_tipos_complejos">Testing con tsd para tipos complejos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev tsd</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tipos.ts
export interface Respuesta&lt;T&gt; {
  datos: T;
  estado: "éxito" | "error";
}

export function procesar&lt;T&gt;(entrada: T): Respuesta&lt;T&gt; {
  return {
    datos: entrada,
    estado: "éxito"
  };
}

export type RespuestaExito&lt;T&gt; = Respuesta&lt;T&gt; &amp; { estado: "éxito" };

// tests/tipos.test-d.ts (con tsd)
import { expectType, expectNotType, expectAssignable, expectNotAssignable } from "tsd";
import { Respuesta, procesar, RespuestaExito } from "../tipos";

// Expectativas básicas
expectType&lt;Respuesta&lt;string&gt;&gt;(procesar("test"));
expectType&lt;Respuesta&lt;number&gt;&gt;(procesar(42));

// Chequeos de tipo específico
const respuesta = procesar("test") as Respuesta&lt;string&gt;;
expectType&lt;"éxito" | "error"&gt;(respuesta.estado);
expectNotType&lt;"pendiente"&gt;(respuesta.estado);

// Chequeos asignables
expectAssignable&lt;Respuesta&lt;any&gt;&gt;({ datos: "x", estado: "éxito" });
expectNotAssignable&lt;Respuesta&lt;string&gt;&gt;({ datos: 123, estado: "éxito" });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_14_3_mocking_y_stubbing_en_typescript"><a class="link" href="#_14_3_mocking_y_stubbing_en_typescript">14.3 Mocking y Stubbing en TypeScript</a></h4>
<div class="paragraph">
<p>Reemplazar dependencias para tests aislados.</p>
</div>
<div class="sect4">
<h5 id="_sinon_para_stubbing"><a class="link" href="#_sinon_para_stubbing">Sinon para stubbing</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev sinon @types/sinon</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/notificador.ts
export interface Notificador {
  enviar(email: string, mensaje: string): Promise&lt;boolean&gt;;
}

export class Servicio {
  constructor(private notificador: Notificador) {}

  async registrarUsuario(email: string): Promise&lt;void&gt; {
    const enviado = await this.notificador.enviar(email, "Bienvenido");
    if (!enviado) {
      throw new Error("No se pudo enviar email");
    }
  }
}

// tests/notificador.test.ts
import { expect } from "chai";
import * as sinon from "sinon";
import { Servicio, Notificador } from "../src/notificador";

describe("Servicio con mocking", () =&gt; {
  let stub: sinon.SinonStub;
  let notificador: Notificador;
  let servicio: Servicio;

  beforeEach(() =&gt; {
    notificador = {
      enviar: sinon.stub().resolves(true)
    };
    servicio = new Servicio(notificador);
    stub = notificador.enviar as sinon.SinonStub;
  });

  it("debería registrar usuario e invocar notificador", async () =&gt; {
    await servicio.registrarUsuario("test@example.com");

    expect(stub.calledOnce).to.be.true;
    expect(stub.calledWith("test@example.com", "Bienvenido")).to.be.true;
  });

  it("debería manejar error si notificación falla", async () =&gt; {
    stub.resolves(false);

    try {
      await servicio.registrarUsuario("test@example.com");
      expect.fail("Debería lanzar error");
    } catch (error) {
      expect((error as Error).message).to.include("No se pudo enviar email");
    }
  });

  it("should verify stub call count", () =&gt; {
    stub.callCount === 0 ? null : null;
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_jest_con_mocks"><a class="link" href="#_jest_con_mocks">Jest con mocks</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev jest ts-jest @types/jest</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// jest.config.js
module.exports = {
  preset: "ts-jest",
  testEnvironment: "node",
  testMatch: ["**/__tests__/**/*.ts", "**/?(*.)+(spec|test).ts"]
};</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// tests/api.test.ts (con Jest)
import axios from "axios";

jest.mock("axios");
const mockedAxios = axios as jest.Mocked&lt;typeof axios&gt;;

describe("API Cliente", () =&gt; {
  beforeEach(() =&gt; {
    jest.clearAllMocks();
  });

  it("debería obtener datos de API", async () =&gt; {
    const mockData = { id: 1, nombre: "Juan" };

    mockedAxios.get.mockResolvedValue({ data: mockData });

    const response = await axios.get("/usuarios/1");

    expect(mockedAxios.get).toHaveBeenCalledWith("/usuarios/1");
    expect(response.data).toEqual(mockData);
  });

  it("debería manejar errores de API", async () =&gt; {
    const error = new Error("Network error");
    mockedAxios.get.mockRejectedValue(error);

    await expect(axios.get("/usuarios/999")).rejects.toThrow("Network error");
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_inyección_de_dependencias_para_testing"><a class="link" href="#_inyección_de_dependencias_para_testing">Inyección de dependencias para testing</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/base-datos.ts
export interface BaseDatos {
  conectar(): Promise&lt;void&gt;;
  consultar(sql: string): Promise&lt;any[]&gt;;
  desconectar(): Promise&lt;void&gt;;
}

export class Repositorio {
  constructor(private db: BaseDatos) {}

  async obtenerUsuarios(): Promise&lt;any[]&gt; {
    await this.db.conectar();
    const usuarios = await this.db.consultar("SELECT * FROM usuarios");
    await this.db.desconectar();
    return usuarios;
  }
}

// tests/base-datos.test.ts
import { expect } from "chai";
import { Repositorio, BaseDatos } from "../src/base-datos";

describe("Repositorio con BD MockeadA", () =&gt; {
  let mockDB: BaseDatos;
  let repositorio: Repositorio;

  beforeEach(() =&gt; {
    mockDB = {
      conectar: async () =&gt; {},
      consultar: async () =&gt; [
        { id: 1, nombre: "Juan" },
        { id: 2, nombre: "María" }
      ],
      desconectar: async () =&gt; {}
    };

    repositorio = new Repositorio(mockDB);
  });

  it("debería obtener usuarios de la BD", async () =&gt; {
    const usuarios = await repositorio.obtenerUsuarios();

    expect(usuarios).to.have.lengthOf(2);
    expect(usuarios[0]).to.have.property("nombre", "Juan");
  });
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_14_4_cobertura_de_código"><a class="link" href="#_14_4_cobertura_de_código">14.4 Cobertura de Código</a></h4>
<div class="paragraph">
<p>Medir qué porcentaje del código está siendo probado.</p>
</div>
<div class="sect4">
<h5 id="_configurar_cobertura_con_istanbul"><a class="link" href="#_configurar_cobertura_con_istanbul">Configurar cobertura con Istanbul</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev nyc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .nycrc.json
{
  "all": true,
  "include": ["src/**/*.ts"],
  "exclude": ["**/*.test.ts", "**/*.d.ts"],
  "reporter": ["text", "html", "json"],
  "report-dir": "./coverage",
  "extension": [".ts"]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// package.json
{
  "scripts": {
    "test": "mocha",
    "coverage": "nyc mocha",
    "coverage:report": "nyc report --reporter=html"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interpretar_reportes_de_cobertura"><a class="link" href="#_interpretar_reportes_de_cobertura">Interpretar reportes de cobertura</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Ejecutar tests con cobertura
npm run coverage

# Ver reporte HTML
open coverage/index.html

# Salida típica:
# =============================== Coverage summary =========================
# Statements   : 92.5% ( 185/200 )
# Branches     : 85.0% ( 34/40 )
# Functions    : 90.0% ( 18/20 )
# Lines        : 92.5% ( 185/200 )
# ===========================================================================</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_establecer_umbrales_de_cobertura"><a class="link" href="#_establecer_umbrales_de_cobertura">Establecer umbrales de cobertura</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .nycrc.json
{
  "all": true,
  "check-coverage": true,
  "lines": 80,
  "functions": 80,
  "branches": 75,
  "statements": 80,
  "include": ["src/**/*.ts"],
  "exclude": ["**/*.test.ts"]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_analizar_cobertura_faltante"><a class="link" href="#_analizar_cobertura_faltante">Analizar cobertura faltante</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/validador.ts
export function validarEmail(email: string): boolean {
  if (!email.includes("@")) {
    return false;  // CUBIERTO
  }

  const partes = email.split("@");
  if (partes[1].length &lt; 3) {
    return false;  // NO CUBIERTO por tests
  }

  return true;
}

export function validarEdad(edad: number): boolean {
  if (edad &lt; 0) {
    return false;
  }

  if (edad &gt; 150) {
    return false;  // NO CUBIERTO
  }

  return true;
}

// tests/validador.test.ts
import { expect } from "chai";
import { validarEmail, validarEdad } from "../src/validador";

describe("Validador", () =&gt; {
  it("debe rechazar email sin @", () =&gt; {
    expect(validarEmail("test")).to.be.false;
  });

  it("debe aceptar email válido", () =&gt; {
    expect(validarEmail("test@example.com")).to.be.true;
  });

  it("debe rechazar edad negativa", () =&gt; {
    expect(validarEdad(-5)).to.be.false;
  });

  it("debe aceptar edad válida", () =&gt; {
    expect(validarEdad(30)).to.be.true;
  });

  // Falta: test para edad &gt; 150 y email con dominio corto
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Ver qué líneas no están cubiertas
npm run coverage

# Verá marca "not covered" en líneas 7 y 19</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_usar_badges_de_cobertura"><a class="link" href="#_usar_badges_de_cobertura">Usar badges de cobertura</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-markdown hljs" data-lang="markdown"># Proyecto

![Coverage](https://img.shields.io/badge/coverage-92.5%25-green)
![Tests](https://img.shields.io/badge/tests-42%20passing-green)

## Ejecutar Tests

\`\`\`bash
npm test
\`\`\`</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_testing_completo_de_aplicación"><a class="link" href="#_ejemplo_integrado_testing_completo_de_aplicación">Ejemplo Integrado: Testing Completo de Aplicación</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/carrito.ts
export interface Producto {
  id: string;
  nombre: string;
  precio: number;
  cantidad: number;
}

export class Carrito {
  private items: Producto[] = [];

  agregarProducto(producto: Producto): void {
    const existente = this.items.find(p =&gt; p.id === producto.id);

    if (existente) {
      existente.cantidad += producto.cantidad;
    } else {
      this.items.push({ ...producto });
    }
  }

  removerProducto(id: string): void {
    const index = this.items.findIndex(p =&gt; p.id === id);
    if (index &gt; -1) {
      this.items.splice(index, 1);
    }
  }

  calcularTotal(): number {
    return this.items.reduce(
      (total, p) =&gt; total + p.precio * p.cantidad,
      0
    );
  }

  obtenerItems(): Producto[] {
    return [...this.items];
  }

  vaciar(): void {
    this.items = [];
  }
}

// tests/carrito.test.ts
import { expect } from "chai";
import { Carrito } from "../src/carrito";

describe("Carrito de Compras", () =&gt; {
  let carrito: Carrito;

  beforeEach(() =&gt; {
    carrito = new Carrito();
  });

  describe("agregarProducto", () =&gt; {
    it("debería agregar producto al carrito vacío", () =&gt; {
      carrito.agregarProducto({
        id: "1",
        nombre: "Laptop",
        precio: 1000,
        cantidad: 1
      });

      const items = carrito.obtenerItems();
      expect(items).to.have.lengthOf(1);
      expect(items[0].nombre).to.equal("Laptop");
    });

    it("debería incrementar cantidad si producto existe", () =&gt; {
      carrito.agregarProducto({
        id: "1",
        nombre: "Mouse",
        precio: 25,
        cantidad: 1
      });
      carrito.agregarProducto({
        id: "1",
        nombre: "Mouse",
        precio: 25,
        cantidad: 2
      });

      const items = carrito.obtenerItems();
      expect(items[0].cantidad).to.equal(3);
    });
  });

  describe("calcularTotal", () =&gt; {
    it("debería calcular total correcto", () =&gt; {
      carrito.agregarProducto({ id: "1", nombre: "Laptop", precio: 1000, cantidad: 1 });
      carrito.agregarProducto({ id: "2", nombre: "Mouse", precio: 25, cantidad: 2 });

      const total = carrito.calcularTotal();
      expect(total).to.equal(1050);  // (1000 * 1) + (25 * 2)
    });

    it("debería retornar 0 para carrito vacío", () =&gt; {
      expect(carrito.calcularTotal()).to.equal(0);
    });
  });

  describe("removerProducto", () =&gt; {
    it("debería remover producto existente", () =&gt; {
      carrito.agregarProducto({ id: "1", nombre: "Laptop", precio: 1000, cantidad: 1 });
      carrito.removerProducto("1");

      expect(carrito.obtenerItems()).to.have.lengthOf(0);
    });

    it("no debería fallar al remover inexistente", () =&gt; {
      expect(() =&gt; carrito.removerProducto("99")).to.not.throw();
    });
  });

  describe("vaciar", () =&gt; {
    it("debería vaciar todos los productos", () =&gt; {
      carrito.agregarProducto({ id: "1", nombre: "Laptop", precio: 1000, cantidad: 1 });
      carrito.agregarProducto({ id: "2", nombre: "Mouse", precio: 25, cantidad: 1 });

      carrito.vaciar();

      expect(carrito.obtenerItems()).to.have.lengthOf(0);
      expect(carrito.calcularTotal()).to.equal(0);
    });
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_14"><a class="link" href="#_ejercicios_propuestos_14">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Suite de tests básica:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear clase Contador con:
// - incrementar()
// - decrementar()
// - obtenerValor()
// - reiniciar()
// Escribir tests para todos los métodos</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Async testing:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear función async que:
// - Obtiene datos de API simulada
// - Procesa los datos
// - Retorna resultado
// Tests con Mocha async/await</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Mocking de dependencia:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Clase que depende de Logger
// Logger tiene método log(msg: string)
// Mock Logger en tests
// Verificar que fue llamado correctamente</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Cobertura completa:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Escribir tests para alcanzar &gt;90% cobertura
// Incluir casos edge y errores
// Generar reporte HTML
// Establecer umbrales de cobertura</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_15_rendimiento_y_optimización"><a class="link" href="#_módulo_15_rendimiento_y_optimización">Módulo 15: Rendimiento y Optimización</a></h3>
<div class="paragraph">
<p>La optimización de código TypeScript es crucial para aplicaciones rápidas. Este módulo cubre herramientas y técnicas para mejorar el rendimiento.</p>
</div>
<div class="sect3">
<h4 id="_15_1_análisis_de_performance_del_código_typescript"><a class="link" href="#_15_1_análisis_de_performance_del_código_typescript">15.1 Análisis de Performance del Código TypeScript</a></h4>
<div class="sect4">
<h5 id="_medir_tiempo_de_ejecución"><a class="link" href="#_medir_tiempo_de_ejecución">Medir tiempo de ejecución</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Medición simple
console.time("operación");
// Código a medir
for (let i = 0; i &lt; 1000000; i++) {
  Math.sqrt(i);
}
console.timeEnd("operación");
// Salida: operación: 12.345ms

// Medición más precisa con performance API
import { performance } from "perf_hooks";

const inicio = performance.now();

// Código a medir
for (let i = 0; i &lt; 1000000; i++) {
  Math.sqrt(i);
}

const fin = performance.now();
console.log(`Tiempo: ${(fin - inicio).toFixed(2)}ms`);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_profiling_de_memoria"><a class="link" href="#_profiling_de_memoria">Profiling de memoria</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Monitorear uso de memoria
function mostrarMemoria(): void {
  const mem = process.memoryUsage();
  console.log(`Heap usado: ${Math.round(mem.heapUsed / 1024 / 1024)}MB`);
  console.log(`Heap total: ${Math.round(mem.heapTotal / 1024 / 1024)}MB`);
  console.log(`RSS: ${Math.round(mem.rss / 1024 / 1024)}MB`);
}

// Detectar memory leaks
class CacheSinLimite {
  private cache = new Map&lt;string, any&gt;();

  set(clave: string, valor: any): void {
    this.cache.set(clave, valor);
    // ✗ Sin límite - memory leak potencial
  }

  get(clave: string): any {
    return this.cache.get(clave);
  }
}

// Solución: LRU Cache con límite
class CacheConLimite {
  private cache = new Map&lt;string, any&gt;();
  private readonly maxSize: number;

  constructor(maxSize: number = 100) {
    this.maxSize = maxSize;
  }

  set(clave: string, valor: any): void {
    if (this.cache.has(clave)) {
      this.cache.delete(clave);
    }

    this.cache.set(clave, valor);

    // Si excede límite, eliminar entrada más antigua
    if (this.cache.size &gt; this.maxSize) {
      const primeira = this.cache.keys().next().value;
      this.cache.delete(primeira);
    }
  }

  get(clave: string): any {
    return this.cache.get(clave);
  }
}

// Usar
const cache = new CacheConLimite(50);
for (let i = 0; i &lt; 100; i++) {
  cache.set(`key-${i}`, { data: "valor".repeat(1000) });
}
console.log("Cache limitado a 50 items");</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_benchmarking_de_algoritmos"><a class="link" href="#_benchmarking_de_algoritmos">Benchmarking de algoritmos</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { performance } from "perf_hooks";

function benchmark(
  nombre: string,
  fn: () =&gt; void,
  iteraciones: number = 1000
): void {
  const inicio = performance.now();

  for (let i = 0; i &lt; iteraciones; i++) {
    fn();
  }

  const fin = performance.now();
  const promedio = (fin - inicio) / iteraciones;

  console.log(`${nombre}: ${promedio.toFixed(4)}ms por iteración`);
}

// Comparar algoritmos de búsqueda
function busquedaLineal(array: number[], objetivo: number): boolean {
  for (const item of array) {
    if (item === objetivo) return true;
  }
  return false;
}

function busquedaBinaria(array: number[], objetivo: number): boolean {
  let izq = 0, der = array.length - 1;

  while (izq &lt;= der) {
    const mid = Math.floor((izq + der) / 2);
    if (array[mid] === objetivo) return true;
    if (array[mid] &lt; objetivo) izq = mid + 1;
    else der = mid - 1;
  }
  return false;
}

// Ejecutar benchmark
const array = Array.from({ length: 10000 }, (_, i) =&gt; i);

benchmark("Búsqueda Lineal", () =&gt; {
  busquedaLineal(array, 9999);
}, 100);

benchmark("Búsqueda Binaria", () =&gt; {
  busquedaBinaria(array, 9999);
}, 100);

// Salida:
// Búsqueda Lineal: 0.0450ms por iteración
// Búsqueda Binaria: 0.0010ms por iteración (45x más rápido)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_profiler_node_js"><a class="link" href="#_profiler_node_js">Profiler Node.js</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Usar --prof para generar perfil V8
node --prof app.js

# Procesar archivo .isolate generado
node --prof-process isolate-*.log &gt; perfil.txt

# Ver resultado con herramientas gráficas
# Chrome DevTools: about:inspect</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_identificar_cuellos_de_botella"><a class="link" href="#_identificar_cuellos_de_botella">Identificar cuellos de botella</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">class AnalisisRendimiento {
  private tiempos: Map&lt;string, number[]&gt; = new Map();

  iniciar(clave: string): () =&gt; void {
    const inicio = performance.now();

    return () =&gt; {
      const fin = performance.now();
      const duracion = fin - inicio;

      if (!this.tiempos.has(clave)) {
        this.tiempos.set(clave, []);
      }

      this.tiempos.get(clave)!.push(duracion);
    };
  }

  obtenerReporte(): void {
    console.log("=== Reporte de Rendimiento ===\n");

    for (const [clave, duraciones] of this.tiempos) {
      const promedio = duraciones.reduce((a, b) =&gt; a + b) / duraciones.length;
      const max = Math.max(...duraciones);
      const min = Math.min(...duraciones);

      console.log(`${clave}:`);
      console.log(`  Promedio: ${promedio.toFixed(2)}ms`);
      console.log(`  Min: ${min.toFixed(2)}ms`);
      console.log(`  Max: ${max.toFixed(2)}ms`);
      console.log(`  Llamadas: ${duraciones.length}\n`);
    }
  }
}

// Usar
const analisis = new AnalisisRendimiento();

const timer1 = analisis.iniciar("consulta-bd");
// ... código de consulta
timer1();

const timer2 = analisis.iniciar("procesamiento");
// ... procesamiento
timer2();

analisis.obtenerReporte();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_15_2_optimización_de_tipos_para_compilación"><a class="link" href="#_15_2_optimización_de_tipos_para_compilación">15.2 Optimización de Tipos para Compilación</a></h4>
<div class="sect4">
<h5 id="_impacto_de_tipos_en_compilación"><a class="link" href="#_impacto_de_tipos_en_compilación">Impacto de tipos en compilación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json menos óptimo
{
  "compilerOptions": {
    "skipLibCheck": false,  // ✗ Verifica tipos de librerías
    "noImplicitAny": true,   // ✗ Análisis más lento
    "strictNullChecks": true, // ✗ Más validación
    "target": "ES5"          // ✗ Transpilación más compleja
  }
}

// tsconfig.json optimizado
{
  "compilerOptions": {
    "skipLibCheck": true,     // ✓ Salta verificación de tipos de node_modules
    "noImplicitAny": true,
    "target": "ES2020",       // ✓ Menos transpilación
    "incremental": true,      // ✓ Compilación incremental
    "isolatedModules": true,  // ✓ Módulos independientes
    "declaration": false,     // Si no necesitas .d.ts
    "tsBuildInfoFile": ".tsbuildinfo"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_evitar_any_cuando_es_posible"><a class="link" href="#_evitar_any_cuando_es_posible">Evitar any cuando es posible</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// ✗ Lento - any detiene type checking
function procesarDatos(datos: any): any {
  return datos.propiedad.metodo();
}

// ✓ Rápido - tipos específicos
interface Datos {
  propiedad: {
    metodo(): string;
  };
}

function procesarDatos(datos: Datos): string {
  return datos.propiedad.metodo();
}

// ✓ unknown + type guards también funciona
function procesarDatos(datos: unknown): string {
  if (typeof datos === "object" &amp;&amp; datos !== null &amp;&amp; "propiedad" in datos) {
    return String((datos as any).propiedad.metodo());
  }
  return "";
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_compilación_condicional_basada_en_ambiente"><a class="link" href="#_compilación_condicional_basada_en_ambiente">Compilación condicional basada en ambiente</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// utils.ts
export function log(mensaje: string): void {
  if (process.env.NODE_ENV === "development") {
    console.log(mensaje);
  }
  // En producción, se elimina por tree-shaking
}

// main.ts
import { log } from "./utils";

log("Debug info");  // Solo en desarrollo

// tsconfig.json
{
  "compilerOptions": {
    "define": {
      "DEBUG": false  // Para modo producción
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_modular_architecture_para_compilación_rápida"><a class="link" href="#_modular_architecture_para_compilación_rápida">Modular architecture para compilación rápida</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">src/
  core/
    tsconfig.json (strict)
  utils/
    tsconfig.json (estándar)
  features/
    tsconfig.json (relajado para desarrollo)
    typescript/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// src/core/tsconfig.json
{
  "extends": "../../tsconfig.json",
  "compilerOptions": {
    "strict": true
  },
  "include": ["./**/*.ts"]
}

// src/utils/tsconfig.json
{
  "extends": "../../tsconfig.json",
  "include": ["./**/*.ts"]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_medir_tiempo_de_compilación"><a class="link" href="#_medir_tiempo_de_compilación">Medir tiempo de compilación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Tiempo de compilación
time tsc

# Con estadísticas detalladas
tsc --diagnostics

# Generar perfil de compilación
tsc --extendedDiagnostics &gt; build-stats.txt</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cachés_y_construcciones_incrementales"><a class="link" href="#_cachés_y_construcciones_incrementales">Cachés y construcciones incrementales</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Habilitar compilación incremental
tsc --incremental

# Ver archivo de estado
cat .tsbuildinfo

# Limpiar caché
rm .tsbuildinfo

# Building from clean state
tsc --clean
tsc</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_15_3_tree_shaking_y_código_muerto"><a class="link" href="#_15_3_tree_shaking_y_código_muerto">15.3 Tree-shaking y Código Muerto</a></h4>
<div class="sect4">
<h5 id="_código_eliminado_por_bundlers"><a class="link" href="#_código_eliminado_por_bundlers">Código eliminado por bundlers</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// math.ts
export function sumar(a: number, b: number): number {
  return a + b;
}

export function restar(a: number, b: number): number {
  return a - b;
}

export function funcionNoUsada(): void {
  console.log("Esto nunca se llama");
}

// main.ts
import { sumar } from "./math";

console.log(sumar(5, 3));  // webpack/rollup elimina restar() y funcionNoUsada()

// Bundle resultado (con tree-shaking):
// export function sumar(a, b) { return a + b; }
// console.log(sumar(5, 3));

// Sin tree-shaking el bundle sería más grande</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_exportaciones_nombradas_vs_default"><a class="link" href="#_exportaciones_nombradas_vs_default">Exportaciones nombradas vs default</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// ✗ Default exports no son tan tree-shakeable
export default {
  sumar: (a: number, b: number) =&gt; a + b,
  restar: (a: number, b: number) =&gt; a - b,
  funcionNoUsada: () =&gt; console.log("unused")
};

// ✓ Named exports son mejores para tree-shaking
export const sumar = (a: number, b: number) =&gt; a + b;
export const restar = (a: number, b: number) =&gt; a - b;
export const funcionNoUsada = () =&gt; console.log("unused");

// Usar
import { sumar } from "./math";

// Bundler puede eliminar restar y funcionNoUsada</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_side_effects_en_package_json"><a class="link" href="#_side_effects_en_package_json">Side effects en package.json</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// package.json
{
  "name": "mi-libreria",
  "main": "dist/index.js",
  "module": "dist/index.esm.js",
  "sideEffects": false,  // ✓ Seguro para tree-shaking
  "exports": {
    ".": {
      "import": "./dist/index.esm.js",
      "require": "./dist/index.js"
    }
  }
}

// Si tienes archivos con side effects:
{
  "sideEffects": [
    "./src/polyfills.ts",
    "./src/globals.css"
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_detectar_código_muerto"><a class="link" href="#_detectar_código_muerto">Detectar código muerto</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// src/utils.ts
export function usado(): void {
  console.log("Se usa en main");
}

export function noUsado(): void {
  console.log("Nunca se importa");
}

function privadoNoUsado(): void {
  console.log("Privado, no se exporta");
}

// main.ts
import { usado } from "./utils";

usado();

// TypeScript puede advertir sobre variables no usadas
// Usar: "noUnusedLocals": true en tsconfig.json</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_análisis_de_bundle_size"><a class="link" href="#_análisis_de_bundle_size">Análisis de bundle size</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Instalar herramientas
npm install --save-dev webpack-bundle-analyzer source-map-explorer

# Generar bundle y analizar
webpack &amp;&amp; npx webpack-bundle-analyzer dist/stats.json

# O con source-map-explorer
npm run build
npx source-map-explorer 'dist/**/*.js'

# Ver tamaño de archivos
ls -lh dist/

# Comprimir y medir
gzip -c dist/bundle.js | wc -c</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_optimizar_imports"><a class="link" href="#_optimizar_imports">Optimizar imports</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// ✗ Importar todo - 200KB
import lodash from "lodash";
console.log(lodash.sum([1, 2, 3]));

// ✓ Importar solo lo necesario - 5KB
import { sum } from "lodash-es";
console.log(sum([1, 2, 3]));

// ✓ Mejor aún - usar función nativa
const sum = (arr: number[]) =&gt; arr.reduce((a, b) =&gt; a + b, 0);
console.log(sum([1, 2, 3]));

// Verificar en webpack.config.js
{
  resolve: {
    alias: {
      "lodash-es": "lodash"
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_dynamic_imports_para_code_splitting"><a class="link" href="#_dynamic_imports_para_code_splitting">Dynamic imports para code splitting</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// router.ts
interface Rutas {
  [key: string]: () =&gt; Promise&lt;any&gt;;
}

const rutas: Rutas = {
  home: () =&gt; import("./pages/home"),
  about: () =&gt; import("./pages/about"),
  contact: () =&gt; import("./pages/contact")
};

async function cargarPagina(ruta: string): Promise&lt;void&gt; {
  if (ruta in rutas) {
    const modulo = await rutas[ruta]();
    modulo.render();
  }
}

// Uso
cargarPagina("home");    // Solo descarga home.js
cargarPagina("about");   // Descarga about.js cuando se necesita</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_15_4_debugging_de_código_typescript_compilado"><a class="link" href="#_15_4_debugging_de_código_typescript_compilado">15.4 Debugging de Código TypeScript Compilado</a></h4>
<div class="sect4">
<h5 id="_source_maps"><a class="link" href="#_source_maps">Source maps</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// tsconfig.json
{
  "compilerOptions": {
    "sourceMap": true,
    "sourceRoot": "../src",
    "mapRoot": "../maps"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Compilar con source maps
tsc --sourceMap

# Ver archivo .map generado
cat dist/main.js.map</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_debugging_en_vs_code"><a class="link" href="#_debugging_en_vs_code">Debugging en VS Code</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Program",
      "program": "${workspaceFolder}/dist/index.js",
      "preLaunchTask": "tsc: build",
      "outFiles": ["${workspaceFolder}/dist/**/*.js"],
      "sourceMaps": true
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_chrome_devtools_debugging"><a class="link" href="#_chrome_devtools_debugging">Chrome DevTools debugging</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Ejecutar con inspector
node --inspect dist/main.js

# O en modo break
node --inspect-brk dist/main.js

# Abre chrome://inspect en navegador Chrome
# Haz clic en "inspect"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_debugging_con_breakpoints"><a class="link" href="#_debugging_con_breakpoints">Debugging con breakpoints</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// main.ts
import { calcular } from "./utils";

function procesarDatos(valores: number[]): void {
  // Breakpoint: establecer en línea siguiente
  const resultados = valores.map(v =&gt; calcular(v));

  // Usar debugger; para pausa automática
  debugger;

  console.log(resultados);
}

procesarDatos([1, 2, 3]);

// En DevTools:
// 1. Abre inspector (F12)
// 2. Verás código original TypeScript (no compilado)
// 3. Haz hover sobre variables para ver valores
// 4. Coloca breakpoints haciendo clic</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_logging_estratégico"><a class="link" href="#_logging_estratégico">Logging estratégico</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// logger.ts
enum LogLevel {
  ERROR = 0,
  WARN = 1,
  INFO = 2,
  DEBUG = 3
}

class Logger {
  private nivel: LogLevel = process.env.NODE_ENV === "production"
    ? LogLevel.WARN
    : LogLevel.DEBUG;

  log(nivel: LogLevel, mensaje: string, datos?: any): void {
    if (nivel &lt;= this.nivel) {
      const prefijo = LogLevel[nivel];
      console.log(`[${prefijo}] ${mensaje}`, datos || "");
    }
  }

  error(msg: string, err?: Error): void {
    this.log(LogLevel.ERROR, msg, err?.stack);
  }

  warn(msg: string): void {
    this.log(LogLevel.WARN, msg);
  }

  info(msg: string): void {
    this.log(LogLevel.INFO, msg);
  }

  debug(msg: string, datos?: any): void {
    this.log(LogLevel.DEBUG, msg, datos);
  }
}

export const logger = new Logger();

// Usar
logger.debug("Valor recibido", { entrada: 42 });
logger.error("Falló la operación", new Error("Network error"));</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tracing_de_ejecución"><a class="link" href="#_tracing_de_ejecución">Tracing de ejecución</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">function tracer&lt;T extends (...args: any[]) =&gt; any&gt;(fn: T, nombre?: string): T {
  return ((...args: any[]) =&gt; {
    const nombreFunc = nombre || fn.name || "anónima";
    console.log(`→ ${nombreFunc}(`, args, ")");

    const resultado = fn(...args);

    console.log(`← ${nombreFunc} retorna`, resultado);
    return resultado;
  }) as T;
}

// Usar
const suma = (a: number, b: number) =&gt; a + b;
const sumaTrackeada = tracer(suma, "suma");

sumaTrackeada(5, 3);
// Salida:
// → suma( [ 5, 3 ] )
// ← suma retorna 8</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_profiling_en_producción"><a class="link" href="#_profiling_en_producción">Profiling en producción</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// stats.ts
class EstadisticasProduccion {
  private errores: Map&lt;string, number&gt; = new Map();
  private tiempos: Map&lt;string, number[]&gt; = new Map();

  registrarError(tipo: string): void {
    this.errores.set(tipo, (this.errores.get(tipo) || 0) + 1);
  }

  registrarTiempo(operacion: string, ms: number): void {
    if (!this.tiempos.has(operacion)) {
      this.tiempos.set(operacion, []);
    }
    this.tiempos.get(operacion)!.push(ms);
  }

  obtenerReporte() {
    const reporte = {
      errores: Object.fromEntries(this.errores),
      operaciones: Object.fromEntries(
        Array.from(this.tiempos).map(([op, tiempos]) =&gt; [
          op,
          {
            promedio: tiempos.reduce((a, b) =&gt; a + b) / tiempos.length,
            max: Math.max(...tiempos),
            llamadas: tiempos.length
          }
        ])
      )
    };

    return reporte;
  }

  enviarAAnalytics(): void {
    // Enviar a servicio de monitoreo
    console.log(JSON.stringify(this.obtenerReporte()));
  }
}

export const stats = new EstadisticasProduccion();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_optimización_de_aplicación"><a class="link" href="#_ejemplo_integrado_optimización_de_aplicación">Ejemplo Integrado: Optimización de Aplicación</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// app.ts
import { performance } from "perf_hooks";

class OptimizadorApp {
  private metricas: Map&lt;string, number[]&gt; = new Map();

  async procesarConAnalisis&lt;T&gt;(
    nombre: string,
    fn: () =&gt; Promise&lt;T&gt;
  ): Promise&lt;T&gt; {
    const inicio = performance.now();

    try {
      const resultado = await fn();
      const duracion = performance.now() - inicio;

      this.registrarMetrica(nombre, duracion);

      return resultado;
    } catch (error) {
      const duracion = performance.now() - inicio;
      this.registrarMetrica(`${nombre}-error`, duracion);
      throw error;
    }
  }

  private registrarMetrica(nombre: string, duracion: number): void {
    if (!this.metricas.has(nombre)) {
      this.metricas.set(nombre, []);
    }
    this.metricas.get(nombre)!.push(duracion);
  }

  generarReporte(): void {
    console.log("=== Métricas de Aplicación ===\n");

    for (const [nombre, duraciones] of this.metricas) {
      const promedio = duraciones.reduce((a, b) =&gt; a + b) / duraciones.length;
      console.log(`${nombre}:`);
      console.log(`  Promedio: ${promedio.toFixed(2)}ms`);
      console.log(`  Llamadas: ${duraciones.length}\n`);
    }
  }
}

// Usar
const app = new OptimizadorApp();

const resultado = await app.procesarConAnalisis("carga-datos", async () =&gt; {
  // Simular operación lenta
  await new Promise(resolve =&gt; setTimeout(resolve, 100));
  return { datos: [1, 2, 3] };
});

app.generarReporte();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_15"><a class="link" href="#_ejercicios_propuestos_15">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Benchmarking:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Comparar dos algoritmos:
// - Búsqueda con array.includes()
// - Búsqueda con Set.has()
// Medir tiempo para arrays de diferentes tamaños</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Memory profiling:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear caché sin límite
// Monitorear memoria
// Implementar LRU cache con límite
// Verificar que no tiene memory leak</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Tree-shaking:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear librería con funciones exportadas
// Configurar webpack para tree-shaking
// Importar solo lo necesario
// Medir tamaño del bundle</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Profiling de aplicación:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Agregar medición de tiempo a funciones críticas
// Usar performance API
// Generar reporte de rendimiento
// Identificar cuellos de botella</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_módulo_16_arquitectura_y_escalabilidad"><a class="link" href="#_módulo_16_arquitectura_y_escalabilidad">Módulo 16: Arquitectura y Escalabilidad</a></h3>
<div class="paragraph">
<p>La arquitectura escalable es esencial para aplicaciones TypeScript grandes. Este módulo cubre patrones y herramientas para sistemas complejos.</p>
</div>
<div class="sect3">
<h4 id="_16_1_arquitectura_de_aplicaciones_typescript_grandes"><a class="link" href="#_16_1_arquitectura_de_aplicaciones_typescript_grandes">16.1 Arquitectura de Aplicaciones TypeScript Grandes</a></h4>
<div class="sect4">
<h5 id="_capas_de_la_arquitectura"><a class="link" href="#_capas_de_la_arquitectura">Capas de la arquitectura</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">src/
  presentation/
    controllers/
    views/
    middleware/
  application/
    services/
    dto/
    mappers/
  domain/
    entities/
    interfaces/
    value-objects/
  infrastructure/
    repositories/
    database/
    external-services/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// domain/usuario/usuario.ts
export interface UsuarioId {
  value: string;
}

export class Usuario {
  constructor(
    private id: UsuarioId,
    private nombre: string,
    private email: string
  ) {}

  getId(): UsuarioId {
    return this.id;
  }

  getNombre(): string {
    return this.nombre;
  }

  cambiarNombre(nuevoNombre: string): void {
    if (nuevoNombre.length &lt; 2) {
      throw new Error("Nombre inválido");
    }
    this.nombre = nuevoNombre;
  }

  getEmail(): string {
    return this.email;
  }
}

// application/usuario/crear-usuario.ts
import { Usuario, UsuarioId } from "../../domain/usuario/usuario";
import { RepositorioUsuario } from "../../domain/usuario/repositorio-usuario";

export interface CrearUsuarioInput {
  id: string;
  nombre: string;
  email: string;
}

export class CrearUsuarioServicio {
  constructor(private repositorio: RepositorioUsuario) {}

  async ejecutar(entrada: CrearUsuarioInput): Promise&lt;void&gt; {
    const usuarioId: UsuarioId = { value: entrada.id };
    const usuario = new Usuario(usuarioId, entrada.nombre, entrada.email);

    await this.repositorio.guardar(usuario);
  }
}

// infrastructure/repositorio-usuario-sql.ts
import { RepositorioUsuario } from "../../domain/usuario/repositorio-usuario";
import { Usuario, UsuarioId } from "../../domain/usuario/usuario";

export class RepositorioUsuarioSQL implements RepositorioUsuario {
  async guardar(usuario: Usuario): Promise&lt;void&gt; {
    // Implementación SQL
    console.log(`Guardando usuario: ${usuario.getNombre()}`);
  }

  async obtenerPorId(id: UsuarioId): Promise&lt;Usuario | null&gt; {
    // Implementación SQL
    return null;
  }
}

// presentation/usuario-controller.ts
import { CrearUsuarioServicio } from "../../application/usuario/crear-usuario";

export class UsuarioController {
  constructor(private crearUsuario: CrearUsuarioServicio) {}

  async crear(req: any, res: any): Promise&lt;void&gt; {
    try {
      await this.crearUsuario.ejecutar(req.body);
      res.status(201).json({ mensaje: "Usuario creado" });
    } catch (error) {
      res.status(400).json({ error: (error as Error).message });
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_dependency_injection"><a class="link" href="#_dependency_injection">Dependency Injection</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// container.ts
import { RepositorioUsuarioSQL } from "../infrastructure/repositorio-usuario-sql";
import { CrearUsuarioServicio } from "../application/usuario/crear-usuario";
import { UsuarioController } from "../presentation/usuario-controller";

export class Contenedor {
  private static instancia: Contenedor;
  private servicios: Map&lt;string, any&gt; = new Map();

  private constructor() {
    this.registrarServicios();
  }

  private registrarServicios(): void {
    // Registrar repositorios
    this.servicios.set("repositorio-usuario", new RepositorioUsuarioSQL());

    // Registrar servicios de aplicación
    const repositorio = this.obtener("repositorio-usuario");
    this.servicios.set("crear-usuario", new CrearUsuarioServicio(repositorio));

    // Registrar controladores
    const crearUsuario = this.obtener("crear-usuario");
    this.servicios.set("usuario-controller", new UsuarioController(crearUsuario));
  }

  static obtenerInstancia(): Contenedor {
    if (!Contenedor.instancia) {
      Contenedor.instancia = new Contenedor();
    }
    return Contenedor.instancia;
  }

  obtener&lt;T&gt;(clave: string): T {
    return this.servicios.get(clave);
  }
}

// main.ts
const contenedor = Contenedor.obtenerInstancia();
const controller = contenedor.obtener&lt;UsuarioController&gt;("usuario-controller");</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_manejo_de_errores_en_capas"><a class="link" href="#_manejo_de_errores_en_capas">Manejo de errores en capas</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// domain/errores/usuario-no-encontrado.ts
export class UsuarioNoEncontradoError extends Error {
  constructor(id: string) {
    super(`Usuario ${id} no encontrado`);
    this.name = "UsuarioNoEncontradoError";
  }
}

// domain/errores/email-invalido.ts
export class EmailInvalidoError extends Error {
  constructor(email: string) {
    super(`Email ${email} inválido`);
    this.name = "EmailInvalidoError";
  }
}

// application/usuario/obtener-usuario.ts
import { UsuarioNoEncontradoError } from "../../domain/errores/usuario-no-encontrado";

export class ObtenerUsuarioServicio {
  constructor(private repositorio: RepositorioUsuario) {}

  async ejecutar(id: string): Promise&lt;Usuario&gt; {
    const usuario = await this.repositorio.obtenerPorId({ value: id });

    if (!usuario) {
      throw new UsuarioNoEncontradoError(id);
    }

    return usuario;
  }
}

// presentation/usuario-controller.ts
export class UsuarioController {
  async obtener(req: any, res: any): Promise&lt;void&gt; {
    try {
      const usuario = await this.obtenerUsuario.ejecutar(req.params.id);
      res.json(usuario);
    } catch (error) {
      if (error instanceof UsuarioNoEncontradoError) {
        res.status(404).json({ error: error.message });
      } else {
        res.status(500).json({ error: "Error interno" });
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_eventos_de_dominio"><a class="link" href="#_eventos_de_dominio">Eventos de dominio</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// domain/eventos/evento-dominio.ts
export interface EventoDominio {
  ocurridoEn: Date;
  agregarAlHistorial(): void;
}

// domain/eventos/usuario-creado.ts
export class UsuarioCreadoEvento implements EventoDominio {
  ocurridoEn: Date;

  constructor(
    public usuarioId: string,
    public nombre: string,
    public email: string
  ) {
    this.ocurridoEn = new Date();
  }

  agregarAlHistorial(): void {
    console.log(`Usuario creado: ${this.usuarioId}`);
  }
}

// domain/usuario/usuario.ts
export class Usuario {
  private eventosNoPublicados: EventoDominio[] = [];

  static crear(id: string, nombre: string, email: string): Usuario {
    const usuario = new Usuario({ value: id }, nombre, email);
    usuario.eventosNoPublicados.push(
      new UsuarioCreadoEvento(id, nombre, email)
    );
    return usuario;
  }

  obtenerEventosNoPublicados(): EventoDominio[] {
    return this.eventosNoPublicados;
  }

  limpiarEventos(): void {
    this.eventosNoPublicados = [];
  }
}

// application/publicador-eventos.ts
export interface PublicadorEventos {
  publicar(eventos: EventoDominio[]): Promise&lt;void&gt;;
}

export class CrearUsuarioServicio {
  constructor(
    private repositorio: RepositorioUsuario,
    private publicador: PublicadorEventos
  ) {}

  async ejecutar(entrada: CrearUsuarioInput): Promise&lt;void&gt; {
    const usuario = Usuario.crear(entrada.id, entrada.nombre, entrada.email);
    await this.repositorio.guardar(usuario);
    const eventos = usuario.obtenerEventosNoPublicados();
    await this.publicador.publicar(eventos);
    usuario.limpiarEventos();
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_16_2_shared_libraries_y_monorepos"><a class="link" href="#_16_2_shared_libraries_y_monorepos">16.2 Shared Libraries y Monorepos</a></h4>
<div class="sect4">
<h5 id="_estructura_de_monorepo"><a class="link" href="#_estructura_de_monorepo">Estructura de monorepo</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">monorepo/
  packages/
    core/
      src/
      tsconfig.json
      package.json
    common/
      src/
      tsconfig.json
      package.json
    api/
      src/
      tsconfig.json
      package.json
    web/
      src/
      tsconfig.json
      package.json
  tsconfig.json
  package.json
  lerna.json</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_configurar_lerna_y_pnpm"><a class="link" href="#_configurar_lerna_y_pnpm">Configurar lerna y pnpm</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install -g lerna
lerna init --independent</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "version": "independent",
  "packages": ["packages/*"],
  "npmClient": "npm",
  "command": {
    "publish": {
      "ignoreChanges": ["*.test.ts", "**/*.md"]
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml"># pnpm-workspace.yaml
packages:
  - 'packages/*'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_dependencias_entre_paquetes"><a class="link" href="#_dependencias_entre_paquetes">Dependencias entre paquetes</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "name": "@monorepo/core",
  "version": "1.0.0",
  "main": "dist/index.js",
  "types": "dist/index.d.ts"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { EntityBase } from "@monorepo/core";

export class Servicio extends EntityBase {
  // Extiende clase del paquete core
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_scripts_en_monorepo"><a class="link" href="#_scripts_en_monorepo">Scripts en monorepo</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "scripts": {
    "build": "pnpm -r build",
    "test": "pnpm -r test",
    "lint": "pnpm -r lint"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_16_3_versionado_y_semantic_versioning"><a class="link" href="#_16_3_versionado_y_semantic_versioning">16.3 Versionado y Semantic Versioning</a></h4>
<div class="sect4">
<h5 id="_semver_major_minor_patch"><a class="link" href="#_semver_major_minor_patch">Semver: MAJOR.MINOR.PATCH</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">MAJOR: Cambios incompatibles (breaking changes)
  1.0.0 -&gt; 2.0.0

MINOR: Nuevas funcionalidades compatibles
  1.0.0 -&gt; 1.1.0

PATCH: Fixes de bugs
  1.0.0 -&gt; 1.0.1

Ejemplo: 2.3.5
  2 = MAJOR
  3 = MINOR
  5 = PATCH</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_automatizar_versionado"><a class="link" href="#_automatizar_versionado">Automatizar versionado</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install -g commitizen cz-conventional-changelog
npm install --save-dev @commitlint/config-conventional

commitizen init cz-conventional-changelog --save-dev
git cz commit</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev standard-version

# En package.json
# "scripts": { "release": "standard-version" }

npm run release
# Genera CHANGELOG.md, tags, actualiza version</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_publicar_versión_a_npm"><a class="link" href="#_publicar_versión_a_npm">Publicar versión a npm</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "name": "@mi-org/libreria",
  "version": "1.2.3",
  "publishConfig": { "access": "public" },
  "scripts": { "prepublishOnly": "npm run build &amp;&amp; npm run test" }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm publish
npm publish --tag beta
npm publish --tag alpha
npm view @mi-org/libreria versions</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_16_4_documentación_con_typedoc"><a class="link" href="#_16_4_documentación_con_typedoc">16.4 Documentación con TypeDoc</a></h4>
<div class="sect4">
<h5 id="_configurar_typedoc"><a class="link" href="#_configurar_typedoc">Configurar TypeDoc</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save-dev typedoc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "entryPoints": ["src"],
  "out": "docs",
  "theme": "default",
  "excludePrivate": true,
  "excludeExternals": true,
  "name": "Mi Librería"
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_documentar_código"><a class="link" href="#_documentar_código">Documentar código</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">/**
 * Calcula la suma de dos números
 * @param a - Primer número
 * @param b - Segundo número
 * @returns La suma de a y b
 */
export function sumar(a: number, b: number): number {
  return a + b;
}

/**
 * Clase para gestionar usuarios
 * @example
 * const gestor = new GestorUsuarios(config);
 * const usuario = await gestor.obtener("id-123");
 */
export class GestorUsuarios {
  constructor(private config: ConfiguracionRepositorio) {}

  /**
   * Obtiene un usuario por ID
   * @param id - ID del usuario
   * @returns Promise con los datos del usuario
   * @throws {Error} Si el usuario no existe
   */
  async obtener(id: string): Promise&lt;any&gt; {
    return {};
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generar_documentación"><a class="link" href="#_generar_documentación">Generar documentación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npx typedoc
npx typedoc --out ./api-docs
open docs/index.html</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "scripts": {
    "docs": "typedoc",
    "docs:watch": "typedoc --watch"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_publicar_documentación"><a class="link" href="#_publicar_documentación">Publicar documentación</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm run docs
git checkout --orphan docs
git add docs/
git commit -m "Documentation"
git push -u origin docs</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_integrado_arquitectura_de_microservicios"><a class="link" href="#_ejemplo_integrado_arquitectura_de_microservicios">Ejemplo Integrado: Arquitectura de Microservicios</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// packages/core/src/entity.ts
export abstract class Entity&lt;T&gt; {
  protected id: T;
  constructor(id: T) {
    this.id = id;
  }
  getId(): T {
    return this.id;
  }
}

// packages/usuario/src/usuario.ts
import { Entity } from "@monorepo/core";

export class Usuario extends Entity&lt;string&gt; {
  constructor(
    id: string,
    private nombre: string,
    private email: string
  ) {
    super(id);
  }

  getNombre(): string {
    return this.nombre;
  }

  getEmail(): string {
    return this.email;
  }
}

// packages/usuario/src/servicio.ts
export class ServicioUsuario {
  constructor(private repo: RepositorioUsuario) {}

  async crear(id: string, nombre: string, email: string): Promise&lt;Usuario&gt; {
    const usuario = new Usuario(id, nombre, email);
    await this.repo.guardar(usuario);
    return usuario;
  }

  async obtener(id: string): Promise&lt;Usuario | null&gt; {
    return this.repo.obtenerPorId(id);
  }

  async listar(): Promise&lt;Usuario[]&gt; {
    return this.repo.obtenerTodos();
  }
}

// packages/usuario-api/src/controlador.ts
export class ControladorUsuario {
  constructor(private servicio: ServicioUsuario) {}

  async crear(req: any, res: any): Promise&lt;void&gt; {
    try {
      const usuario = await this.servicio.crear(
        req.body.id,
        req.body.nombre,
        req.body.email
      );
      res.status(201).json(usuario);
    } catch (error) {
      res.status(400).json({ error: (error as Error).message });
    }
  }

  async obtener(req: any, res: any): Promise&lt;void&gt; {
    const usuario = await this.servicio.obtener(req.params.id);
    if (usuario) {
      res.json(usuario);
    } else {
      res.status(404).json({ error: "No encontrado" });
    }
  }

  async listar(req: any, res: any): Promise&lt;void&gt; {
    const usuarios = await this.servicio.listar();
    res.json(usuarios);
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejercicios_propuestos_16"><a class="link" href="#_ejercicios_propuestos_16">Ejercicios Propuestos</a></h4>
<div class="listingblock">
<div class="title">1. Arquitectura por capas:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear aplicación con:
// - Domain: Entidades y lógica de negocio
// - Application: Servicios
// - Infrastructure: Implementaciones
// - Presentation: Controladores
// - Inyectar dependencias</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">2. Monorepo:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">// Setup:
// - Crear estructura de monorepo
// - Crear 3 paquetes (core, utils, api)
// - Establecer dependencias entre paquetes
// - Configurar scripts compartidos</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">3. Versionado:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">// Setup:
// - Instalar commitizen y commitlint
// - Hacer commits convencionales
// - Automatizar bumping de versión
// - Publicar a npm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">4. Documentación:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// Crear:
// - Documentación JSDoc completa
// - Generar HTML con TypeDoc
// - Incluir ejemplos en docs
// - Publicar en GitHub Pages</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_resumen_del_curso"><a class="link" href="#_resumen_del_curso">Resumen del curso</a></h5>
<div class="paragraph">
<p>Este curso ha cubierto TypeScript desde los fundamentos hasta arquitectura avanzada. El dominio de estos conceptos te permitirá:</p>
</div>
<div class="paragraph">
<p>✅ Escribir código type-safe y mantenible
✅ Construir aplicaciones escalables
✅ Colaborar efectivamente en equipos
✅ Resolver problemas complejos con TypeScript
✅ Optimizar rendimiento y usuario experience</p>
</div>
<div class="paragraph">
<p>Continúa practicando, explora proyectos reales, y mantente actualizado con los nuevos features de TypeScript!</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2026-02-24 08:52:22 +0100
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>